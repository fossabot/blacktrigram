(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=e(s);fetch(s.href,l)}})();function jd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Am={exports:{}},dd={};var Ny;function Bb(){if(Ny)return dd;Ny=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var h in s)h!=="key"&&(l[h]=s[h])}else l=s;return s=l.ref,{$$typeof:i,type:n,key:c,ref:s!==void 0?s:null,props:l}}return dd.Fragment=t,dd.jsx=e,dd.jsxs=e,dd}var Uy;function Cb(){return Uy||(Uy=1,Am.exports=Bb()),Am.exports}var w=Cb(),um={exports:{}},fe={};var Oy;function Ib(){if(Oy)return fe;Oy=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),B=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=B&&H[B]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,T={};function S(H,ut,It){this.props=H,this.context=ut,this.refs=T,this.updater=It||x}S.prototype.isReactComponent={},S.prototype.setState=function(H,ut){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ut,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function R(){}R.prototype=S.prototype;function O(H,ut,It){this.props=H,this.context=ut,this.refs=T,this.updater=It||x}var D=O.prototype=new R;D.constructor=O,v(D,S.prototype),D.isPureReactComponent=!0;var F=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function V(H,ut,It,Et,Gt,Kt){return It=Kt.ref,{$$typeof:i,type:H,key:ut,ref:It!==void 0?It:null,props:Kt}}function gt(H,ut){return V(H.type,ut,void 0,void 0,void 0,H.props)}function ht(H){return typeof H=="object"&&H!==null&&H.$$typeof===i}function At(H){var ut={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(It){return ut[It]})}var L=/\/+/g;function Dt(H,ut){return typeof H=="object"&&H!==null&&H.key!=null?At(""+H.key):ut.toString(36)}function Ot(){}function Rt(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Ot,Ot):(H.status="pending",H.then(function(ut){H.status==="pending"&&(H.status="fulfilled",H.value=ut)},function(ut){H.status==="pending"&&(H.status="rejected",H.reason=ut)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ne(H,ut,It,Et,Gt){var Kt=typeof H;(Kt==="undefined"||Kt==="boolean")&&(H=null);var kt=!1;if(H===null)kt=!0;else switch(Kt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(H.$$typeof){case i:case t:kt=!0;break;case y:return kt=H._init,ne(kt(H._payload),ut,It,Et,Gt)}}if(kt)return Gt=Gt(H),kt=Et===""?"."+Dt(H,0):Et,F(Gt)?(It="",kt!=null&&(It=kt.replace(L,"$&/")+"/"),ne(Gt,ut,It,"",function(ui){return ui})):Gt!=null&&(ht(Gt)&&(Gt=gt(Gt,It+(Gt.key==null||H&&H.key===Gt.key?"":(""+Gt.key).replace(L,"$&/")+"/")+kt)),ut.push(Gt)),1;kt=0;var Lt=Et===""?".":Et+":";if(F(H))for(var oe=0;oe<H.length;oe++)Et=H[oe],Kt=Lt+Dt(Et,oe),kt+=ne(Et,ut,It,Kt,Gt);else if(oe=_(H),typeof oe=="function")for(H=oe.call(H),oe=0;!(Et=H.next()).done;)Et=Et.value,Kt=Lt+Dt(Et,oe++),kt+=ne(Et,ut,It,Kt,Gt);else if(Kt==="object"){if(typeof H.then=="function")return ne(Rt(H),ut,It,Et,Gt);throw ut=String(H),Error("Objects are not valid as a React child (found: "+(ut==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ut)+"). If you meant to render a collection of children, use an array instead.")}return kt}function P(H,ut,It){if(H==null)return H;var Et=[],Gt=0;return ne(H,Et,"","",function(Kt){return ut.call(It,Kt,Gt++)}),Et}function Z(H){if(H._status===-1){var ut=H._result;ut=ut(),ut.then(function(It){(H._status===0||H._status===-1)&&(H._status=1,H._result=It)},function(It){(H._status===0||H._status===-1)&&(H._status=2,H._result=It)}),H._status===-1&&(H._status=0,H._result=ut)}if(H._status===1)return H._result.default;throw H._result}var Bt=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ut=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ut))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}};function St(){}return fe.Children={map:P,forEach:function(H,ut,It){P(H,function(){ut.apply(this,arguments)},It)},count:function(H){var ut=0;return P(H,function(){ut++}),ut},toArray:function(H){return P(H,function(ut){return ut})||[]},only:function(H){if(!ht(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},fe.Component=S,fe.Fragment=e,fe.Profiler=s,fe.PureComponent=O,fe.StrictMode=n,fe.Suspense=f,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,fe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return j.H.useMemoCache(H)}},fe.cache=function(H){return function(){return H.apply(null,arguments)}},fe.cloneElement=function(H,ut,It){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Et=v({},H.props),Gt=H.key,Kt=void 0;if(ut!=null)for(kt in ut.ref!==void 0&&(Kt=void 0),ut.key!==void 0&&(Gt=""+ut.key),ut)!$.call(ut,kt)||kt==="key"||kt==="__self"||kt==="__source"||kt==="ref"&&ut.ref===void 0||(Et[kt]=ut[kt]);var kt=arguments.length-2;if(kt===1)Et.children=It;else if(1<kt){for(var Lt=Array(kt),oe=0;oe<kt;oe++)Lt[oe]=arguments[oe+2];Et.children=Lt}return V(H.type,Gt,void 0,void 0,Kt,Et)},fe.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},fe.createElement=function(H,ut,It){var Et,Gt={},Kt=null;if(ut!=null)for(Et in ut.key!==void 0&&(Kt=""+ut.key),ut)$.call(ut,Et)&&Et!=="key"&&Et!=="__self"&&Et!=="__source"&&(Gt[Et]=ut[Et]);var kt=arguments.length-2;if(kt===1)Gt.children=It;else if(1<kt){for(var Lt=Array(kt),oe=0;oe<kt;oe++)Lt[oe]=arguments[oe+2];Gt.children=Lt}if(H&&H.defaultProps)for(Et in kt=H.defaultProps,kt)Gt[Et]===void 0&&(Gt[Et]=kt[Et]);return V(H,Kt,void 0,void 0,null,Gt)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(H){return{$$typeof:h,render:H}},fe.isValidElement=ht,fe.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:Z}},fe.memo=function(H,ut){return{$$typeof:p,type:H,compare:ut===void 0?null:ut}},fe.startTransition=function(H){var ut=j.T,It={};j.T=It;try{var Et=H(),Gt=j.S;Gt!==null&&Gt(It,Et),typeof Et=="object"&&Et!==null&&typeof Et.then=="function"&&Et.then(St,Bt)}catch(Kt){Bt(Kt)}finally{j.T=ut}},fe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},fe.use=function(H){return j.H.use(H)},fe.useActionState=function(H,ut,It){return j.H.useActionState(H,ut,It)},fe.useCallback=function(H,ut){return j.H.useCallback(H,ut)},fe.useContext=function(H){return j.H.useContext(H)},fe.useDebugValue=function(){},fe.useDeferredValue=function(H,ut){return j.H.useDeferredValue(H,ut)},fe.useEffect=function(H,ut,It){var Et=j.H;if(typeof It=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Et.useEffect(H,ut)},fe.useId=function(){return j.H.useId()},fe.useImperativeHandle=function(H,ut,It){return j.H.useImperativeHandle(H,ut,It)},fe.useInsertionEffect=function(H,ut){return j.H.useInsertionEffect(H,ut)},fe.useLayoutEffect=function(H,ut){return j.H.useLayoutEffect(H,ut)},fe.useMemo=function(H,ut){return j.H.useMemo(H,ut)},fe.useOptimistic=function(H,ut){return j.H.useOptimistic(H,ut)},fe.useReducer=function(H,ut,It){return j.H.useReducer(H,ut,It)},fe.useRef=function(H){return j.H.useRef(H)},fe.useState=function(H){return j.H.useState(H)},fe.useSyncExternalStore=function(H,ut,It){return j.H.useSyncExternalStore(H,ut,It)},fe.useTransition=function(){return j.H.useTransition()},fe.version="19.1.0",fe}var Hy;function Ep(){return Hy||(Hy=1,um.exports=Ib()),um.exports}var pt=Ep();const pE=jd(pt);var cm={exports:{}},fd={},hm={exports:{}},dm={};var ky;function _b(){return ky||(ky=1,function(i){function t(P,Z){var Bt=P.length;P.push(Z);t:for(;0<Bt;){var St=Bt-1>>>1,H=P[St];if(0<s(H,Z))P[St]=Z,P[Bt]=H,Bt=St;else break t}}function e(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var Z=P[0],Bt=P.pop();if(Bt!==Z){P[0]=Bt;t:for(var St=0,H=P.length,ut=H>>>1;St<ut;){var It=2*(St+1)-1,Et=P[It],Gt=It+1,Kt=P[Gt];if(0>s(Et,Bt))Gt<H&&0>s(Kt,Et)?(P[St]=Kt,P[Gt]=Bt,St=Gt):(P[St]=Et,P[It]=Bt,St=It);else if(Gt<H&&0>s(Kt,Bt))P[St]=Kt,P[Gt]=Bt,St=Gt;else break t}}return Z}function s(P,Z){var Bt=P.sortIndex-Z.sortIndex;return Bt!==0?Bt:P.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var f=[],p=[],y=1,B=null,_=3,x=!1,v=!1,T=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function F(P){for(var Z=e(p);Z!==null;){if(Z.callback===null)n(p);else if(Z.startTime<=P)n(p),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=e(p)}}function j(P){if(T=!1,F(P),!v)if(e(f)!==null)v=!0,$||($=!0,Dt());else{var Z=e(p);Z!==null&&ne(j,Z.startTime-P)}}var $=!1,V=-1,gt=5,ht=-1;function At(){return S?!0:!(i.unstable_now()-ht<gt)}function L(){if(S=!1,$){var P=i.unstable_now();ht=P;var Z=!0;try{t:{v=!1,T&&(T=!1,O(V),V=-1),x=!0;var Bt=_;try{e:{for(F(P),B=e(f);B!==null&&!(B.expirationTime>P&&At());){var St=B.callback;if(typeof St=="function"){B.callback=null,_=B.priorityLevel;var H=St(B.expirationTime<=P);if(P=i.unstable_now(),typeof H=="function"){B.callback=H,F(P),Z=!0;break e}B===e(f)&&n(f),F(P)}else n(f);B=e(f)}if(B!==null)Z=!0;else{var ut=e(p);ut!==null&&ne(j,ut.startTime-P),Z=!1}}break t}finally{B=null,_=Bt,x=!1}Z=void 0}}finally{Z?Dt():$=!1}}}var Dt;if(typeof D=="function")Dt=function(){D(L)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Rt=Ot.port2;Ot.port1.onmessage=L,Dt=function(){Rt.postMessage(null)}}else Dt=function(){R(L,0)};function ne(P,Z){V=R(function(){P(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P||(gt=0<P?Math.floor(1e3/P):5)},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(P){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var Bt=_;_=Z;try{return P()}finally{_=Bt}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function(P,Z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Bt=_;_=P;try{return Z()}finally{_=Bt}},i.unstable_scheduleCallback=function(P,Z,Bt){var St=i.unstable_now();switch(typeof Bt=="object"&&Bt!==null?(Bt=Bt.delay,Bt=typeof Bt=="number"&&0<Bt?St+Bt:St):Bt=St,P){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Bt+H,P={id:y++,callback:Z,priorityLevel:P,startTime:Bt,expirationTime:H,sortIndex:-1},Bt>St?(P.sortIndex=Bt,t(p,P),e(f)===null&&P===e(p)&&(T?(O(V),V=-1):T=!0,ne(j,Bt-St))):(P.sortIndex=H,t(f,P),v||x||(v=!0,$||($=!0,Dt()))),P},i.unstable_shouldYield=At,i.unstable_wrapCallback=function(P){var Z=_;return function(){var Bt=_;_=Z;try{return P.apply(this,arguments)}finally{_=Bt}}}}(dm)),dm}var Ly;function xb(){return Ly||(Ly=1,hm.exports=_b()),hm.exports}var fm={exports:{}},Vn={};var Fy;function Qb(){if(Fy)return Vn;Fy=1;var i=Ep();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,p,y){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:B==null?null:""+B,children:f,containerInfo:p,implementation:y}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Vn.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,y)},Vn.flushSync=function(f){var p=c.T,y=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=p,n.p=y,n.d.f()}},Vn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(f,p))},Vn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Vn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,B=h(y,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?n.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:B,integrity:_,fetchPriority:x}):y==="script"&&n.d.X(f,{crossOrigin:B,integrity:_,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);n.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(f)},Vn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,B=h(y,p.crossOrigin);n.d.L(f,y,{crossOrigin:B,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vn.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);n.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(f)},Vn.requestFormReset=function(f){n.d.r(f)},Vn.unstable_batchedUpdates=function(f,p){return f(p)},Vn.useFormState=function(f,p,y){return c.H.useFormState(f,p,y)},Vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vn.version="19.1.0",Vn}var Py;function vb(){if(Py)return fm.exports;Py=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch{}}return i(),fm.exports=Qb(),fm.exports}var zy;function bb(){if(zy)return fd;zy=1;var i=xb(),t=Ep(),e=vb();function n(a){var r="https://react.dev/errors/"+a;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var r=a,u=a;if(a.alternate)for(;r.return;)r=r.return;else{a=r;do r=a,(r.flags&4098)!==0&&(u=r.return),a=r.return;while(a)}return r.tag===3?u:null}function c(a){if(a.tag===13){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function h(a){if(l(a)!==a)throw Error(n(188))}function f(a){var r=a.alternate;if(!r){if(r=l(a),r===null)throw Error(n(188));return r!==a?null:a}for(var u=a,d=r;;){var m=u.return;if(m===null)break;var C=m.alternate;if(C===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===C.child){for(C=m.child;C;){if(C===u)return h(m),a;if(C===d)return h(m),r;C=C.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=C;else{for(var b=!1,N=m.child;N;){if(N===u){b=!0,u=m,d=C;break}if(N===d){b=!0,d=m,u=C;break}N=N.sibling}if(!b){for(N=C.child;N;){if(N===u){b=!0,u=C,d=m;break}if(N===d){b=!0,d=C,u=m;break}N=N.sibling}if(!b)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:r}function p(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a;for(a=a.child;a!==null;){if(r=p(a),r!==null)return r;a=a.sibling}return null}var y=Object.assign,B=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),ht=Symbol.for("react.activity"),At=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function Dt(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var Ot=Symbol.for("react.client.reference");function Rt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Ot?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case v:return"Fragment";case S:return"Profiler";case T:return"StrictMode";case j:return"Suspense";case $:return"SuspenseList";case ht:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case D:return(a.displayName||"Context")+".Provider";case O:return(a._context.displayName||"Context")+".Consumer";case F:var r=a.render;return a=a.displayName,a||(a=r.displayName||r.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case V:return r=a.displayName||null,r!==null?r:Rt(a.type)||"Memo";case gt:r=a._payload,a=a._init;try{return Rt(a(r))}catch{}}return null}var ne=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Bt={pending:!1,data:null,method:null,action:null},St=[],H=-1;function ut(a){return{current:a}}function It(a){0>H||(a.current=St[H],St[H]=null,H--)}function Et(a,r){H++,St[H]=a.current,a.current=r}var Gt=ut(null),Kt=ut(null),kt=ut(null),Lt=ut(null);function oe(a,r){switch(Et(kt,r),Et(Kt,a),Et(Gt,null),r.nodeType){case 9:case 11:a=(a=r.documentElement)&&(a=a.namespaceURI)?Ay(a):0;break;default:if(a=r.tagName,r=r.namespaceURI)r=Ay(r),a=uy(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}It(Gt),Et(Gt,a)}function ui(){It(Gt),It(Kt),It(kt)}function wn(a){a.memoizedState!==null&&Et(Lt,a);var r=Gt.current,u=uy(r,a.type);r!==u&&(Et(Kt,a),Et(Gt,u))}function Fi(a){Kt.current===a&&(It(Gt),It(Kt)),Lt.current===a&&(It(Lt),ld._currentValue=Bt)}var pe=Object.prototype.hasOwnProperty,Ke=i.unstable_scheduleCallback,_i=i.unstable_cancelCallback,Pi=i.unstable_shouldYield,mn=i.unstable_requestPaint,ii=i.unstable_now,ma=i.unstable_getCurrentPriorityLevel,Gs=i.unstable_ImmediatePriority,Gn=i.unstable_UserBlockingPriority,Nn=i.unstable_NormalPriority,uA=i.unstable_LowPriority,tl=i.unstable_IdlePriority,cA=i.log,hA=i.unstable_setDisableYieldValue,ho=null,zi=null;function Jn(a){if(typeof cA=="function"&&hA(a),zi&&typeof zi.setStrictMode=="function")try{zi.setStrictMode(ho,a)}catch{}}var Di=Math.clz32?Math.clz32:fo,fr=Math.log,gr=Math.LN2;function fo(a){return a>>>=0,a===0?32:31-(fr(a)/gr|0)|0}var Wi=256,Yi=4194304;function An(a){var r=a&42;if(r!==0)return r;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function En(a,r,u){var d=a.pendingLanes;if(d===0)return 0;var m=0,C=a.suspendedLanes,b=a.pingedLanes;a=a.warmLanes;var N=d&134217727;return N!==0?(d=N&~C,d!==0?m=An(d):(b&=N,b!==0?m=An(b):u||(u=N&~a,u!==0&&(m=An(u))))):(N=d&~C,N!==0?m=An(N):b!==0?m=An(b):u||(u=d&~a,u!==0&&(m=An(u)))),m===0?0:r!==0&&r!==m&&(r&C)===0&&(C=m&-m,u=r&-r,C>=u||C===32&&(u&4194048)!==0)?r:m}function Wn(a,r){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&r)===0}function yn(a,r){switch(a){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(){var a=Wi;return Wi<<=1,(Wi&4194048)===0&&(Wi=256),a}function Ea(){var a=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),a}function ss(a){for(var r=[],u=0;31>u;u++)r.push(a);return r}function pr(a,r){a.pendingLanes|=r,r!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function el(a,r,u,d,m,C){var b=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var N=a.entanglements,z=a.expirationTimes,at=a.hiddenUpdates;for(u=b&~u;0<u;){var ft=31-Di(u),yt=1<<ft;N[ft]=0,z[ft]=-1;var rt=at[ft];if(rt!==null)for(at[ft]=null,ft=0;ft<rt.length;ft++){var ot=rt[ft];ot!==null&&(ot.lane&=-536870913)}u&=~yt}d!==0&&po(a,d,0),C!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=C&~(b&~r))}function po(a,r,u){a.pendingLanes|=r,a.suspendedLanes&=~r;var d=31-Di(r);a.entangledLanes|=r,a.entanglements[d]=a.entanglements[d]|1073741824|u&4194090}function dA(a,r){var u=a.entangledLanes|=r;for(a=a.entanglements;u;){var d=31-Di(u),m=1<<d;m&r|a[d]&r&&(a[d]|=r),u&=~m}}function mr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ns(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Bn(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:Ty(a.type))}function Cu(a,r){var u=Z.p;try{return Z.p=a,r()}finally{Z.p=u}}var ka=Math.random().toString(36).slice(2),Ue="__reactFiber$"+ka,Mi="__reactProps$"+ka,Zn="__reactContainer$"+ka,Un="__reactEvents$"+ka,il="__reactListeners$"+ka,ya="__reactHandles$"+ka,On="__reactResources$"+ka,rs="__reactMarker$"+ka;function Ze(a){delete a[Ue],delete a[Mi],delete a[Un],delete a[il],delete a[ya]}function os(a){var r=a[Ue];if(r)return r;for(var u=a.parentNode;u;){if(r=u[Zn]||u[Ue]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(a=fy(a);a!==null;){if(u=a[Ue])return u;a=fy(a)}return r}a=u,u=a.parentNode}return null}function ls(a){if(a=a[Ue]||a[Zn]){var r=a.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return a}return null}function Er(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a.stateNode;throw Error(n(33))}function Us(a){var r=a[On];return r||(r=a[On]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xi(a){a[rs]=!0}var nl=new Set,al={};function Ba(a,r){ni(a,r),ni(a+"Capture",r)}function ni(a,r){for(al[a]=r,a=0;a<r.length;a++)nl.add(r[a])}var ci=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yr={},Br={};function fA(a){return pe.call(Br,a)?!0:pe.call(yr,a)?!1:ci.test(a)?Br[a]=!0:(yr[a]=!0,!1)}function Cn(a,r,u){if(fA(r))if(u===null)a.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(r);return}}a.setAttribute(r,""+u)}}function Ca(a,r,u){if(u===null)a.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(r);return}a.setAttribute(r,""+u)}}function $n(a,r,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(r,u,""+d)}}var mo,sl;function La(a){if(mo===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);mo=r&&r[1]||"",sl=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mo+a+sl}var Hn=!1;function Os(a,r){if(!a||Hn)return"";Hn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(ot){var rt=ot}Reflect.construct(a,[],yt)}else{try{yt.call()}catch(ot){rt=ot}a.call(yt.prototype)}}else{try{throw Error()}catch(ot){rt=ot}(yt=a())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(ot){if(ot&&rt&&typeof ot.stack=="string")return[ot.stack,rt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=d.DetermineComponentFrameRoot(),b=C[0],N=C[1];if(b&&N){var z=b.split(`
`),at=N.split(`
`);for(m=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;m<at.length&&!at[m].includes("DetermineComponentFrameRoot");)m++;if(d===z.length||m===at.length)for(d=z.length-1,m=at.length-1;1<=d&&0<=m&&z[d]!==at[m];)m--;for(;1<=d&&0<=m;d--,m--)if(z[d]!==at[m]){if(d!==1||m!==1)do if(d--,m--,0>m||z[d]!==at[m]){var ft=`
`+z[d].replace(" at new "," at ");return a.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",a.displayName)),ft}while(1<=d&&0<=m);break}}}finally{Hn=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?La(u):""}function gA(a){switch(a.tag){case 26:case 27:case 5:return La(a.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 15:return Os(a.type,!1);case 11:return Os(a.type.render,!1);case 1:return Os(a.type,!0);case 31:return La("Activity");default:return""}}function M(a){try{var r="";do r+=gA(a),a=a.return;while(a);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function G(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function K(a){var r=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function W(a){var r=K(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,r),d=""+a[r];if(!a.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,C=u.set;return Object.defineProperty(a,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){d=""+b,C.call(this,b)}}),Object.defineProperty(a,r,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){a._valueTracker=null,delete a[r]}}}}function it(a){a._valueTracker||(a._valueTracker=W(a))}function ct(a){if(!a)return!1;var r=a._valueTracker;if(!r)return!0;var u=r.getValue(),d="";return a&&(d=K(a)?a.checked?"true":"false":a.value),a=d,a!==u?(r.setValue(a),!0):!1}function Ct(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var _t=/[\n"\\]/g;function xt(a){return a.replace(_t,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vt(a,r,u,d,m,C,b,N){a.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?a.type=b:a.removeAttribute("type"),r!=null?b==="number"?(r===0&&a.value===""||a.value!=r)&&(a.value=""+G(r)):a.value!==""+G(r)&&(a.value=""+G(r)):b!=="submit"&&b!=="reset"||a.removeAttribute("value"),r!=null?Pt(a,b,G(r)):u!=null?Pt(a,b,G(u)):d!=null&&a.removeAttribute("value"),m==null&&C!=null&&(a.defaultChecked=!!C),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.name=""+G(N):a.removeAttribute("name")}function wt(a,r,u,d,m,C,b,N){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),r!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||r!=null))return;u=u!=null?""+G(u):"",r=r!=null?""+G(r):u,N||r===a.value||(a.value=r),a.defaultValue=r}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=N?a.checked:!!d,a.defaultChecked=!!d,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.name=b)}function Pt(a,r,u){r==="number"&&Ct(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function he(a,r,u,d){if(a=a.options,r){r={};for(var m=0;m<u.length;m++)r["$"+u[m]]=!0;for(u=0;u<a.length;u++)m=r.hasOwnProperty("$"+a[u].value),a[u].selected!==m&&(a[u].selected=m),m&&d&&(a[u].defaultSelected=!0)}else{for(u=""+G(u),r=null,m=0;m<a.length;m++){if(a[m].value===u){a[m].selected=!0,d&&(a[m].defaultSelected=!0);return}r!==null||a[m].disabled||(r=a[m])}r!==null&&(r.selected=!0)}}function ri(a,r,u){if(r!=null&&(r=""+G(r),r!==a.value&&(a.value=r),u==null)){a.defaultValue!==r&&(a.defaultValue=r);return}a.defaultValue=u!=null?""+G(u):""}function xe(a,r,u,d){if(r==null){if(d!=null){if(u!=null)throw Error(n(92));if(ne(d)){if(1<d.length)throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),r=u}u=G(r),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d)}function $e(a,r){if(r){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=r;return}}a.textContent=r}var kn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fa(a,r,u){var d=r.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(r,""):r==="float"?a.cssFloat="":a[r]="":d?a.setProperty(r,u):typeof u!="number"||u===0||kn.has(r)?r==="float"?a.cssFloat=u:a[r]=(""+u).trim():a[r]=u+"px"}function In(a,r,u){if(r!=null&&typeof r!="object")throw Error(n(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var m in r)d=r[m],r.hasOwnProperty(m)&&u[m]!==d&&Fa(a,m,d)}else for(var C in r)r.hasOwnProperty(C)&&Fa(a,C,r[C])}function Eo(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pA(a){return tf.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Iu=null;function _u(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Cr=null,yo=null;function eh(a){var r=ls(a);if(r&&(a=r.stateNode)){var u=a[Mi]||null;t:switch(a=r.stateNode,r.type){case"input":if(vt(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),r=u.name,u.type==="radio"&&r!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+xt(""+r)+'"][type="radio"]'),r=0;r<u.length;r++){var d=u[r];if(d!==a&&d.form===a.form){var m=d[Mi]||null;if(!m)throw Error(n(90));vt(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<u.length;r++)d=u[r],d.form===a.form&&ct(d)}break t;case"textarea":ri(a,u.value,u.defaultValue);break t;case"select":r=u.value,r!=null&&he(a,!!u.multiple,r,!1)}}}var mA=!1;function ih(a,r,u){if(mA)return a(r,u);mA=!0;try{var d=a(r);return d}finally{if(mA=!1,(Cr!==null||yo!==null)&&(xs(),Cr&&(r=Cr,a=yo,yo=Cr=null,eh(r),a)))for(r=0;r<a.length;r++)eh(a[r])}}function ol(a,r){var u=a.stateNode;if(u===null)return null;var d=u[Mi]||null;if(d===null)return null;u=d[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break t;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,r,typeof u));return u}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),EA=!1;if(As)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){EA=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{EA=!1}var Hs=null,nh=null,xu=null;function ah(){if(xu)return xu;var a,r=nh,u=r.length,d,m="value"in Hs?Hs.value:Hs.textContent,C=m.length;for(a=0;a<u&&r[a]===m[a];a++);var b=u-a;for(d=1;d<=b&&r[u-d]===m[C-d];d++);return xu=m.slice(a,1<d?1-d:void 0)}function Ir(a){var r=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&r===13&&(a=13)):a=r,a===10&&(a=13),32<=a||a===13?a:0}function Al(){return!0}function yA(){return!1}function _n(a){function r(u,d,m,C,b){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=C,this.target=b,this.currentTarget=null;for(var N in a)a.hasOwnProperty(N)&&(u=a[N],this[N]=u?u(C):C[N]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Al:yA,this.isPropagationStopped=yA,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),r}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=_n(_r),cl=y({},_r,{view:0,detail:0}),ef=_n(cl),ks,hl,dl,fl=y({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:CA,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==dl&&(dl&&a.type==="mousemove"?(ks=a.screenX-dl.screenX,hl=a.screenY-dl.screenY):hl=ks=0,dl=a),ks)},movementY:function(a){return"movementY"in a?a.movementY:hl}}),sh=_n(fl),nf=y({},fl,{dataTransfer:0}),bp=_n(nf),Zi=y({},cl,{relatedTarget:0}),Qu=_n(Zi),af=y({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),sf=_n(af),rf=y({},_r,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),of=_n(rf),BA=y({},_r,{data:0}),vu=_n(BA),lf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(a){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(a):(a=uf[a])?!!r[a]:!1}function CA(){return rh}var cf=y({},cl,{key:function(a){if(a.key){var r=lf[a.key]||a.key;if(r!=="Unidentified")return r}return a.type==="keypress"?(a=Ir(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Af[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:CA,charCode:function(a){return a.type==="keypress"?Ir(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ir(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),oh=_n(cf),lh=y({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=_n(lh),hf=y({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:CA}),Ah=_n(hf),df=y({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ls=_n(df),uh=y({},fl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Sp=_n(uh),ff=y({},_r,{newState:0,oldState:0}),xr=_n(ff),Fs=[9,13,27,32],IA=As&&"CompositionEvent"in window,Bo=null;As&&"documentMode"in document&&(Bo=document.documentMode);var _A=As&&"TextEvent"in window&&!Bo,xA=As&&(!IA||Bo&&8<Bo&&11>=Bo),Qr=" ",$i=!1;function QA(a,r){switch(a){case"keyup":return Fs.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ch(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var vr=!1;function vA(a,r){switch(a){case"compositionend":return ch(r);case"keypress":return r.which!==32?null:($i=!0,Qr);case"textInput":return a=r.data,a===Qr&&$i?null:a;default:return null}}function hh(a,r){if(vr)return a==="compositionend"||!IA&&QA(a,r)?(a=ah(),xu=nh=Hs=null,vr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xA&&r.locale!=="ko"?null:r.data;default:return null}}var Su={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r==="input"?!!Su[a.type]:r==="textarea"}function Ln(a,r,u,d){Cr?yo?yo.push(d):yo=[d]:Cr=d,r=dg(r,"onChange"),0<r.length&&(u=new ul("onChange","change",null,u,d),a.push({event:u,listeners:r}))}var gl=null,Co=null;function gf(a){ay(a,0)}function bA(a){var r=Er(a);if(ct(r))return a}function Tu(a,r){if(a==="change")return r}var Ru=!1;if(As){var Du;if(As){var pl="oninput"in document;if(!pl){var ml=document.createElement("div");ml.setAttribute("oninput","return;"),pl=typeof ml.oninput=="function"}Du=pl}else Du=!1;Ru=Du&&(!document.documentMode||9<document.documentMode)}function ai(){gl&&(gl.detachEvent("onpropertychange",pf),Co=gl=null)}function pf(a){if(a.propertyName==="value"&&bA(Co)){var r=[];Ln(r,Co,a,_u(a)),ih(gf,r)}}function Tp(a,r,u){a==="focusin"?(ai(),gl=r,Co=u,gl.attachEvent("onpropertychange",pf)):a==="focusout"&&ai()}function mf(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return bA(Co)}function SA(a,r){if(a==="click")return bA(r)}function br(a,r){if(a==="input"||a==="change")return bA(r)}function Ef(a,r){return a===r&&(a!==0||1/a===1/r)||a!==a&&r!==r}var Fn=typeof Object.is=="function"?Object.is:Ef;function Pa(a,r){if(Fn(a,r))return!0;if(typeof a!="object"||a===null||typeof r!="object"||r===null)return!1;var u=Object.keys(a),d=Object.keys(r);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!pe.call(r,m)||!Fn(a[m],r[m]))return!1}return!0}function Pn(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function fh(a,r){var u=Pn(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=r&&d>=r)return{node:u,offset:r-a};a=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Pn(u)}}function gh(a,r){return a&&r?a===r?!0:a&&a.nodeType===3?!1:r&&r.nodeType===3?gh(a,r.parentNode):"contains"in a?a.contains(r):a.compareDocumentPosition?!!(a.compareDocumentPosition(r)&16):!1:!1}function ph(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var r=Ct(a.document);r instanceof a.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)a=r.contentWindow;else break;r=Ct(a.document)}return r}function TA(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r&&(r==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||r==="textarea"||a.contentEditable==="true")}var mh=As&&"documentMode"in document&&11>=document.documentMode,Ps=null,Mu=null,RA=null,wu=!1;function Eh(a,r,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;wu||Ps==null||Ps!==Ct(d)||(d=Ps,"selectionStart"in d&&TA(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),RA&&Pa(RA,d)||(RA=d,d=dg(Mu,"onSelect"),0<d.length&&(r=new ul("onSelect","select",null,r,u),a.push({event:r,listeners:d}),r.target=Ps)))}function tn(a,r){var u={};return u[a.toLowerCase()]=r.toLowerCase(),u["Webkit"+a]="webkit"+r,u["Moz"+a]="moz"+r,u}var Sr={animationend:tn("Animation","AnimationEnd"),animationiteration:tn("Animation","AnimationIteration"),animationstart:tn("Animation","AnimationStart"),transitionrun:tn("Transition","TransitionRun"),transitionstart:tn("Transition","TransitionStart"),transitioncancel:tn("Transition","TransitionCancel"),transitionend:tn("Transition","TransitionEnd")},Gu={},yf={};As&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function zs(a){if(Gu[a])return Gu[a];if(!Sr[a])return a;var r=Sr[a],u;for(u in r)if(r.hasOwnProperty(u)&&u in yf)return Gu[a]=r[u];return a}var xn=zs("animationend"),yh=zs("animationiteration"),zn=zs("animationstart"),Bf=zs("transitionrun"),Ys=zs("transitionstart"),El=zs("transitioncancel"),Ks=zs("transitionend"),Nu=new Map,DA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");DA.push("scrollEnd");function Ki(a,r){Nu.set(a,r),Ba(r,[a])}var Bh=new WeakMap;function en(a,r){if(typeof a=="object"&&a!==null){var u=Bh.get(a);return u!==void 0?u:(r={value:a,source:r,stack:M(r)},Bh.set(a,r),r)}return{value:a,source:r,stack:M(r)}}var un=[],Ia=0,Uu=0;function MA(){for(var a=Ia,r=Uu=Ia=0;r<a;){var u=un[r];un[r++]=null;var d=un[r];un[r++]=null;var m=un[r];un[r++]=null;var C=un[r];if(un[r++]=null,d!==null&&m!==null){var b=d.pending;b===null?m.next=m:(m.next=b.next,b.next=m),d.pending=m}C!==0&&Ch(u,m,C)}}function Tr(a,r,u,d){un[Ia++]=a,un[Ia++]=r,un[Ia++]=u,un[Ia++]=d,Uu|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Ou(a,r,u,d){return Tr(a,r,u,d),yl(a)}function js(a,r){return Tr(a,null,null,r),yl(a)}function Ch(a,r,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var m=!1,C=a.return;C!==null;)C.childLanes|=u,d=C.alternate,d!==null&&(d.childLanes|=u),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(m=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,m&&r!==null&&(m=31-Di(u),a=C.hiddenUpdates,d=a[m],d===null?a[m]=[r]:d.push(r),r.lane=u|536870912),C):null}function yl(a){if(50<_s)throw _s=0,ko=null,Error(n(185));for(var r=a.return;r!==null;)a=r,r=a.return;return a.tag===3?a.stateNode:null}var Rr={};function Ih(a,r,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(a,r,u,d){return new Ih(a,r,u,d)}function wA(a){return a=a.prototype,!(!a||!a.isReactComponent)}function pi(a,r){var u=a.alternate;return u===null?(u=Yn(a.tag,r,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=r,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,r=a.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function _h(a,r){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,r=u.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a}function ji(a,r,u,d,m,C){var b=0;if(d=a,typeof a=="function")wA(a)&&(b=1);else if(typeof a=="string")b=ob(a,u,Gt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case ht:return a=Yn(31,u,r,m),a.elementType=ht,a.lanes=C,a;case v:return Dr(u.children,m,C,r);case T:b=8,m|=24;break;case S:return a=Yn(12,u,r,m|2),a.elementType=S,a.lanes=C,a;case j:return a=Yn(13,u,r,m),a.elementType=j,a.lanes=C,a;case $:return a=Yn(19,u,r,m),a.elementType=$,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:case D:b=10;break t;case O:b=9;break t;case F:b=11;break t;case V:b=14;break t;case gt:b=16,d=null;break t}b=29,u=Error(n(130,a===null?"null":typeof a,"")),d=null}return r=Yn(b,u,r,m),r.elementType=a,r.type=d,r.lanes=C,r}function Dr(a,r,u,d){return a=Yn(7,a,d,r),a.lanes=u,a}function GA(a,r,u){return a=Yn(6,a,null,r),a.lanes=u,a}function Hu(a,r,u){return r=Yn(4,a.children!==null?a.children:[],a.key,r),r.lanes=u,r.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},r}var Bl=[],Kn=0,NA=null,Cl=0,nn=[],ta=0,Mr=null,us=1,cs="";function Xs(a,r){Bl[Kn++]=Cl,Bl[Kn++]=NA,NA=a,Cl=r}function ku(a,r,u){nn[ta++]=us,nn[ta++]=cs,nn[ta++]=Mr,Mr=a;var d=us;a=cs;var m=32-Di(d)-1;d&=~(1<<m),u+=1;var C=32-Di(r)+m;if(30<C){var b=m-m%5;C=(d&(1<<b)-1).toString(32),d>>=b,m-=b,us=1<<32-Di(r)+m|u<<m|d,cs=C+a}else us=1<<C|u<<m|d,cs=a}function xh(a){a.return!==null&&(Xs(a,1),ku(a,1,0))}function Qh(a){for(;a===NA;)NA=Bl[--Kn],Bl[Kn]=null,Cl=Bl[--Kn],Bl[Kn]=null;for(;a===Mr;)Mr=nn[--ta],nn[ta]=null,cs=nn[--ta],nn[ta]=null,us=nn[--ta],nn[ta]=null}var Qn=null,oi=null,be=!1,_a=null,ea=!1,Lu=Error(n(519));function wr(a){var r=Error(n(418,""));throw Io(en(r,a)),Lu}function Cf(a){var r=a.stateNode,u=a.type,d=a.memoizedProps;switch(r[Ue]=a,r[Mi]=d,u){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(u=0;u<id.length;u++)Ce(id[u],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Ce("invalid",r),wt(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),it(r);break;case"select":Ce("invalid",r);break;case"textarea":Ce("invalid",r),xe(r,d.value,d.defaultValue,d.children),it(r)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||r.textContent===""+u||d.suppressHydrationWarning===!0||ly(r.textContent,u)?(d.popover!=null&&(Ce("beforetoggle",r),Ce("toggle",r)),d.onScroll!=null&&Ce("scroll",r),d.onScrollEnd!=null&&Ce("scrollend",r),d.onClick!=null&&(r.onclick=fg),r=!0):r=!1,r||wr(a)}function vh(a){for(Qn=a.return;Qn;)switch(Qn.tag){case 5:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:Qn=Qn.return}}function za(a){if(a!==Qn)return!1;if(!be)return vh(a),be=!0,!1;var r=a.tag,u;if((u=r!==3&&r!==27)&&((u=r===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||qp(a.type,a.memoizedProps)),u=!u),u&&oi&&wr(a),vh(a),r===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));t:{for(a=a.nextSibling,r=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(r===0){oi=or(a.nextSibling);break t}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++;a=a.nextSibling}oi=null}}else r===27?(r=oi,jl(a.type)?(a=$p,$p=null,oi=a):oi=r):oi=Qn?or(a.stateNode.nextSibling):null;return!0}function Il(){oi=Qn=null,be=!1}function De(){var a=_a;return a!==null&&(Jt===null?Jt=a:Jt.push.apply(Jt,a),_a=null),a}function Io(a){_a===null?_a=[a]:_a.push(a)}var bh=ut(null),Gr=null,Vs=null;function Nr(a,r,u){Et(bh,r._currentValue),r._currentValue=u}function qs(a){a._currentValue=bh.current,It(bh)}function Sh(a,r,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&r)!==r?(a.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),a===u)break;a=a.return}}function UA(a,r,u,d){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var C=m.dependencies;if(C!==null){var b=m.child;C=C.firstContext;t:for(;C!==null;){var N=C;C=m;for(var z=0;z<r.length;z++)if(N.context===r[z]){C.lanes|=u,N=C.alternate,N!==null&&(N.lanes|=u),Sh(C.return,u,a),d||(b=null);break t}C=N.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(n(341));b.lanes|=u,C=b.alternate,C!==null&&(C.lanes|=u),Sh(b,u,a),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===a){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function xa(a,r,u,d){a=null;for(var m=r,C=!1;m!==null;){if(!C){if((m.flags&524288)!==0)C=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(n(387));if(b=b.memoizedProps,b!==null){var N=m.type;Fn(m.pendingProps.value,b.value)||(a!==null?a.push(N):a=[N])}}else if(m===Lt.current){if(b=m.alternate,b===null)throw Error(n(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(ld):a=[ld])}m=m.return}a!==null&&UA(r,a,u,d),r.flags|=262144}function OA(a){for(a=a.firstContext;a!==null;){if(!Fn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function hs(a){Gr=a,Vs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function hi(a){return Fu(Gr,a)}function HA(a,r){return Gr===null&&hs(a),Fu(a,r)}function Fu(a,r){var u=r._currentValue;if(r={context:r,memoizedValue:u,next:null},Vs===null){if(a===null)throw Error(n(308));Vs=r,a.dependencies={lanes:0,firstContext:r},a.flags|=524288}else Vs=Vs.next=r;return u}var Th=typeof AbortController<"u"?AbortController:function(){var a=[],r=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){r.aborted=!0,a.forEach(function(u){return u()})}},Rp=i.unstable_scheduleCallback,If=i.unstable_NormalPriority,Qi={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pu(){return{controller:new Th,data:new Map,refCount:0}}function _l(a){a.refCount--,a.refCount===0&&Rp(If,function(){a.controller.abort()})}var xl=null,kA=0,le=0,Ql=null;function ia(a,r){if(xl===null){var u=xl=[];kA=0,le=Lp(),Ql={status:"pending",value:void 0,then:function(d){u.push(d)}}}return kA++,r.then(zu,zu),r}function zu(){if(--kA===0&&xl!==null){Ql!==null&&(Ql.status="fulfilled");var a=xl;xl=null,le=0,Ql=null;for(var r=0;r<a.length;r++)(0,a[r])()}}function Dp(a,r){var u=[],d={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return a.then(function(){d.status="fulfilled",d.value=r;for(var m=0;m<u.length;m++)(0,u[m])(r)},function(m){for(d.status="rejected",d.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),d}var LA=P.S;P.S=function(a,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ia(a,r),LA!==null&&LA(a,r)};var Qa=ut(null);function Ur(){var a=Qa.current;return a!==null?a:se.pooledCache}function FA(a,r){r===null?Et(Qa,Qa.current):Et(Qa,r.pool)}function Yu(){var a=Ur();return a===null?null:{parent:Qi._currentValue,pool:a}}var PA=Error(n(460)),Rh=Error(n(474)),Ya=Error(n(542)),zA={then:function(){}};function Ku(a){return a=a.status,a==="fulfilled"||a==="rejected"}function vl(){}function ju(a,r,u){switch(u=a[u],u===void 0?a.push(r):u!==r&&(r.then(vl,vl),r=u),r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,_f(a),a;default:if(typeof r.status=="string")r.then(vl,vl);else{if(a=se,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=r,a.status="pending",a.then(function(d){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=d}},function(d){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,_f(a),a}throw va=r,PA}}var va=null;function Dh(){if(va===null)throw Error(n(459));var a=va;return va=null,a}function _f(a){if(a===PA||a===Ya)throw Error(n(483))}var Js=!1;function Mh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function te(a,r){a=a.updateQueue,r.updateQueue===a&&(r.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ds(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ws(a,r,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Me&2)!==0){var m=d.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),d.pending=r,r=yl(a),Ch(a,null,u),r}return Tr(a,d,r,u),yl(a)}function _o(a,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194048)!==0)){var d=r.lanes;d&=a.pendingLanes,u|=d,r.lanes=u,dA(a,u)}}function bl(a,r){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var b={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?m=C=b:C=C.next=b,u=u.next}while(u!==null);C===null?m=C=r:C=C.next=r}else m=C=r;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:C,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=r:a.next=r,u.lastBaseUpdate=r}var wh=!1;function YA(){if(wh){var a=Ql;if(a!==null)throw a}}function Sl(a,r,u,d){wh=!1;var m=a.updateQueue;Js=!1;var C=m.firstBaseUpdate,b=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var z=N,at=z.next;z.next=null,b===null?C=at:b.next=at,b=z;var ft=a.alternate;ft!==null&&(ft=ft.updateQueue,N=ft.lastBaseUpdate,N!==b&&(N===null?ft.firstBaseUpdate=at:N.next=at,ft.lastBaseUpdate=z))}if(C!==null){var yt=m.baseState;b=0,ft=at=z=null,N=C;do{var rt=N.lane&-536870913,ot=rt!==N.lane;if(ot?(Vt&rt)===rt:(d&rt)===rt){rt!==0&&rt===le&&(wh=!0),ft!==null&&(ft=ft.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var ae=a,Wt=N;rt=r;var Je=u;switch(Wt.tag){case 1:if(ae=Wt.payload,typeof ae=="function"){yt=ae.call(Je,yt,rt);break t}yt=ae;break t;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=Wt.payload,rt=typeof ae=="function"?ae.call(Je,yt,rt):ae,rt==null)break t;yt=y({},yt,rt);break t;case 2:Js=!0}}rt=N.callback,rt!==null&&(a.flags|=64,ot&&(a.flags|=8192),ot=m.callbacks,ot===null?m.callbacks=[rt]:ot.push(rt))}else ot={lane:rt,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ft===null?(at=ft=ot,z=yt):ft=ft.next=ot,b|=rt;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ot=N,N=ot.next,ot.next=null,m.lastBaseUpdate=ot,m.shared.pending=null}}while(!0);ft===null&&(z=yt),m.baseState=z,m.firstBaseUpdate=at,m.lastBaseUpdate=ft,C===null&&(m.shared.lanes=0),Za|=b,a.lanes=b,a.memoizedState=yt}}function Tl(a,r){if(typeof a!="function")throw Error(n(191,a));a.call(r)}function xf(a,r){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Tl(u[a],r)}var Rl=ut(null),Xu=ut(0);function Qf(a,r){a=Ma,Et(Xu,a),Et(Rl,r),Ma=a|r.baseLanes}function Gh(){Et(Xu,Ma),Et(Rl,Rl.current)}function KA(){Ma=Xu.current,It(Rl),It(Xu)}var Zs=0,Ae=null,Oe=null,vi=null,Vu=!1,Or=!1,vn=!1,wi=0,ba=0,an=null,vf=0;function mi(){throw Error(n(321))}function cn(a,r){if(r===null)return!1;for(var u=0;u<r.length&&u<a.length;u++)if(!Fn(a[u],r[u]))return!1;return!0}function $s(a,r,u,d,m,C){return Zs=C,Ae=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=a===null||a.memoizedState===null?nc:Jh,vn=!1,C=u(d,m),vn=!1,Or&&(C=Sf(r,u,d,m)),bf(a),C}function bf(a){P.H=VA;var r=Oe!==null&&Oe.next!==null;if(Zs=0,vi=Oe=Ae=null,Vu=!1,ba=0,an=null,r)throw Error(n(300));a===null||Xi||(a=a.dependencies,a!==null&&OA(a)&&(Xi=!0))}function Sf(a,r,u,d){Ae=a;var m=0;do{if(Or&&(an=null),ba=0,Or=!1,25<=m)throw Error(n(301));if(m+=1,vi=Oe=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}P.H=tg,C=r(u,d)}while(Or);return C}function Mp(){var a=P.H,r=a.useState()[0];return r=typeof r.then=="function"?Ka(r):r,a=a.useState()[0],(Oe!==null?Oe.memoizedState:null)!==a&&(Ae.flags|=1024),r}function Nh(){var a=wi!==0;return wi=0,a}function qu(a,r,u){r.updateQueue=a.updateQueue,r.flags&=-2053,a.lanes&=~u}function Uh(a){if(Vu){for(a=a.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}Vu=!1}Zs=0,vi=Oe=Ae=null,Or=!1,ba=wi=0,an=null}function bn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?Ae.memoizedState=vi=a:vi=vi.next=a,vi}function bi(){if(Oe===null){var a=Ae.alternate;a=a!==null?a.memoizedState:null}else a=Oe.next;var r=vi===null?Ae.memoizedState:vi.next;if(r!==null)vi=r,Oe=a;else{if(a===null)throw Ae.alternate===null?Error(n(467)):Error(n(310));Oe=a,a={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},vi===null?Ae.memoizedState=vi=a:vi=vi.next=a}return vi}function Hr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ka(a){var r=ba;return ba+=1,an===null&&(an=[]),a=ju(an,a,r),r=Ae,(vi===null?r.memoizedState:vi.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?nc:Jh),a}function Ju(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ka(a);if(a.$$typeof===D)return hi(a)}throw Error(n(438,String(a)))}function Oh(a){var r=null,u=Ae.updateQueue;if(u!==null&&(r=u.memoCache),r==null){var d=Ae.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),u===null&&(u=Hr(),Ae.updateQueue=u),u.memoCache=r,u=r.data[r.index],u===void 0)for(u=r.data[r.index]=Array(a),d=0;d<a;d++)u[d]=At;return r.index++,u}function tr(a,r){return typeof r=="function"?r(a):r}function kr(a){var r=bi();return Hh(r,Oe,a)}function Hh(a,r,u){var d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=u;var m=a.baseQueue,C=d.pending;if(C!==null){if(m!==null){var b=m.next;m.next=C.next,C.next=b}r.baseQueue=m=C,d.pending=null}if(C=a.baseState,m===null)a.memoizedState=C;else{r=m.next;var N=b=null,z=null,at=r,ft=!1;do{var yt=at.lane&-536870913;if(yt!==at.lane?(Vt&yt)===yt:(Zs&yt)===yt){var rt=at.revertLane;if(rt===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),yt===le&&(ft=!0);else if((Zs&rt)===rt){at=at.next,rt===le&&(ft=!0);continue}else yt={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},z===null?(N=z=yt,b=C):z=z.next=yt,Ae.lanes|=rt,Za|=rt;yt=at.action,vn&&u(C,yt),C=at.hasEagerState?at.eagerState:u(C,yt)}else rt={lane:yt,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},z===null?(N=z=rt,b=C):z=z.next=rt,Ae.lanes|=yt,Za|=yt;at=at.next}while(at!==null&&at!==r);if(z===null?b=C:z.next=N,!Fn(C,a.memoizedState)&&(Xi=!0,ft&&(u=Ql,u!==null)))throw u;a.memoizedState=C,a.baseState=b,a.baseQueue=z,d.lastRenderedState=C}return m===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function kh(a){var r=bi(),u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var d=u.dispatch,m=u.pending,C=r.memoizedState;if(m!==null){u.pending=null;var b=m=m.next;do C=a(C,b.action),b=b.next;while(b!==m);Fn(C,r.memoizedState)||(Xi=!0),r.memoizedState=C,r.baseQueue===null&&(r.baseState=C),u.lastRenderedState=C}return[C,d]}function Tf(a,r,u){var d=Ae,m=bi(),C=be;if(C){if(u===void 0)throw Error(n(407));u=u()}else u=r();var b=!Fn((Oe||m).memoizedState,u);b&&(m.memoizedState=u,Xi=!0),m=m.queue;var N=Df.bind(null,d,m,a);if(wl(2048,8,N,[a]),m.getSnapshot!==r||b||vi!==null&&vi.memoizedState.tag&1){if(d.flags|=2048,Ml(9,jA(),Rf.bind(null,d,m,u,r),null),se===null)throw Error(n(349));C||(Zs&124)!==0||Dl(d,r,u)}return u}function Dl(a,r,u){a.flags|=16384,a={getSnapshot:r,value:u},r=Ae.updateQueue,r===null?(r=Hr(),Ae.updateQueue=r,r.stores=[a]):(u=r.stores,u===null?r.stores=[a]:u.push(a))}function Rf(a,r,u,d){r.value=u,r.getSnapshot=d,Mf(r)&&wf(a)}function Df(a,r,u){return u(function(){Mf(r)&&wf(a)})}function Mf(a){var r=a.getSnapshot;a=a.value;try{var u=r();return!Fn(a,u)}catch{return!0}}function wf(a){var r=js(a,2);r!==null&&Rn(r,a,2)}function Lh(a){var r=bn();if(typeof a=="function"){var u=a;if(a=u(),vn){Jn(!0);try{u()}finally{Jn(!1)}}}return r.memoizedState=r.baseState=a,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},r}function Gf(a,r,u,d){return a.baseState=u,Hh(a,Oe,typeof d=="function"?d:tr)}function wp(a,r,u,d,m){if(ic(a))throw Error(n(485));if(a=r.action,a!==null){var C={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){C.listeners.push(b)}};P.T!==null?u(!0):C.isTransition=!1,d(C),u=r.pending,u===null?(C.next=r.pending=C,Nf(r,C)):(C.next=u.next,r.pending=u.next=C)}}function Nf(a,r){var u=r.action,d=r.payload,m=a.state;if(r.isTransition){var C=P.T,b={};P.T=b;try{var N=u(m,d),z=P.S;z!==null&&z(b,N),Uf(a,r,N)}catch(at){Fh(a,r,at)}finally{P.T=C}}else try{C=u(m,d),Uf(a,r,C)}catch(at){Fh(a,r,at)}}function Uf(a,r,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Of(a,r,d)},function(d){return Fh(a,r,d)}):Of(a,r,u)}function Of(a,r,u){r.status="fulfilled",r.value=u,Hf(r),a.state=u,r=a.pending,r!==null&&(u=r.next,u===r?a.pending=null:(u=u.next,r.next=u,Nf(a,u)))}function Fh(a,r,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=u,Hf(r),r=r.next;while(r!==d)}a.action=null}function Hf(a){a=a.listeners;for(var r=0;r<a.length;r++)(0,a[r])()}function Ph(a,r){return r}function kf(a,r){if(be){var u=se.formState;if(u!==null){t:{var d=Ae;if(be){if(oi){e:{for(var m=oi,C=ea;m.nodeType!==8;){if(!C){m=null;break e}if(m=or(m.nextSibling),m===null){m=null;break e}}C=m.data,m=C==="F!"||C==="F"?m:null}if(m){oi=or(m.nextSibling),d=m.data==="F!";break t}}wr(d)}d=!1}d&&(r=u[0])}}return u=bn(),u.memoizedState=u.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:r},u.queue=d,u=Zf.bind(null,Ae,d),d.dispatch=u,d=Lh(!1),C=ec.bind(null,Ae,!1,d.queue),d=bn(),m={state:r,dispatch:null,action:a,pending:null},d.queue=m,u=wp.bind(null,Ae,m,C,u),m.dispatch=u,d.memoizedState=a,[r,u,!1]}function Lf(a){var r=bi();return Ff(r,Oe,a)}function Ff(a,r,u){if(r=Hh(a,r,Ph)[0],a=kr(tr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Ka(r)}catch(b){throw b===PA?Ya:b}else d=r;r=bi();var m=r.queue,C=m.dispatch;return u!==r.memoizedState&&(Ae.flags|=2048,Ml(9,jA(),Gp.bind(null,m,u),null)),[d,C,a]}function Gp(a,r){a.action=r}function Pf(a){var r=bi(),u=Oe;if(u!==null)return Ff(r,u,a);bi(),r=r.memoizedState,u=bi();var d=u.queue.dispatch;return u.memoizedState=a,[r,d,!1]}function Ml(a,r,u,d){return a={tag:a,create:u,deps:d,inst:r,next:null},r=Ae.updateQueue,r===null&&(r=Hr(),Ae.updateQueue=r),u=r.lastEffect,u===null?r.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,r.lastEffect=a),a}function jA(){return{destroy:void 0,resource:void 0}}function zh(){return bi().memoizedState}function Wu(a,r,u,d){var m=bn();d=d===void 0?null:d,Ae.flags|=a,m.memoizedState=Ml(1|r,jA(),u,d)}function wl(a,r,u,d){var m=bi();d=d===void 0?null:d;var C=m.memoizedState.inst;Oe!==null&&d!==null&&cn(d,Oe.memoizedState.deps)?m.memoizedState=Ml(r,C,u,d):(Ae.flags|=a,m.memoizedState=Ml(1|r,C,u,d))}function Yh(a,r){Wu(8390656,8,a,r)}function Kh(a,r){wl(2048,8,a,r)}function Zu(a,r){return wl(4,2,a,r)}function $u(a,r){return wl(4,4,a,r)}function zf(a,r){if(typeof r=="function"){a=a();var u=r(a);return function(){typeof u=="function"?u():r(null)}}if(r!=null)return a=a(),r.current=a,function(){r.current=null}}function Yf(a,r,u){u=u!=null?u.concat([a]):null,wl(4,4,zf.bind(null,r,a),u)}function jh(){}function Kf(a,r){var u=bi();r=r===void 0?null:r;var d=u.memoizedState;return r!==null&&cn(r,d[1])?d[0]:(u.memoizedState=[a,r],a)}function Xh(a,r){var u=bi();r=r===void 0?null:r;var d=u.memoizedState;if(r!==null&&cn(r,d[1]))return d[0];if(d=a(),vn){Jn(!0);try{a()}finally{Jn(!1)}}return u.memoizedState=[d,r],d}function tc(a,r,u){return u===void 0||(Zs&1073741824)!==0?a.memoizedState=r:(a.memoizedState=u,a=fc(),Ae.lanes|=a,Za|=a,u)}function jf(a,r,u,d){return Fn(u,r)?u:Rl.current!==null?(a=tc(a,u,d),Fn(a,r)||(Xi=!0),a):(Zs&42)===0?(Xi=!0,a.memoizedState=u):(a=fc(),Ae.lanes|=a,Za|=a,r)}function Xf(a,r,u,d,m){var C=Z.p;Z.p=C!==0&&8>C?C:8;var b=P.T,N={};P.T=N,ec(a,!1,r,u);try{var z=m(),at=P.S;if(at!==null&&at(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ft=Dp(z,d);XA(a,r,ft,gi(a))}else XA(a,r,d,gi(a))}catch(yt){XA(a,r,{then:function(){},status:"rejected",reason:yt},gi())}finally{Z.p=C,P.T=b}}function Np(){}function Vh(a,r,u,d){if(a.tag!==5)throw Error(n(476));var m=Vf(a).queue;Xf(a,m,r,Bt,u===null?Np:function(){return qf(a),u(d)})}function Vf(a){var r=a.memoizedState;if(r!==null)return r;r={memoizedState:Bt,baseState:Bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:Bt},next:null};var u={};return r.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:u},next:null},a.memoizedState=r,a=a.alternate,a!==null&&(a.memoizedState=r),r}function qf(a){var r=Vf(a).next.queue;XA(a,r,{},gi())}function qh(){return hi(ld)}function Jf(){return bi().memoizedState}function Wf(){return bi().memoizedState}function Up(a){for(var r=a.return;r!==null;){switch(r.tag){case 24:case 3:var u=gi();a=ds(u);var d=Ws(r,a,u);d!==null&&(Rn(d,r,u),_o(d,r,u)),r={cache:Pu()},a.payload=r;return}r=r.return}}function Op(a,r,u){var d=gi();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},ic(a)?$f(r,u):(u=Ou(a,r,u,d),u!==null&&(Rn(u,a,d),na(u,r,d)))}function Zf(a,r,u){var d=gi();XA(a,r,u,d)}function XA(a,r,u,d){var m={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(ic(a))$f(r,m);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=r.lastRenderedReducer,C!==null))try{var b=r.lastRenderedState,N=C(b,u);if(m.hasEagerState=!0,m.eagerState=N,Fn(N,b))return Tr(a,r,m,0),se===null&&MA(),!1}catch{}finally{}if(u=Ou(a,r,m,d),u!==null)return Rn(u,a,d),na(u,r,d),!0}return!1}function ec(a,r,u,d){if(d={lane:2,revertLane:Lp(),action:d,hasEagerState:!1,eagerState:null,next:null},ic(a)){if(r)throw Error(n(479))}else r=Ou(a,u,d,2),r!==null&&Rn(r,a,2)}function ic(a){var r=a.alternate;return a===Ae||r!==null&&r===Ae}function $f(a,r){Or=Vu=!0;var u=a.pending;u===null?r.next=r:(r.next=u.next,u.next=r),a.pending=r}function na(a,r,u){if((u&4194048)!==0){var d=r.lanes;d&=a.pendingLanes,u|=d,r.lanes=u,dA(a,u)}}var VA={readContext:hi,use:Ju,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useLayoutEffect:mi,useInsertionEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useSyncExternalStore:mi,useId:mi,useHostTransitionStatus:mi,useFormState:mi,useActionState:mi,useOptimistic:mi,useMemoCache:mi,useCacheRefresh:mi},nc={readContext:hi,use:Ju,useCallback:function(a,r){return bn().memoizedState=[a,r===void 0?null:r],a},useContext:hi,useEffect:Yh,useImperativeHandle:function(a,r,u){u=u!=null?u.concat([a]):null,Wu(4194308,4,zf.bind(null,r,a),u)},useLayoutEffect:function(a,r){return Wu(4194308,4,a,r)},useInsertionEffect:function(a,r){Wu(4,2,a,r)},useMemo:function(a,r){var u=bn();r=r===void 0?null:r;var d=a();if(vn){Jn(!0);try{a()}finally{Jn(!1)}}return u.memoizedState=[d,r],d},useReducer:function(a,r,u){var d=bn();if(u!==void 0){var m=u(r);if(vn){Jn(!0);try{u(r)}finally{Jn(!1)}}}else m=r;return d.memoizedState=d.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},d.queue=a,a=a.dispatch=Op.bind(null,Ae,a),[d.memoizedState,a]},useRef:function(a){var r=bn();return a={current:a},r.memoizedState=a},useState:function(a){a=Lh(a);var r=a.queue,u=Zf.bind(null,Ae,r);return r.dispatch=u,[a.memoizedState,u]},useDebugValue:jh,useDeferredValue:function(a,r){var u=bn();return tc(u,a,r)},useTransition:function(){var a=Lh(!1);return a=Xf.bind(null,Ae,a.queue,!0,!1),bn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,r,u){var d=Ae,m=bn();if(be){if(u===void 0)throw Error(n(407));u=u()}else{if(u=r(),se===null)throw Error(n(349));(Vt&124)!==0||Dl(d,r,u)}m.memoizedState=u;var C={value:u,getSnapshot:r};return m.queue=C,Yh(Df.bind(null,d,C,a),[a]),d.flags|=2048,Ml(9,jA(),Rf.bind(null,d,C,u,r),null),u},useId:function(){var a=bn(),r=se.identifierPrefix;if(be){var u=cs,d=us;u=(d&~(1<<32-Di(d)-1)).toString(32)+u,r="«"+r+"R"+u,u=wi++,0<u&&(r+="H"+u.toString(32)),r+="»"}else u=vf++,r="«"+r+"r"+u.toString(32)+"»";return a.memoizedState=r},useHostTransitionStatus:qh,useFormState:kf,useActionState:kf,useOptimistic:function(a){var r=bn();r.memoizedState=r.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=u,r=ec.bind(null,Ae,!0,u),u.dispatch=r,[a,r]},useMemoCache:Oh,useCacheRefresh:function(){return bn().memoizedState=Up.bind(null,Ae)}},Jh={readContext:hi,use:Ju,useCallback:Kf,useContext:hi,useEffect:Kh,useImperativeHandle:Yf,useInsertionEffect:Zu,useLayoutEffect:$u,useMemo:Xh,useReducer:kr,useRef:zh,useState:function(){return kr(tr)},useDebugValue:jh,useDeferredValue:function(a,r){var u=bi();return jf(u,Oe.memoizedState,a,r)},useTransition:function(){var a=kr(tr)[0],r=bi().memoizedState;return[typeof a=="boolean"?a:Ka(a),r]},useSyncExternalStore:Tf,useId:Jf,useHostTransitionStatus:qh,useFormState:Lf,useActionState:Lf,useOptimistic:function(a,r){var u=bi();return Gf(u,Oe,a,r)},useMemoCache:Oh,useCacheRefresh:Wf},tg={readContext:hi,use:Ju,useCallback:Kf,useContext:hi,useEffect:Kh,useImperativeHandle:Yf,useInsertionEffect:Zu,useLayoutEffect:$u,useMemo:Xh,useReducer:kh,useRef:zh,useState:function(){return kh(tr)},useDebugValue:jh,useDeferredValue:function(a,r){var u=bi();return Oe===null?tc(u,a,r):jf(u,Oe.memoizedState,a,r)},useTransition:function(){var a=kh(tr)[0],r=bi().memoizedState;return[typeof a=="boolean"?a:Ka(a),r]},useSyncExternalStore:Tf,useId:Jf,useHostTransitionStatus:qh,useFormState:Pf,useActionState:Pf,useOptimistic:function(a,r){var u=bi();return Oe!==null?Gf(u,Oe,a,r):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Oh,useCacheRefresh:Wf},xo=null,qA=0;function JA(a){var r=qA;return qA+=1,xo===null&&(xo=[]),ju(xo,a,r)}function Gl(a,r){r=r.props.ref,a.ref=r!==void 0?r:null}function ac(a,r){throw r.$$typeof===B?Error(n(525)):(a=Object.prototype.toString.call(r),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":a)))}function eg(a){var r=a._init;return r(a._payload)}function ig(a){function r(tt,q){if(a){var nt=tt.deletions;nt===null?(tt.deletions=[q],tt.flags|=16):nt.push(q)}}function u(tt,q){if(!a)return null;for(;q!==null;)r(tt,q),q=q.sibling;return null}function d(tt){for(var q=new Map;tt!==null;)tt.key!==null?q.set(tt.key,tt):q.set(tt.index,tt),tt=tt.sibling;return q}function m(tt,q){return tt=pi(tt,q),tt.index=0,tt.sibling=null,tt}function C(tt,q,nt){return tt.index=nt,a?(nt=tt.alternate,nt!==null?(nt=nt.index,nt<q?(tt.flags|=67108866,q):nt):(tt.flags|=67108866,q)):(tt.flags|=1048576,q)}function b(tt){return a&&tt.alternate===null&&(tt.flags|=67108866),tt}function N(tt,q,nt,mt){return q===null||q.tag!==6?(q=GA(nt,tt.mode,mt),q.return=tt,q):(q=m(q,nt),q.return=tt,q)}function z(tt,q,nt,mt){var Ht=nt.type;return Ht===v?ft(tt,q,nt.props.children,mt,nt.key):q!==null&&(q.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===gt&&eg(Ht)===q.type)?(q=m(q,nt.props),Gl(q,nt),q.return=tt,q):(q=ji(nt.type,nt.key,nt.props,null,tt.mode,mt),Gl(q,nt),q.return=tt,q)}function at(tt,q,nt,mt){return q===null||q.tag!==4||q.stateNode.containerInfo!==nt.containerInfo||q.stateNode.implementation!==nt.implementation?(q=Hu(nt,tt.mode,mt),q.return=tt,q):(q=m(q,nt.children||[]),q.return=tt,q)}function ft(tt,q,nt,mt,Ht){return q===null||q.tag!==7?(q=Dr(nt,tt.mode,mt,Ht),q.return=tt,q):(q=m(q,nt),q.return=tt,q)}function yt(tt,q,nt){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=GA(""+q,tt.mode,nt),q.return=tt,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return nt=ji(q.type,q.key,q.props,null,tt.mode,nt),Gl(nt,q),nt.return=tt,nt;case x:return q=Hu(q,tt.mode,nt),q.return=tt,q;case gt:var mt=q._init;return q=mt(q._payload),yt(tt,q,nt)}if(ne(q)||Dt(q))return q=Dr(q,tt.mode,nt,null),q.return=tt,q;if(typeof q.then=="function")return yt(tt,JA(q),nt);if(q.$$typeof===D)return yt(tt,HA(tt,q),nt);ac(tt,q)}return null}function rt(tt,q,nt,mt){var Ht=q!==null?q.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Ht!==null?null:N(tt,q,""+nt,mt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case _:return nt.key===Ht?z(tt,q,nt,mt):null;case x:return nt.key===Ht?at(tt,q,nt,mt):null;case gt:return Ht=nt._init,nt=Ht(nt._payload),rt(tt,q,nt,mt)}if(ne(nt)||Dt(nt))return Ht!==null?null:ft(tt,q,nt,mt,null);if(typeof nt.then=="function")return rt(tt,q,JA(nt),mt);if(nt.$$typeof===D)return rt(tt,q,HA(tt,nt),mt);ac(tt,nt)}return null}function ot(tt,q,nt,mt,Ht){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return tt=tt.get(nt)||null,N(q,tt,""+mt,Ht);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case _:return tt=tt.get(mt.key===null?nt:mt.key)||null,z(q,tt,mt,Ht);case x:return tt=tt.get(mt.key===null?nt:mt.key)||null,at(q,tt,mt,Ht);case gt:var Be=mt._init;return mt=Be(mt._payload),ot(tt,q,nt,mt,Ht)}if(ne(mt)||Dt(mt))return tt=tt.get(nt)||null,ft(q,tt,mt,Ht,null);if(typeof mt.then=="function")return ot(tt,q,nt,JA(mt),Ht);if(mt.$$typeof===D)return ot(tt,q,nt,HA(q,mt),Ht);ac(q,mt)}return null}function ae(tt,q,nt,mt){for(var Ht=null,Be=null,zt=q,Zt=q=0,fn=null;zt!==null&&Zt<nt.length;Zt++){zt.index>Zt?(fn=zt,zt=null):fn=zt.sibling;var Ge=rt(tt,zt,nt[Zt],mt);if(Ge===null){zt===null&&(zt=fn);break}a&&zt&&Ge.alternate===null&&r(tt,zt),q=C(Ge,q,Zt),Be===null?Ht=Ge:Be.sibling=Ge,Be=Ge,zt=fn}if(Zt===nt.length)return u(tt,zt),be&&Xs(tt,Zt),Ht;if(zt===null){for(;Zt<nt.length;Zt++)zt=yt(tt,nt[Zt],mt),zt!==null&&(q=C(zt,q,Zt),Be===null?Ht=zt:Be.sibling=zt,Be=zt);return be&&Xs(tt,Zt),Ht}for(zt=d(zt);Zt<nt.length;Zt++)fn=ot(zt,tt,Zt,nt[Zt],mt),fn!==null&&(a&&fn.alternate!==null&&zt.delete(fn.key===null?Zt:fn.key),q=C(fn,q,Zt),Be===null?Ht=fn:Be.sibling=fn,Be=fn);return a&&zt.forEach(function(Wl){return r(tt,Wl)}),be&&Xs(tt,Zt),Ht}function Wt(tt,q,nt,mt){if(nt==null)throw Error(n(151));for(var Ht=null,Be=null,zt=q,Zt=q=0,fn=null,Ge=nt.next();zt!==null&&!Ge.done;Zt++,Ge=nt.next()){zt.index>Zt?(fn=zt,zt=null):fn=zt.sibling;var Wl=rt(tt,zt,Ge.value,mt);if(Wl===null){zt===null&&(zt=fn);break}a&&zt&&Wl.alternate===null&&r(tt,zt),q=C(Wl,q,Zt),Be===null?Ht=Wl:Be.sibling=Wl,Be=Wl,zt=fn}if(Ge.done)return u(tt,zt),be&&Xs(tt,Zt),Ht;if(zt===null){for(;!Ge.done;Zt++,Ge=nt.next())Ge=yt(tt,Ge.value,mt),Ge!==null&&(q=C(Ge,q,Zt),Be===null?Ht=Ge:Be.sibling=Ge,Be=Ge);return be&&Xs(tt,Zt),Ht}for(zt=d(zt);!Ge.done;Zt++,Ge=nt.next())Ge=ot(zt,tt,Zt,Ge.value,mt),Ge!==null&&(a&&Ge.alternate!==null&&zt.delete(Ge.key===null?Zt:Ge.key),q=C(Ge,q,Zt),Be===null?Ht=Ge:Be.sibling=Ge,Be=Ge);return a&&zt.forEach(function(yb){return r(tt,yb)}),be&&Xs(tt,Zt),Ht}function Je(tt,q,nt,mt){if(typeof nt=="object"&&nt!==null&&nt.type===v&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case _:t:{for(var Ht=nt.key;q!==null;){if(q.key===Ht){if(Ht=nt.type,Ht===v){if(q.tag===7){u(tt,q.sibling),mt=m(q,nt.props.children),mt.return=tt,tt=mt;break t}}else if(q.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===gt&&eg(Ht)===q.type){u(tt,q.sibling),mt=m(q,nt.props),Gl(mt,nt),mt.return=tt,tt=mt;break t}u(tt,q);break}else r(tt,q);q=q.sibling}nt.type===v?(mt=Dr(nt.props.children,tt.mode,mt,nt.key),mt.return=tt,tt=mt):(mt=ji(nt.type,nt.key,nt.props,null,tt.mode,mt),Gl(mt,nt),mt.return=tt,tt=mt)}return b(tt);case x:t:{for(Ht=nt.key;q!==null;){if(q.key===Ht)if(q.tag===4&&q.stateNode.containerInfo===nt.containerInfo&&q.stateNode.implementation===nt.implementation){u(tt,q.sibling),mt=m(q,nt.children||[]),mt.return=tt,tt=mt;break t}else{u(tt,q);break}else r(tt,q);q=q.sibling}mt=Hu(nt,tt.mode,mt),mt.return=tt,tt=mt}return b(tt);case gt:return Ht=nt._init,nt=Ht(nt._payload),Je(tt,q,nt,mt)}if(ne(nt))return ae(tt,q,nt,mt);if(Dt(nt)){if(Ht=Dt(nt),typeof Ht!="function")throw Error(n(150));return nt=Ht.call(nt),Wt(tt,q,nt,mt)}if(typeof nt.then=="function")return Je(tt,q,JA(nt),mt);if(nt.$$typeof===D)return Je(tt,q,HA(tt,nt),mt);ac(tt,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,q!==null&&q.tag===6?(u(tt,q.sibling),mt=m(q,nt),mt.return=tt,tt=mt):(u(tt,q),mt=GA(nt,tt.mode,mt),mt.return=tt,tt=mt),b(tt)):u(tt,q)}return function(tt,q,nt,mt){try{qA=0;var Ht=Je(tt,q,nt,mt);return xo=null,Ht}catch(zt){if(zt===PA||zt===Ya)throw zt;var Be=Yn(29,zt,null,tt.mode);return Be.lanes=mt,Be.return=tt,Be}finally{}}}var Qo=ig(!0),ng=ig(!1),Le=ut(null),ja=null;function Lr(a){var r=a.alternate;Et(Ei,Ei.current&1),Et(Le,a),ja===null&&(r===null||Rl.current!==null||r.memoizedState!==null)&&(ja=a)}function ag(a){if(a.tag===22){if(Et(Ei,Ei.current),Et(Le,a),ja===null){var r=a.alternate;r!==null&&r.memoizedState!==null&&(ja=a)}}else Fr()}function Fr(){Et(Ei,Ei.current),Et(Le,Le.current)}function fs(a){It(Le),ja===a&&(ja=null),It(Ei)}var Ei=ut(0);function er(a){for(var r=a;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Zp(u)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Pr(a,r,u,d){r=a.memoizedState,u=u(d,r),u=u==null?r:y({},r,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Sn={enqueueSetState:function(a,r,u){a=a._reactInternals;var d=gi(),m=ds(d);m.payload=r,u!=null&&(m.callback=u),r=Ws(a,m,d),r!==null&&(Rn(r,a,d),_o(r,a,d))},enqueueReplaceState:function(a,r,u){a=a._reactInternals;var d=gi(),m=ds(d);m.tag=1,m.payload=r,u!=null&&(m.callback=u),r=Ws(a,m,d),r!==null&&(Rn(r,a,d),_o(r,a,d))},enqueueForceUpdate:function(a,r){a=a._reactInternals;var u=gi(),d=ds(u);d.tag=2,r!=null&&(d.callback=r),r=Ws(a,d,u),r!==null&&(Rn(r,a,u),_o(r,a,u))}};function sg(a,r,u,d,m,C,b){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,C,b):r.prototype&&r.prototype.isPureReactComponent?!Pa(u,d)||!Pa(m,C):!0}function rg(a,r,u,d){a=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,d),r.state!==a&&Sn.enqueueReplaceState(r,r.state,null)}function gs(a,r){var u=r;if("ref"in r){u={};for(var d in r)d!=="ref"&&(u[d]=r[d])}if(a=a.defaultProps){u===r&&(u=y({},u));for(var m in a)u[m]===void 0&&(u[m]=a[m])}return u}var vo=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}};function WA(a){vo(a)}function sc(a){}function og(a){vo(a)}function rc(a,r){try{var u=a.onUncaughtError;u(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function Sa(a,r,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function oc(a,r,u){return u=ds(u),u.tag=3,u.payload={element:null},u.callback=function(){rc(a,r)},u}function lg(a){return a=ds(a),a.tag=3,a}function lc(a,r,u,d){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var C=d.value;a.payload=function(){return m(C)},a.callback=function(){Sa(r,u,d)}}var b=u.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(a.callback=function(){Sa(r,u,d),typeof m!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function Hp(a,r,u,d,m){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=u.alternate,r!==null&&xa(r,u,m,!0),u=Le.current,u!==null){switch(u.tag){case 13:return ja===null?o():u.alternate===null&&ti===0&&(ti=3),u.flags&=-257,u.flags|=65536,u.lanes=m,d===zA?u.flags|=16384:(r=u.updateQueue,r===null?u.updateQueue=new Set([d]):r.add(d),lt(a,d,m)),!1;case 22:return u.flags|=65536,d===zA?u.flags|=16384:(r=u.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=r):(u=r.retryQueue,u===null?r.retryQueue=new Set([d]):u.add(d)),lt(a,d,m)),!1}throw Error(n(435,u.tag))}return lt(a,d,m),o(),!1}if(be)return r=Le.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,d!==Lu&&(a=Error(n(422),{cause:d}),Io(en(a,u)))):(d!==Lu&&(r=Error(n(423),{cause:d}),Io(en(r,u))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,d=en(d,u),m=oc(a.stateNode,d,m),bl(a,m),ti!==4&&(ti=2)),!1;var C=Error(n(520),{cause:d});if(C=en(C,u),we===null?we=[C]:we.push(C),ti!==4&&(ti=2),r===null)return!0;d=en(d,u),u=r;do{switch(u.tag){case 3:return u.flags|=65536,a=m&-m,u.lanes|=a,a=oc(u.stateNode,d,a),bl(u,a),!1;case 1:if(r=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ca===null||!ca.has(C))))return u.flags|=65536,m&=-m,u.lanes|=m,m=lg(m),lc(m,a,u,d),bl(u,m),!1}u=u.return}while(u!==null);return!1}var Ag=Error(n(461)),Xi=!1;function yi(a,r,u,d){r.child=a===null?ng(r,null,u,d):Qo(r,a.child,u,d)}function jn(a,r,u,d,m){u=u.render;var C=r.ref;if("ref"in d){var b={};for(var N in d)N!=="ref"&&(b[N]=d[N])}else b=d;return hs(r),d=$s(a,r,u,b,C,m),N=Nh(),a!==null&&!Xi?(qu(a,r,m),Vi(a,r,m)):(be&&N&&xh(r),r.flags|=1,yi(a,r,d,m),r.child)}function Xn(a,r,u,d,m){if(a===null){var C=u.type;return typeof C=="function"&&!wA(C)&&C.defaultProps===void 0&&u.compare===null?(r.tag=15,r.type=C,Wh(a,r,C,d,m)):(a=ji(u.type,null,d,r,r.mode,m),a.ref=r.ref,a.return=r,r.child=a)}if(C=a.child,!ZA(a,m)){var b=C.memoizedProps;if(u=u.compare,u=u!==null?u:Pa,u(b,d)&&a.ref===r.ref)return Vi(a,r,m)}return r.flags|=1,a=pi(C,d),a.ref=r.ref,a.return=r,r.child=a}function Wh(a,r,u,d,m){if(a!==null){var C=a.memoizedProps;if(Pa(C,d)&&a.ref===r.ref)if(Xi=!1,r.pendingProps=d=C,ZA(a,m))(a.flags&131072)!==0&&(Xi=!0);else return r.lanes=a.lanes,Vi(a,r,m)}return Nl(a,r,u,d,m)}function bo(a,r,u){var d=r.pendingProps,m=d.children,C=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=C!==null?C.baseLanes|u:u,a!==null){for(m=r.child=a.child,C=0;m!==null;)C=C|m.lanes|m.childLanes,m=m.sibling;r.childLanes=C&~d}else r.childLanes=0,r.child=null;return So(a,r,d,u)}if((u&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},a!==null&&FA(r,C!==null?C.cachePool:null),C!==null?Qf(r,C):Gh(),ag(r);else return r.lanes=r.childLanes=536870912,So(a,r,C!==null?C.baseLanes|u:u,u)}else C!==null?(FA(r,C.cachePool),Qf(r,C),Fr(),r.memoizedState=null):(a!==null&&FA(r,null),Gh(),Fr());return yi(a,r,m,u),r.child}function So(a,r,u,d){var m=Ur();return m=m===null?null:{parent:Qi._currentValue,pool:m},r.memoizedState={baseLanes:u,cachePool:m},a!==null&&FA(r,null),Gh(),ag(r),a!==null&&xa(a,r,d,!0),null}function To(a,r){var u=r.ref;if(u===null)a!==null&&a.ref!==null&&(r.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(a===null||a.ref!==u)&&(r.flags|=4194816)}}function Nl(a,r,u,d,m){return hs(r),u=$s(a,r,u,d,void 0,m),d=Nh(),a!==null&&!Xi?(qu(a,r,m),Vi(a,r,m)):(be&&d&&xh(r),r.flags|=1,yi(a,r,u,m),r.child)}function aa(a,r,u,d,m,C){return hs(r),r.updateQueue=null,u=Sf(r,d,u,m),bf(a),d=Nh(),a!==null&&!Xi?(qu(a,r,C),Vi(a,r,C)):(be&&d&&xh(r),r.flags|=1,yi(a,r,u,C),r.child)}function sa(a,r,u,d,m){if(hs(r),r.stateNode===null){var C=Rr,b=u.contextType;typeof b=="object"&&b!==null&&(C=hi(b)),C=new u(d,C),r.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Sn,r.stateNode=C,C._reactInternals=r,C=r.stateNode,C.props=d,C.state=r.memoizedState,C.refs={},Mh(r),b=u.contextType,C.context=typeof b=="object"&&b!==null?hi(b):Rr,C.state=r.memoizedState,b=u.getDerivedStateFromProps,typeof b=="function"&&(Pr(r,u,b,d),C.state=r.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(b=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),b!==C.state&&Sn.enqueueReplaceState(C,C.state,null),Sl(r,d,C,m),YA(),C.state=r.memoizedState),typeof C.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(a===null){C=r.stateNode;var N=r.memoizedProps,z=gs(u,N);C.props=z;var at=C.context,ft=u.contextType;b=Rr,typeof ft=="object"&&ft!==null&&(b=hi(ft));var yt=u.getDerivedStateFromProps;ft=typeof yt=="function"||typeof C.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,ft||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(N||at!==b)&&rg(r,C,d,b),Js=!1;var rt=r.memoizedState;C.state=rt,Sl(r,d,C,m),YA(),at=r.memoizedState,N||rt!==at||Js?(typeof yt=="function"&&(Pr(r,u,yt,d),at=r.memoizedState),(z=Js||sg(r,u,z,d,rt,at,b))?(ft||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(r.flags|=4194308)):(typeof C.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=at),C.props=d,C.state=at,C.context=b,d=z):(typeof C.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{C=r.stateNode,te(a,r),b=r.memoizedProps,ft=gs(u,b),C.props=ft,yt=r.pendingProps,rt=C.context,at=u.contextType,z=Rr,typeof at=="object"&&at!==null&&(z=hi(at)),N=u.getDerivedStateFromProps,(at=typeof N=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(b!==yt||rt!==z)&&rg(r,C,d,z),Js=!1,rt=r.memoizedState,C.state=rt,Sl(r,d,C,m),YA();var ot=r.memoizedState;b!==yt||rt!==ot||Js||a!==null&&a.dependencies!==null&&OA(a.dependencies)?(typeof N=="function"&&(Pr(r,u,N,d),ot=r.memoizedState),(ft=Js||sg(r,u,ft,d,rt,ot,z)||a!==null&&a.dependencies!==null&&OA(a.dependencies))?(at||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(d,ot,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(d,ot,z)),typeof C.componentDidUpdate=="function"&&(r.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof C.componentDidUpdate!="function"||b===a.memoizedProps&&rt===a.memoizedState||(r.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||b===a.memoizedProps&&rt===a.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ot),C.props=d,C.state=ot,C.context=z,d=ft):(typeof C.componentDidUpdate!="function"||b===a.memoizedProps&&rt===a.memoizedState||(r.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||b===a.memoizedProps&&rt===a.memoizedState||(r.flags|=1024),d=!1)}return C=d,To(a,r),d=(r.flags&128)!==0,C||d?(C=r.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:C.render(),r.flags|=1,a!==null&&d?(r.child=Qo(r,a.child,null,m),r.child=Qo(r,null,u,m)):yi(a,r,u,m),r.memoizedState=C.state,a=r.child):a=Vi(a,r,m),a}function zr(a,r,u,d){return Il(),r.flags|=256,yi(a,r,u,d),r.child}var Xa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Va(a){return{baseLanes:a,cachePool:Yu()}}function Gi(a,r,u){return a=a!==null?a.childLanes&~u:0,r&&(a|=wa),a}function Ul(a,r,u){var d=r.pendingProps,m=!1,C=(r.flags&128)!==0,b;if((b=C)||(b=a!==null&&a.memoizedState===null?!1:(Ei.current&2)!==0),b&&(m=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,a===null){if(be){if(m?Lr(r):Fr(),be){var N=oi,z;if(z=N){t:{for(z=N,N=ea;z.nodeType!==8;){if(!N){N=null;break t}if(z=or(z.nextSibling),z===null){N=null;break t}}N=z}N!==null?(r.memoizedState={dehydrated:N,treeContext:Mr!==null?{id:us,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},z=Yn(18,null,null,0),z.stateNode=N,z.return=r,r.child=z,Qn=r,oi=null,z=!0):z=!1}z||wr(r)}if(N=r.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Zp(N)?r.lanes=32:r.lanes=536870912,null;fs(r)}return N=d.children,d=d.fallback,m?(Fr(),m=r.mode,N=Ro({mode:"hidden",children:N},m),d=Dr(d,m,u,null),N.return=r,d.return=r,N.sibling=d,r.child=N,m=r.child,m.memoizedState=Va(u),m.childLanes=Gi(a,b,u),r.memoizedState=Xa,d):(Lr(r),ps(r,N))}if(z=a.memoizedState,z!==null&&(N=z.dehydrated,N!==null)){if(C)r.flags&256?(Lr(r),r.flags&=-257,r=sn(a,r,u)):r.memoizedState!==null?(Fr(),r.child=a.child,r.flags|=128,r=null):(Fr(),m=d.fallback,N=r.mode,d=Ro({mode:"visible",children:d.children},N),m=Dr(m,N,u,null),m.flags|=2,d.return=r,m.return=r,d.sibling=m,r.child=d,Qo(r,a.child,null,u),d=r.child,d.memoizedState=Va(u),d.childLanes=Gi(a,b,u),r.memoizedState=Xa,r=m);else if(Lr(r),Zp(N)){if(b=N.nextSibling&&N.nextSibling.dataset,b)var at=b.dgst;b=at,d=Error(n(419)),d.stack="",d.digest=b,Io({value:d,source:null,stack:null}),r=sn(a,r,u)}else if(Xi||xa(a,r,u,!1),b=(u&a.childLanes)!==0,Xi||b){if(b=se,b!==null&&(d=u&-u,d=(d&42)!==0?1:mr(d),d=(d&(b.suspendedLanes|u))!==0?0:d,d!==0&&d!==z.retryLane))throw z.retryLane=d,js(a,d),Rn(b,a,d),Ag;N.data==="$?"||o(),r=sn(a,r,u)}else N.data==="$?"?(r.flags|=192,r.child=a.child,r=null):(a=z.treeContext,oi=or(N.nextSibling),Qn=r,be=!0,_a=null,ea=!1,a!==null&&(nn[ta++]=us,nn[ta++]=cs,nn[ta++]=Mr,us=a.id,cs=a.overflow,Mr=r),r=ps(r,d.children),r.flags|=4096);return r}return m?(Fr(),m=d.fallback,N=r.mode,z=a.child,at=z.sibling,d=pi(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&65011712,at!==null?m=pi(at,m):(m=Dr(m,N,u,null),m.flags|=2),m.return=r,d.return=r,d.sibling=m,r.child=d,d=m,m=r.child,N=a.child.memoizedState,N===null?N=Va(u):(z=N.cachePool,z!==null?(at=Qi._currentValue,z=z.parent!==at?{parent:at,pool:at}:z):z=Yu(),N={baseLanes:N.baseLanes|u,cachePool:z}),m.memoizedState=N,m.childLanes=Gi(a,b,u),r.memoizedState=Xa,d):(Lr(r),u=a.child,a=u.sibling,u=pi(u,{mode:"visible",children:d.children}),u.return=r,u.sibling=null,a!==null&&(b=r.deletions,b===null?(r.deletions=[a],r.flags|=16):b.push(a)),r.child=u,r.memoizedState=null,u)}function ps(a,r){return r=Ro({mode:"visible",children:r},a.mode),r.return=a,a.child=r}function Ro(a,r){return a=Yn(22,a,null,r),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function sn(a,r,u){return Qo(r,a.child,null,u),a=ps(r,r.pendingProps.children),a.flags|=2,r.memoizedState=null,a}function rn(a,r,u){a.lanes|=r;var d=a.alternate;d!==null&&(d.lanes|=r),Sh(a.return,r,u)}function Ie(a,r,u,d,m){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(C.isBackwards=r,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=u,C.tailMode=m)}function Ta(a,r,u){var d=r.pendingProps,m=d.revealOrder,C=d.tail;if(yi(a,r,d.children,u),d=Ei.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=r.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&rn(a,u,r);else if(a.tag===19)rn(a,u,r);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(Et(Ei,d),m){case"forwards":for(u=r.child,m=null;u!==null;)a=u.alternate,a!==null&&er(a)===null&&(m=u),u=u.sibling;u=m,u===null?(m=r.child,r.child=null):(m=u.sibling,u.sibling=null),Ie(r,!1,m,u,C);break;case"backwards":for(u=null,m=r.child,r.child=null;m!==null;){if(a=m.alternate,a!==null&&er(a)===null){r.child=m;break}a=m.sibling,m.sibling=u,u=m,m=a}Ie(r,!0,u,null,C);break;case"together":Ie(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Vi(a,r,u){if(a!==null&&(r.dependencies=a.dependencies),Za|=r.lanes,(u&r.childLanes)===0)if(a!==null){if(xa(a,r,u,!1),(u&r.childLanes)===0)return null}else return null;if(a!==null&&r.child!==a.child)throw Error(n(153));if(r.child!==null){for(a=r.child,u=pi(a,a.pendingProps),r.child=u,u.return=r;a.sibling!==null;)a=a.sibling,u=u.sibling=pi(a,a.pendingProps),u.return=r;u.sibling=null}return r.child}function ZA(a,r){return(a.lanes&r)!==0?!0:(a=a.dependencies,!!(a!==null&&OA(a)))}function Ra(a,r,u){switch(r.tag){case 3:oe(r,r.stateNode.containerInfo),Nr(r,Qi,a.memoizedState.cache),Il();break;case 27:case 5:wn(r);break;case 4:oe(r,r.stateNode.containerInfo);break;case 10:Nr(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(Lr(r),r.flags|=128,null):(u&r.child.childLanes)!==0?Ul(a,r,u):(Lr(r),a=Vi(a,r,u),a!==null?a.sibling:null);Lr(r);break;case 19:var m=(a.flags&128)!==0;if(d=(u&r.childLanes)!==0,d||(xa(a,r,u,!1),d=(u&r.childLanes)!==0),m){if(d)return Ta(a,r,u);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Et(Ei,Ei.current),d)break;return null;case 22:case 23:return r.lanes=0,bo(a,r,u);case 24:Nr(r,Qi,a.memoizedState.cache)}return Vi(a,r,u)}function Do(a,r,u){if(a!==null)if(a.memoizedProps!==r.pendingProps)Xi=!0;else{if(!ZA(a,u)&&(r.flags&128)===0)return Xi=!1,Ra(a,r,u);Xi=(a.flags&131072)!==0}else Xi=!1,be&&(r.flags&1048576)!==0&&ku(r,Cl,r.index);switch(r.lanes=0,r.tag){case 16:t:{a=r.pendingProps;var d=r.elementType,m=d._init;if(d=m(d._payload),r.type=d,typeof d=="function")wA(d)?(a=gs(d,a),r.tag=1,r=sa(null,r,d,a,u)):(r.tag=0,r=Nl(null,r,d,a,u));else{if(d!=null){if(m=d.$$typeof,m===F){r.tag=11,r=jn(null,r,d,a,u);break t}else if(m===V){r.tag=14,r=Xn(null,r,d,a,u);break t}}throw r=Rt(d)||d,Error(n(306,r,""))}}return r;case 0:return Nl(a,r,r.type,r.pendingProps,u);case 1:return d=r.type,m=gs(d,r.pendingProps),sa(a,r,d,m,u);case 3:t:{if(oe(r,r.stateNode.containerInfo),a===null)throw Error(n(387));d=r.pendingProps;var C=r.memoizedState;m=C.element,te(a,r),Sl(r,d,null,u);var b=r.memoizedState;if(d=b.cache,Nr(r,Qi,d),d!==C.cache&&UA(r,[Qi],u,!0),YA(),d=b.element,C.isDehydrated)if(C={element:d,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=C,r.memoizedState=C,r.flags&256){r=zr(a,r,d,u);break t}else if(d!==m){m=en(Error(n(424)),r),Io(m),r=zr(a,r,d,u);break t}else{switch(a=r.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(oi=or(a.firstChild),Qn=r,be=!0,_a=null,ea=!0,u=ng(r,null,d,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Il(),d===m){r=Vi(a,r,u);break t}yi(a,r,d,u)}r=r.child}return r;case 26:return To(a,r),a===null?(u=Ey(r.type,null,r.pendingProps,null))?r.memoizedState=u:be||(u=r.type,a=r.pendingProps,d=gg(kt.current).createElement(u),d[Ue]=r,d[Mi]=a,Dn(d,u,a),xi(d),r.stateNode=d):r.memoizedState=Ey(r.type,a.memoizedProps,r.pendingProps,a.memoizedState),null;case 27:return wn(r),a===null&&be&&(d=r.stateNode=gy(r.type,r.pendingProps,kt.current),Qn=r,ea=!0,m=oi,jl(r.type)?($p=m,oi=or(d.firstChild)):oi=m),yi(a,r,r.pendingProps.children,u),To(a,r),a===null&&(r.flags|=4194304),r.child;case 5:return a===null&&be&&((m=d=oi)&&(d=Vv(d,r.type,r.pendingProps,ea),d!==null?(r.stateNode=d,Qn=r,oi=or(d.firstChild),ea=!1,m=!0):m=!1),m||wr(r)),wn(r),m=r.type,C=r.pendingProps,b=a!==null?a.memoizedProps:null,d=C.children,qp(m,C)?d=null:b!==null&&qp(m,b)&&(r.flags|=32),r.memoizedState!==null&&(m=$s(a,r,Mp,null,null,u),ld._currentValue=m),To(a,r),yi(a,r,d,u),r.child;case 6:return a===null&&be&&((a=u=oi)&&(u=qv(u,r.pendingProps,ea),u!==null?(r.stateNode=u,Qn=r,oi=null,a=!0):a=!1),a||wr(r)),null;case 13:return Ul(a,r,u);case 4:return oe(r,r.stateNode.containerInfo),d=r.pendingProps,a===null?r.child=Qo(r,null,d,u):yi(a,r,d,u),r.child;case 11:return jn(a,r,r.type,r.pendingProps,u);case 7:return yi(a,r,r.pendingProps,u),r.child;case 8:return yi(a,r,r.pendingProps.children,u),r.child;case 12:return yi(a,r,r.pendingProps.children,u),r.child;case 10:return d=r.pendingProps,Nr(r,r.type,d.value),yi(a,r,d.children,u),r.child;case 9:return m=r.type._context,d=r.pendingProps.children,hs(r),m=hi(m),d=d(m),r.flags|=1,yi(a,r,d,u),r.child;case 14:return Xn(a,r,r.type,r.pendingProps,u);case 15:return Wh(a,r,r.type,r.pendingProps,u);case 19:return Ta(a,r,u);case 31:return d=r.pendingProps,u=r.mode,d={mode:d.mode,children:d.children},a===null?(u=Ro(d,u),u.ref=r.ref,r.child=u,u.return=r,r=u):(u=pi(a.child,d),u.ref=r.ref,r.child=u,u.return=r,r=u),r;case 22:return bo(a,r,u);case 24:return hs(r),d=hi(Qi),a===null?(m=Ur(),m===null&&(m=se,C=Pu(),m.pooledCache=C,C.refCount++,C!==null&&(m.pooledCacheLanes|=u),m=C),r.memoizedState={parent:d,cache:m},Mh(r),Nr(r,Qi,m)):((a.lanes&u)!==0&&(te(a,r),Sl(r,null,null,u),YA()),m=a.memoizedState,C=r.memoizedState,m.parent!==d?(m={parent:d,cache:d},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Nr(r,Qi,d)):(d=C.cache,Nr(r,Qi,d),d!==m.cache&&UA(r,[Qi],u,!0))),yi(a,r,r.pendingProps.children,u),r.child;case 29:throw r.pendingProps}throw Error(n(156,r.tag))}function qa(a){a.flags|=4}function $A(a,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!_y(r)){if(r=Le.current,r!==null&&((Vt&4194048)===Vt?ja!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||r!==ja))throw va=zA,Rh;a.flags|=8192}}function ir(a,r){r!==null&&(a.flags|=4),a.flags&16384&&(r=a.tag!==22?Ea():536870912,a.lanes|=r,ve|=r)}function Mo(a,r){if(!be)switch(a.tailMode){case"hidden":r=a.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?r||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function je(a){var r=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(r)for(var m=a.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=d,a.childLanes=u,r}function Zh(a,r,u){var d=r.pendingProps;switch(Qh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(r),null;case 1:return je(r),null;case 3:return u=r.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),qs(Qi),ui(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(za(r)?qa(r):a===null||a.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,De())),je(r),null;case 26:return u=r.memoizedState,a===null?(qa(r),u!==null?(je(r),$A(r,u)):(je(r),r.flags&=-16777217)):u?u!==a.memoizedState?(qa(r),je(r),$A(r,u)):(je(r),r.flags&=-16777217):(a.memoizedProps!==d&&qa(r),je(r),r.flags&=-16777217),null;case 27:Fi(r),u=kt.current;var m=r.type;if(a!==null&&r.stateNode!=null)a.memoizedProps!==d&&qa(r);else{if(!d){if(r.stateNode===null)throw Error(n(166));return je(r),null}a=Gt.current,za(r)?Cf(r):(a=gy(m,d,u),r.stateNode=a,qa(r))}return je(r),null;case 5:if(Fi(r),u=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==d&&qa(r);else{if(!d){if(r.stateNode===null)throw Error(n(166));return je(r),null}if(a=Gt.current,za(r))Cf(r);else{switch(m=gg(kt.current),a){case 1:a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=m.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?m.createElement(u,{is:d.is}):m.createElement(u)}}a[Ue]=r,a[Mi]=d;t:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break t;for(;m.sibling===null;){if(m.return===null||m.return===r)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=a;t:switch(Dn(a,u,d),u){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&qa(r)}}return je(r),r.flags&=-16777217,null;case 6:if(a&&r.stateNode!=null)a.memoizedProps!==d&&qa(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(n(166));if(a=kt.current,za(r)){if(a=r.stateNode,u=r.memoizedProps,d=null,m=Qn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}a[Ue]=r,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||ly(a.nodeValue,u)),a||wr(r)}else a=gg(a).createTextNode(d),a[Ue]=r,r.stateNode=a}return je(r),null;case 13:if(d=r.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=za(r),d!==null&&d.dehydrated!==null){if(a===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Ue]=r}else Il(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;je(r),m=!1}else m=De(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(fs(r),r):(fs(r),null)}if(fs(r),(r.flags&128)!==0)return r.lanes=u,r;if(u=d!==null,a=a!==null&&a.memoizedState!==null,u){d=r.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var C=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(C=d.memoizedState.cachePool.pool),C!==m&&(d.flags|=2048)}return u!==a&&u&&(r.child.flags|=8192),ir(r,r.updateQueue),je(r),null;case 4:return ui(),a===null&&Yp(r.stateNode.containerInfo),je(r),null;case 10:return qs(r.type),je(r),null;case 19:if(It(Ei),m=r.memoizedState,m===null)return je(r),null;if(d=(r.flags&128)!==0,C=m.rendering,C===null)if(d)Mo(m,!1);else{if(ti!==0||a!==null&&(a.flags&128)!==0)for(a=r.child;a!==null;){if(C=er(a),C!==null){for(r.flags|=128,Mo(m,!1),a=C.updateQueue,r.updateQueue=a,ir(r,a),r.subtreeFlags=0,a=u,u=r.child;u!==null;)_h(u,a),u=u.sibling;return Et(Ei,Ei.current&1|2),r.child}a=a.sibling}m.tail!==null&&ii()>hn&&(r.flags|=128,d=!0,Mo(m,!1),r.lanes=4194304)}else{if(!d)if(a=er(C),a!==null){if(r.flags|=128,d=!0,a=a.updateQueue,r.updateQueue=a,ir(r,a),Mo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!C.alternate&&!be)return je(r),null}else 2*ii()-m.renderingStartTime>hn&&u!==536870912&&(r.flags|=128,d=!0,Mo(m,!1),r.lanes=4194304);m.isBackwards?(C.sibling=r.child,r.child=C):(a=m.last,a!==null?a.sibling=C:r.child=C,m.last=C)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=ii(),r.sibling=null,a=Ei.current,Et(Ei,d?a&1|2:a&1),r):(je(r),null);case 22:case 23:return fs(r),KA(),d=r.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(u&536870912)!==0&&(r.flags&128)===0&&(je(r),r.subtreeFlags&6&&(r.flags|=8192)):je(r),u=r.updateQueue,u!==null&&ir(r,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==u&&(r.flags|=2048),a!==null&&It(Qa),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),qs(Qi),je(r),null;case 25:return null;case 30:return null}throw Error(n(156,r.tag))}function Ol(a,r){switch(Qh(r),r.tag){case 1:return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 3:return qs(Qi),ui(),a=r.flags,(a&65536)!==0&&(a&128)===0?(r.flags=a&-65537|128,r):null;case 26:case 27:case 5:return Fi(r),null;case 13:if(fs(r),a=r.memoizedState,a!==null&&a.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Il()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 19:return It(Ei),null;case 4:return ui(),null;case 10:return qs(r.type),null;case 22:case 23:return fs(r),KA(),a!==null&&It(Qa),a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 24:return qs(Qi),null;case 25:return null;default:return null}}function Hl(a,r){switch(Qh(r),r.tag){case 3:qs(Qi),ui();break;case 26:case 27:case 5:Fi(r);break;case 4:ui();break;case 13:fs(r);break;case 19:It(Ei);break;case 10:qs(r.type);break;case 22:case 23:fs(r),KA(),a!==null&&It(Qa);break;case 24:qs(Qi)}}function wo(a,r){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&a)===a){d=void 0;var C=u.create,b=u.inst;d=C(),b.destroy=d}u=u.next}while(u!==m)}}catch(N){X(r,r.return,N)}}function ra(a,r,u){try{var d=r.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var C=m.next;d=C;do{if((d.tag&a)===a){var b=d.inst,N=b.destroy;if(N!==void 0){b.destroy=void 0,m=r;var z=u,at=N;try{at()}catch(ft){X(m,z,ft)}}}d=d.next}while(d!==C)}}catch(ft){X(r,r.return,ft)}}function Go(a){var r=a.updateQueue;if(r!==null){var u=a.stateNode;try{xf(r,u)}catch(d){X(a,a.return,d)}}}function nr(a,r,u){u.props=gs(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){X(a,r,d)}}function No(a,r){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(m){X(a,r,m)}}function ms(a,r){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(m){X(a,r,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){X(a,r,m)}else u.current=null}function kl(a){var r=a.type,u=a.memoizedProps,d=a.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break t;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(m){X(a,a.return,m)}}function tu(a,r,u){try{var d=a.stateNode;zv(d,a.type,u,r),d[Mi]=r}catch(m){X(a,a.return,m)}}function eu(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&jl(a.type)||a.tag===4}function Yr(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||eu(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&jl(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Kr(a,r,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,r?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,r):(r=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,r.appendChild(a),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=fg));else if(d!==4&&(d===27&&jl(a.type)&&(u=a.stateNode,r=null),a=a.child,a!==null))for(Kr(a,r,u),a=a.sibling;a!==null;)Kr(a,r,u),a=a.sibling}function jr(a,r,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,r?u.insertBefore(a,r):u.appendChild(a);else if(d!==4&&(d===27&&jl(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(jr(a,r,u),a=a.sibling;a!==null;)jr(a,r,u),a=a.sibling}function Xr(a){var r=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Dn(r,d,u),r[Ue]=a,r[Mi]=u}catch(C){X(a,a.return,C)}}var Es=!1,Xe=!1,Ll=!1,oa=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Ni(a,r){if(a=a.containerInfo,Xp=Cg,a=ph(a),TA(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,C=d.focusNode;d=d.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break t}var b=0,N=-1,z=-1,at=0,ft=0,yt=a,rt=null;e:for(;;){for(var ot;yt!==u||m!==0&&yt.nodeType!==3||(N=b+m),yt!==C||d!==0&&yt.nodeType!==3||(z=b+d),yt.nodeType===3&&(b+=yt.nodeValue.length),(ot=yt.firstChild)!==null;)rt=yt,yt=ot;for(;;){if(yt===a)break e;if(rt===u&&++at===m&&(N=b),rt===C&&++ft===d&&(z=b),(ot=yt.nextSibling)!==null)break;yt=rt,rt=yt.parentNode}yt=ot}u=N===-1||z===-1?null:{start:N,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Vp={focusedElem:a,selectionRange:u},Cg=!1,Fe=r;Fe!==null;)if(r=Fe,a=r.child,(r.subtreeFlags&1024)!==0&&a!==null)a.return=r,Fe=a;else for(;Fe!==null;){switch(r=Fe,C=r.alternate,a=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,u=r,m=C.memoizedProps,C=C.memoizedState,d=u.stateNode;try{var ae=gs(u.type,m,u.elementType===u.type);a=d.getSnapshotBeforeUpdate(ae,C),d.__reactInternalSnapshotBeforeUpdate=a}catch(Wt){X(u,u.return,Wt)}}break;case 3:if((a&1024)!==0){if(a=r.stateNode.containerInfo,u=a.nodeType,u===9)Wp(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Wp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=r.sibling,a!==null){a.return=r.return,Fe=a;break}Fe=r.return}}function ar(a,r,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Tn(a,u),d&4&&wo(5,u);break;case 1:if(Tn(a,u),d&4)if(a=u.stateNode,r===null)try{a.componentDidMount()}catch(b){X(u,u.return,b)}else{var m=gs(u.type,r.memoizedProps);r=r.memoizedState;try{a.componentDidUpdate(m,r,a.__reactInternalSnapshotBeforeUpdate)}catch(b){X(u,u.return,b)}}d&64&&Go(u),d&512&&No(u,u.return);break;case 3:if(Tn(a,u),d&64&&(a=u.updateQueue,a!==null)){if(r=null,u.child!==null)switch(u.child.tag){case 27:case 5:r=u.child.stateNode;break;case 1:r=u.child.stateNode}try{xf(a,r)}catch(b){X(u,u.return,b)}}break;case 27:r===null&&d&4&&Xr(u);case 26:case 5:Tn(a,u),r===null&&d&4&&kl(u),d&512&&No(u,u.return);break;case 12:Tn(a,u);break;case 13:Tn(a,u),d&4&&Vr(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=ei.bind(null,u),Jv(a,u))));break;case 22:if(d=u.memoizedState!==null||Es,!d){r=r!==null&&r.memoizedState!==null||Xe,m=Es;var C=Xe;Es=d,(Xe=r)&&!C?ys(a,u,(u.subtreeFlags&8772)!==0):Tn(a,u),Es=m,Xe=C}break;case 30:break;default:Tn(a,u)}}function de(a){var r=a.alternate;r!==null&&(a.alternate=null,de(r)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(r=a.stateNode,r!==null&&Ze(r)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var qt=null,Qe=!1;function Da(a,r,u){for(u=u.child;u!==null;)Uo(a,r,u),u=u.sibling}function Uo(a,r,u){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(ho,u)}catch{}switch(u.tag){case 26:Xe||ms(u,r),Da(a,r,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Xe||ms(u,r);var d=qt,m=Qe;jl(u.type)&&(qt=u.stateNode,Qe=!1),Da(a,r,u),ad(u.stateNode),qt=d,Qe=m;break;case 5:Xe||ms(u,r);case 6:if(d=qt,m=Qe,qt=null,Da(a,r,u),qt=d,Qe=m,qt!==null)if(Qe)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(u.stateNode)}catch(C){X(u,r,C)}else try{qt.removeChild(u.stateNode)}catch(C){X(u,r,C)}break;case 18:qt!==null&&(Qe?(a=qt,dy(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),hd(a)):dy(qt,u.stateNode));break;case 4:d=qt,m=Qe,qt=u.stateNode.containerInfo,Qe=!0,Da(a,r,u),qt=d,Qe=m;break;case 0:case 11:case 14:case 15:Xe||ra(2,u,r),Xe||ra(4,u,r),Da(a,r,u);break;case 1:Xe||(ms(u,r),d=u.stateNode,typeof d.componentWillUnmount=="function"&&nr(u,r,d)),Da(a,r,u);break;case 21:Da(a,r,u);break;case 22:Xe=(d=Xe)||u.memoizedState!==null,Da(a,r,u),Xe=d;break;default:Da(a,r,u)}}function Vr(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{hd(a)}catch(u){X(r,r.return,u)}}function Ac(a){switch(a.tag){case 13:case 19:var r=a.stateNode;return r===null&&(r=a.stateNode=new oa),r;case 22:return a=a.stateNode,r=a._retryCache,r===null&&(r=a._retryCache=new oa),r;default:throw Error(n(435,a.tag))}}function Oo(a,r){var u=Ac(a);r.forEach(function(d){var m=ee.bind(null,a,d);u.has(d)||(u.add(d),d.then(m,m))})}function qi(a,r){var u=r.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d],C=a,b=r,N=b;t:for(;N!==null;){switch(N.tag){case 27:if(jl(N.type)){qt=N.stateNode,Qe=!1;break t}break;case 5:qt=N.stateNode,Qe=!1;break t;case 3:case 4:qt=N.stateNode.containerInfo,Qe=!0;break t}N=N.return}if(qt===null)throw Error(n(160));Uo(C,b,m),qt=null,Qe=!1,C=m.alternate,C!==null&&(C.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)uc(r,a),r=r.sibling}var Ja=null;function uc(a,r){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:qi(r,a),di(a),d&4&&(ra(3,a,a.return),wo(3,a),ra(5,a,a.return));break;case 1:qi(r,a),di(a),d&512&&(Xe||u===null||ms(u,u.return)),d&64&&Es&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var m=Ja;if(qi(r,a),di(a),d&512&&(Xe||u===null||ms(u,u.return)),d&4){var C=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){t:{d=a.type,u=a.memoizedProps,m=m.ownerDocument||m;e:switch(d){case"title":C=m.getElementsByTagName("title")[0],(!C||C[rs]||C[Ue]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=m.createElement(d),m.head.insertBefore(C,m.querySelector("head > title"))),Dn(C,d,u),C[Ue]=a,xi(C),d=C;break t;case"link":var b=Cy("link","href",m).get(d+(u.href||""));if(b){for(var N=0;N<b.length;N++)if(C=b[N],C.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){b.splice(N,1);break e}}C=m.createElement(d),Dn(C,d,u),m.head.appendChild(C);break;case"meta":if(b=Cy("meta","content",m).get(d+(u.content||""))){for(N=0;N<b.length;N++)if(C=b[N],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){b.splice(N,1);break e}}C=m.createElement(d),Dn(C,d,u),m.head.appendChild(C);break;default:throw Error(n(468,d))}C[Ue]=a,xi(C),d=C}a.stateNode=d}else Iy(m,a.type,a.stateNode);else a.stateNode=By(m,d,a.memoizedProps);else C!==d?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,d===null?Iy(m,a.type,a.stateNode):By(m,d,a.memoizedProps)):d===null&&a.stateNode!==null&&tu(a,a.memoizedProps,u.memoizedProps)}break;case 27:qi(r,a),di(a),d&512&&(Xe||u===null||ms(u,u.return)),u!==null&&d&4&&tu(a,a.memoizedProps,u.memoizedProps);break;case 5:if(qi(r,a),di(a),d&512&&(Xe||u===null||ms(u,u.return)),a.flags&32){m=a.stateNode;try{$e(m,"")}catch(ot){X(a,a.return,ot)}}d&4&&a.stateNode!=null&&(m=a.memoizedProps,tu(a,m,u!==null?u.memoizedProps:m)),d&1024&&(Ll=!0);break;case 6:if(qi(r,a),di(a),d&4){if(a.stateNode===null)throw Error(n(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(ot){X(a,a.return,ot)}}break;case 3:if(Eg=null,m=Ja,Ja=pg(r.containerInfo),qi(r,a),Ja=m,di(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{hd(r.containerInfo)}catch(ot){X(a,a.return,ot)}Ll&&(Ll=!1,qr(a));break;case 4:d=Ja,Ja=pg(a.stateNode.containerInfo),qi(r,a),di(a),Ja=d;break;case 12:qi(r,a),di(a);break;case 13:qi(r,a),di(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ke=ii()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Oo(a,d)));break;case 22:m=a.memoizedState!==null;var z=u!==null&&u.memoizedState!==null,at=Es,ft=Xe;if(Es=at||m,Xe=ft||z,qi(r,a),Xe=ft,Es=at,di(a),d&8192)t:for(r=a.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(u===null||z||Es||Xe||la(a)),u=null,r=a;;){if(r.tag===5||r.tag===26){if(u===null){z=u=r;try{if(C=z.stateNode,m)b=C.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=z.stateNode;var yt=z.memoizedProps.style,rt=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;N.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(ot){X(z,z.return,ot)}}}else if(r.tag===6){if(u===null){z=r;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(ot){X(z,z.return,ot)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===a)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;u===r&&(u=null),r=r.return}u===r&&(u=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Oo(a,u))));break;case 19:qi(r,a),di(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Oo(a,d)));break;case 30:break;case 21:break;default:qi(r,a),di(a)}}function di(a){var r=a.flags;if(r&2){try{for(var u,d=a.return;d!==null;){if(eu(d)){u=d;break}d=d.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var m=u.stateNode,C=Yr(a);jr(a,C,m);break;case 5:var b=u.stateNode;u.flags&32&&($e(b,""),u.flags&=-33);var N=Yr(a);jr(a,N,b);break;case 3:case 4:var z=u.stateNode.containerInfo,at=Yr(a);Kr(a,at,z);break;default:throw Error(n(161))}}catch(ft){X(a,a.return,ft)}a.flags&=-3}r&4096&&(a.flags&=-4097)}function qr(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var r=a;qr(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),a=a.sibling}}function Tn(a,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ar(a,r.alternate,r),r=r.sibling}function la(a){for(a=a.child;a!==null;){var r=a;switch(r.tag){case 0:case 11:case 14:case 15:ra(4,r,r.return),la(r);break;case 1:ms(r,r.return);var u=r.stateNode;typeof u.componentWillUnmount=="function"&&nr(r,r.return,u),la(r);break;case 27:ad(r.stateNode);case 26:case 5:ms(r,r.return),la(r);break;case 22:r.memoizedState===null&&la(r);break;case 30:la(r);break;default:la(r)}a=a.sibling}}function ys(a,r,u){for(u=u&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,m=a,C=r,b=C.flags;switch(C.tag){case 0:case 11:case 15:ys(m,C,u),wo(4,C);break;case 1:if(ys(m,C,u),d=C,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(at){X(d,d.return,at)}if(d=C,m=d.updateQueue,m!==null){var N=d.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)Tl(z[m],N)}catch(at){X(d,d.return,at)}}u&&b&64&&Go(C),No(C,C.return);break;case 27:Xr(C);case 26:case 5:ys(m,C,u),u&&d===null&&b&4&&kl(C),No(C,C.return);break;case 12:ys(m,C,u);break;case 13:ys(m,C,u),u&&b&4&&Vr(m,C);break;case 22:C.memoizedState===null&&ys(m,C,u),No(C,C.return);break;case 30:break;default:ys(m,C,u)}r=r.sibling}}function cc(a,r){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&_l(u))}function hc(a,r){a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&_l(a))}function Pe(a,r,u,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dc(a,r,u,d),r=r.sibling}function dc(a,r,u,d){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Pe(a,r,u,d),m&2048&&wo(9,r);break;case 1:Pe(a,r,u,d);break;case 3:Pe(a,r,u,d),m&2048&&(a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&_l(a)));break;case 12:if(m&2048){Pe(a,r,u,d),a=r.stateNode;try{var C=r.memoizedProps,b=C.id,N=C.onPostCommit;typeof N=="function"&&N(b,r.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(z){X(r,r.return,z)}}else Pe(a,r,u,d);break;case 13:Pe(a,r,u,d);break;case 23:break;case 22:C=r.stateNode,b=r.alternate,r.memoizedState!==null?C._visibility&2?Pe(a,r,u,d):Wa(a,r):C._visibility&2?Pe(a,r,u,d):(C._visibility|=2,sr(a,r,u,d,(r.subtreeFlags&10256)!==0)),m&2048&&cc(b,r);break;case 24:Pe(a,r,u,d),m&2048&&hc(r.alternate,r);break;default:Pe(a,r,u,d)}}function sr(a,r,u,d,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var C=a,b=r,N=u,z=d,at=b.flags;switch(b.tag){case 0:case 11:case 15:sr(C,b,N,z,m),wo(8,b);break;case 23:break;case 22:var ft=b.stateNode;b.memoizedState!==null?ft._visibility&2?sr(C,b,N,z,m):Wa(C,b):(ft._visibility|=2,sr(C,b,N,z,m)),m&&at&2048&&cc(b.alternate,b);break;case 24:sr(C,b,N,z,m),m&&at&2048&&hc(b.alternate,b);break;default:sr(C,b,N,z,m)}r=r.sibling}}function Wa(a,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var u=a,d=r,m=d.flags;switch(d.tag){case 22:Wa(u,d),m&2048&&cc(d.alternate,d);break;case 24:Wa(u,d),m&2048&&hc(d.alternate,d);break;default:Wa(u,d)}r=r.sibling}}var Aa=8192;function Fl(a){if(a.subtreeFlags&Aa)for(a=a.child;a!==null;)ug(a),a=a.sibling}function ug(a){switch(a.tag){case 26:Fl(a),a.flags&Aa&&a.memoizedState!==null&&Ab(Ja,a.memoizedState,a.memoizedProps);break;case 5:Fl(a);break;case 3:case 4:var r=Ja;Ja=pg(a.stateNode.containerInfo),Fl(a),Ja=r;break;case 22:a.memoizedState===null&&(r=a.alternate,r!==null&&r.memoizedState!==null?(r=Aa,Aa=16777216,Fl(a),Aa=r):Fl(a));break;default:Fl(a)}}function cg(a){var r=a.alternate;if(r!==null&&(a=r.child,a!==null)){r.child=null;do r=a.sibling,a.sibling=null,a=r;while(a!==null)}}function Ve(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var u=0;u<r.length;u++){var d=r[u];Fe=d,Cs(d,a)}cg(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$h(a),a=a.sibling}function $h(a){switch(a.tag){case 0:case 11:case 15:Ve(a),a.flags&2048&&ra(9,a,a.return);break;case 3:Ve(a);break;case 12:Ve(a);break;case 22:var r=a.stateNode;a.memoizedState!==null&&r._visibility&2&&(a.return===null||a.return.tag!==13)?(r._visibility&=-3,Bs(a)):Ve(a);break;default:Ve(a)}}function Bs(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var u=0;u<r.length;u++){var d=r[u];Fe=d,Cs(d,a)}cg(a)}for(a=a.child;a!==null;){switch(r=a,r.tag){case 0:case 11:case 15:ra(8,r,r.return),Bs(r);break;case 22:u=r.stateNode,u._visibility&2&&(u._visibility&=-3,Bs(r));break;default:Bs(r)}a=a.sibling}}function Cs(a,r){for(;Fe!==null;){var u=Fe;switch(u.tag){case 0:case 11:case 15:ra(8,u,r);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:_l(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Fe=d;else t:for(u=a;Fe!==null;){d=Fe;var m=d.sibling,C=d.return;if(de(d),d===u){Fe=null;break t}if(m!==null){m.return=C,Fe=m;break t}Fe=C}}}var fi={getCacheForType:function(a){var r=hi(Qi),u=r.data.get(a);return u===void 0&&(u=a(),r.data.set(a,u)),u}},td=typeof WeakMap=="function"?WeakMap:Map,Me=0,se=null,ge=null,Vt=0,ce=0,li=null,ua=!1,Pl=!1,zl=!1,Ma=0,ti=0,Za=0,Is=0,Ho=0,wa=0,ve=0,we=null,Jt=null,ye=!1,ke=0,hn=1/0,Ga=null,ca=null,Ui=0,dn=null,ze=null,ha=0,rr=0,iu=null,da=null,_s=0,ko=null;function gi(){if((Me&2)!==0&&Vt!==0)return Vt&-Vt;if(P.T!==null){var a=le;return a!==0?a:Lp()}return Bn()}function fc(){wa===0&&(wa=(Vt&536870912)===0||be?go():536870912);var a=Le.current;return a!==null&&(a.flags|=32),wa}function Rn(a,r,u){(a===se&&(ce===2||ce===9)||a.cancelPendingCommit!==null)&&(Wr(a,0),$a(a,Vt,wa,!1)),pr(a,u),((Me&2)===0||a!==se)&&(a===se&&((Me&2)===0&&(Is|=u),ti===4&&$a(a,Vt,wa,!1)),to(a))}function Yl(a,r,u){if((Me&6)!==0)throw Error(n(327));var d=!u&&(r&124)===0&&(r&a.expiredLanes)===0||Wn(a,r),m=d?E(a,r):A(a,r,!0),C=d;do{if(m===0){Pl&&!d&&$a(a,r,0,!1);break}else{if(u=a.current.alternate,C&&!Jr(u)){m=A(a,r,!1),C=!1;continue}if(m===2){if(C=r,a.errorRecoveryDisabledLanes&C)var b=0;else b=a.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var N=a;m=we;var z=N.current.memoizedState.isDehydrated;if(z&&(Wr(N,b).flags|=256),b=A(N,b,!1),b!==2){if(zl&&!z){N.errorRecoveryDisabledLanes|=C,Is|=C,m=4;break t}C=Jt,Jt=m,C!==null&&(Jt===null?Jt=C:Jt.push.apply(Jt,C))}m=b}if(C=!1,m!==2)continue}}if(m===1){Wr(a,0),$a(a,r,0,!0);break}t:{switch(d=a,C=m,C){case 0:case 1:throw Error(n(345));case 4:if((r&4194048)!==r)break;case 6:$a(d,r,wa,!ua);break t;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(n(329))}if((r&62914560)===r&&(m=ke+300-ii(),10<m)){if($a(d,r,wa,!ua),En(d,0,!0)!==0)break t;d.timeoutHandle=cy(nu.bind(null,d,u,Jt,Ga,ye,r,wa,Is,ve,ua,C,2,-0,0),m);break t}nu(d,u,Jt,Ga,ye,r,wa,Is,ve,ua,C,0,-0,0)}}break}while(!0);to(a)}function nu(a,r,u,d,m,C,b,N,z,at,ft,yt,rt,ot){if(a.timeoutHandle=-1,yt=r.subtreeFlags,(yt&8192||(yt&16785408)===16785408)&&(od={stylesheets:null,count:0,unsuspend:lb},ug(r),yt=ub(),yt!==null)){a.cancelPendingCommit=yt(Tt.bind(null,a,r,C,u,d,m,b,N,z,ft,1,rt,ot)),$a(a,C,b,!at);return}Tt(a,r,C,u,d,m,b,N,z)}function Jr(a){for(var r=a;;){var u=r.tag;if((u===0||u===11||u===15)&&r.flags&16384&&(u=r.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var m=u[d],C=m.getSnapshot;m=m.value;try{if(!Fn(C(),m))return!1}catch{return!1}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $a(a,r,u,d){r&=~Ho,r&=~Is,a.suspendedLanes|=r,a.pingedLanes&=~r,d&&(a.warmLanes|=r),d=a.expirationTimes;for(var m=r;0<m;){var C=31-Di(m),b=1<<C;d[C]=-1,m&=~b}u!==0&&po(a,u,r)}function xs(){return(Me&6)===0?(ed(0),!1):!0}function Lo(){if(ge!==null){if(ce===0)var a=ge.return;else a=ge,Vs=Gr=null,Uh(a),xo=null,qA=0,a=ge;for(;a!==null;)Hl(a.alternate,a),a=a.return;ge=null}}function Wr(a,r){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,Kv(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Lo(),se=a,ge=u=pi(a.current,null),Vt=r,ce=0,li=null,ua=!1,Pl=Wn(a,r),zl=!1,ve=wa=Ho=Is=Za=ti=0,Jt=we=null,ye=!1,(r&8)!==0&&(r|=r&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=r;0<d;){var m=31-Di(d),C=1<<m;r|=a[m],d&=~C}return Ma=r,MA(),u}function gc(a,r){Ae=null,P.H=VA,r===PA||r===Ya?(r=Dh(),ce=3):r===Rh?(r=Dh(),ce=4):ce=r===Ag?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,li=r,ge===null&&(ti=1,rc(a,en(r,a.current)))}function Kl(){var a=P.H;return P.H=VA,a===null?VA:a}function pc(){var a=P.A;return P.A=fi,a}function o(){ti=4,ua||(Vt&4194048)!==Vt&&Le.current!==null||(Pl=!0),(Za&134217727)===0&&(Is&134217727)===0||se===null||$a(se,Vt,wa,!1)}function A(a,r,u){var d=Me;Me|=2;var m=Kl(),C=pc();(se!==a||Vt!==r)&&(Ga=null,Wr(a,r)),r=!1;var b=ti;t:do try{if(ce!==0&&ge!==null){var N=ge,z=li;switch(ce){case 8:Lo(),b=6;break t;case 3:case 2:case 9:case 6:Le.current===null&&(r=!0);var at=ce;if(ce=0,li=null,Y(a,N,z,at),u&&Pl){b=0;break t}break;default:at=ce,ce=0,li=null,Y(a,N,z,at)}}g(),b=ti;break}catch(ft){gc(a,ft)}while(!0);return r&&a.shellSuspendCounter++,Vs=Gr=null,Me=d,P.H=m,P.A=C,ge===null&&(se=null,Vt=0,MA()),b}function g(){for(;ge!==null;)Q(ge)}function E(a,r){var u=Me;Me|=2;var d=Kl(),m=pc();se!==a||Vt!==r?(Ga=null,hn=ii()+500,Wr(a,r)):Pl=Wn(a,r);t:do try{if(ce!==0&&ge!==null){r=ge;var C=li;e:switch(ce){case 1:ce=0,li=null,Y(a,r,C,1);break;case 2:case 9:if(Ku(C)){ce=0,li=null,k(r);break}r=function(){ce!==2&&ce!==9||se!==a||(ce=7),to(a)},C.then(r,r);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:Ku(C)?(ce=0,li=null,k(r)):(ce=0,li=null,Y(a,r,C,7));break;case 5:var b=null;switch(ge.tag){case 26:b=ge.memoizedState;case 5:case 27:var N=ge;if(!b||_y(b)){ce=0,li=null;var z=N.sibling;if(z!==null)ge=z;else{var at=N.return;at!==null?(ge=at,et(at)):ge=null}break e}}ce=0,li=null,Y(a,r,C,5);break;case 6:ce=0,li=null,Y(a,r,C,6);break;case 8:Lo(),ti=6;break t;default:throw Error(n(462))}}I();break}catch(ft){gc(a,ft)}while(!0);return Vs=Gr=null,P.H=d,P.A=m,Me=u,ge!==null?0:(se=null,Vt=0,MA(),ti)}function I(){for(;ge!==null&&!Pi();)Q(ge)}function Q(a){var r=Do(a.alternate,a,Ma);a.memoizedProps=a.pendingProps,r===null?et(a):ge=r}function k(a){var r=a,u=r.alternate;switch(r.tag){case 15:case 0:r=aa(u,r,r.pendingProps,r.type,void 0,Vt);break;case 11:r=aa(u,r,r.pendingProps,r.type.render,r.ref,Vt);break;case 5:Uh(r);default:Hl(u,r),r=ge=_h(r,Ma),r=Do(u,r,Ma)}a.memoizedProps=a.pendingProps,r===null?et(a):ge=r}function Y(a,r,u,d){Vs=Gr=null,Uh(r),xo=null,qA=0;var m=r.return;try{if(Hp(a,m,r,u,Vt)){ti=1,rc(a,en(u,a.current)),ge=null;return}}catch(C){if(m!==null)throw ge=m,C;ti=1,rc(a,en(u,a.current)),ge=null;return}r.flags&32768?(be||d===1?a=!0:Pl||(Vt&536870912)!==0?a=!1:(ua=a=!0,(d===2||d===9||d===3||d===6)&&(d=Le.current,d!==null&&d.tag===13&&(d.flags|=16384))),dt(r,a)):et(r)}function et(a){var r=a;do{if((r.flags&32768)!==0){dt(r,ua);return}a=r.return;var u=Zh(r.alternate,r,Ma);if(u!==null){ge=u;return}if(r=r.sibling,r!==null){ge=r;return}ge=r=a}while(r!==null);ti===0&&(ti=5)}function dt(a,r){do{var u=Ol(a.alternate,a);if(u!==null){u.flags&=32767,ge=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!r&&(a=a.sibling,a!==null)){ge=a;return}ge=a=u}while(a!==null);ti=6,ge=null}function Tt(a,r,u,d,m,C,b,N,z){a.cancelPendingCommit=null;do Zr();while(Ui!==0);if((Me&6)!==0)throw Error(n(327));if(r!==null){if(r===a.current)throw Error(n(177));if(C=r.lanes|r.childLanes,C|=Uu,el(a,u,C,b,N,z),a===se&&(ge=se=null,Vt=0),ze=r,dn=a,ha=u,rr=C,iu=m,da=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Se(Nn,function(){return $r(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=P.T,P.T=null,m=Z.p,Z.p=2,b=Me,Me|=4;try{Ni(a,r,u)}finally{Me=b,Z.p=m,P.T=d}}Ui=1,Mt(),Nt(),re()}}function Mt(){if(Ui===1){Ui=0;var a=dn,r=ze,u=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||u){u=P.T,P.T=null;var d=Z.p;Z.p=2;var m=Me;Me|=4;try{uc(r,a);var C=Vp,b=ph(a.containerInfo),N=C.focusedElem,z=C.selectionRange;if(b!==N&&N&&N.ownerDocument&&gh(N.ownerDocument.documentElement,N)){if(z!==null&&TA(N)){var at=z.start,ft=z.end;if(ft===void 0&&(ft=at),"selectionStart"in N)N.selectionStart=at,N.selectionEnd=Math.min(ft,N.value.length);else{var yt=N.ownerDocument||document,rt=yt&&yt.defaultView||window;if(rt.getSelection){var ot=rt.getSelection(),ae=N.textContent.length,Wt=Math.min(z.start,ae),Je=z.end===void 0?Wt:Math.min(z.end,ae);!ot.extend&&Wt>Je&&(b=Je,Je=Wt,Wt=b);var tt=fh(N,Wt),q=fh(N,Je);if(tt&&q&&(ot.rangeCount!==1||ot.anchorNode!==tt.node||ot.anchorOffset!==tt.offset||ot.focusNode!==q.node||ot.focusOffset!==q.offset)){var nt=yt.createRange();nt.setStart(tt.node,tt.offset),ot.removeAllRanges(),Wt>Je?(ot.addRange(nt),ot.extend(q.node,q.offset)):(nt.setEnd(q.node,q.offset),ot.addRange(nt))}}}}for(yt=[],ot=N;ot=ot.parentNode;)ot.nodeType===1&&yt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<yt.length;N++){var mt=yt[N];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}Cg=!!Xp,Vp=Xp=null}finally{Me=m,Z.p=d,P.T=u}}a.current=r,Ui=2}}function Nt(){if(Ui===2){Ui=0;var a=dn,r=ze,u=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||u){u=P.T,P.T=null;var d=Z.p;Z.p=2;var m=Me;Me|=4;try{ar(a,r.alternate,r)}finally{Me=m,Z.p=d,P.T=u}}Ui=3}}function re(){if(Ui===4||Ui===3){Ui=0,mn();var a=dn,r=ze,u=ha,d=da;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ui=5:(Ui=0,ze=dn=null,fa(a,a.pendingLanes));var m=a.pendingLanes;if(m===0&&(ca=null),Ns(u),r=r.stateNode,zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(ho,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=P.T,m=Z.p,Z.p=2,P.T=null;try{for(var C=a.onRecoverableError,b=0;b<d.length;b++){var N=d[b];C(N.value,{componentStack:N.stack})}}finally{P.T=r,Z.p=m}}(ha&3)!==0&&Zr(),to(a),m=a.pendingLanes,(u&4194090)!==0&&(m&42)!==0?a===ko?_s++:(_s=0,ko=a):_s=0,ed(0)}}function fa(a,r){(a.pooledCacheLanes&=r)===0&&(r=a.pooledCache,r!=null&&(a.pooledCache=null,_l(r)))}function Zr(a){return Mt(),Nt(),re(),$r()}function $r(){if(Ui!==5)return!1;var a=dn,r=rr;rr=0;var u=Ns(ha),d=P.T,m=Z.p;try{Z.p=32>u?32:u,P.T=null,u=iu,iu=null;var C=dn,b=ha;if(Ui=0,ze=dn=null,ha=0,(Me&6)!==0)throw Error(n(331));var N=Me;if(Me|=4,$h(C.current),dc(C,C.current,b,u),Me=N,ed(0,!1),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(ho,C)}catch{}return!0}finally{Z.p=m,P.T=d,fa(a,r)}}function st(a,r,u){r=en(u,r),r=oc(a.stateNode,r,2),a=Ws(a,r,2),a!==null&&(pr(a,2),to(a))}function X(a,r,u){if(a.tag===3)st(a,a,u);else for(;r!==null;){if(r.tag===3){st(r,a,u);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ca===null||!ca.has(d))){a=en(u,a),u=lg(2),d=Ws(r,u,2),d!==null&&(lc(u,d,r,a),pr(d,2),to(d));break}}r=r.return}}function lt(a,r,u){var d=a.pingCache;if(d===null){d=a.pingCache=new td;var m=new Set;d.set(r,m)}else m=d.get(r),m===void 0&&(m=new Set,d.set(r,m));m.has(u)||(zl=!0,m.add(u),a=Qt.bind(null,a,r,u),r.then(a,a))}function Qt(a,r,u){var d=a.pingCache;d!==null&&d.delete(r),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,se===a&&(Vt&u)===u&&(ti===4||ti===3&&(Vt&62914560)===Vt&&300>ii()-ke?(Me&2)===0&&Wr(a,0):Ho|=u,ve===Vt&&(ve=0)),to(a)}function Ft(a,r){r===0&&(r=Ea()),a=js(a,r),a!==null&&(pr(a,r),to(a))}function ei(a){var r=a.memoizedState,u=0;r!==null&&(u=r.retryLane),Ft(a,u)}function ee(a,r){var u=0;switch(a.tag){case 13:var d=a.stateNode,m=a.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(r),Ft(a,u)}function Se(a,r){return Ke(a,r)}var Bi=null,me=null,Qs=!1,mc=!1,kp=!1,au=0;function to(a){a!==me&&a.next===null&&(me===null?Bi=me=a:me=me.next=a),mc=!0,Qs||(Qs=!0,Uv())}function ed(a,r){if(!kp&&mc){kp=!0;do for(var u=!1,d=Bi;d!==null;){if(a!==0){var m=d.pendingLanes;if(m===0)var C=0;else{var b=d.suspendedLanes,N=d.pingedLanes;C=(1<<31-Di(42|a)+1)-1,C&=m&~(b&~N),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(u=!0,ey(d,C))}else C=Vt,C=En(d,d===se?C:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(C&3)===0||Wn(d,C)||(u=!0,ey(d,C));d=d.next}while(u);kp=!1}}function Nv(){Z0()}function Z0(){mc=Qs=!1;var a=0;au!==0&&(Yv()&&(a=au),au=0);for(var r=ii(),u=null,d=Bi;d!==null;){var m=d.next,C=$0(d,r);C===0?(d.next=null,u===null?Bi=m:u.next=m,m===null&&(me=u)):(u=d,(a!==0||(C&3)!==0)&&(mc=!0)),d=m}ed(a)}function $0(a,r){for(var u=a.suspendedLanes,d=a.pingedLanes,m=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var b=31-Di(C),N=1<<b,z=m[b];z===-1?((N&u)===0||(N&d)!==0)&&(m[b]=yn(N,r)):z<=r&&(a.expiredLanes|=N),C&=~N}if(r=se,u=Vt,u=En(a,a===r?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===r&&(ce===2||ce===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&_i(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Wn(a,u)){if(r=u&-u,r===a.callbackPriority)return r;switch(d!==null&&_i(d),Ns(u)){case 2:case 8:u=Gn;break;case 32:u=Nn;break;case 268435456:u=tl;break;default:u=Nn}return d=ty.bind(null,a),u=Ke(u,d),a.callbackPriority=r,a.callbackNode=u,r}return d!==null&&d!==null&&_i(d),a.callbackPriority=2,a.callbackNode=null,2}function ty(a,r){if(Ui!==0&&Ui!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Zr()&&a.callbackNode!==u)return null;var d=Vt;return d=En(a,a===se?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(Yl(a,d,r),$0(a,ii()),a.callbackNode!=null&&a.callbackNode===u?ty.bind(null,a):null)}function ey(a,r){if(Zr())return null;Yl(a,r,!0)}function Uv(){jv(function(){(Me&6)!==0?Ke(Gs,Nv):Z0()})}function Lp(){return au===0&&(au=go()),au}function iy(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:pA(""+a)}function ny(a,r){var u=r.ownerDocument.createElement("input");return u.name=r.name,u.value=r.value,a.id&&u.setAttribute("form",a.id),r.parentNode.insertBefore(u,r),a=new FormData(a),u.parentNode.removeChild(u),a}function Ov(a,r,u,d,m){if(r==="submit"&&u&&u.stateNode===m){var C=iy((m[Mi]||null).action),b=d.submitter;b&&(r=(r=b[Mi]||null)?iy(r.formAction):b.getAttribute("formAction"),r!==null&&(C=r,b=null));var N=new ul("action","action",null,d,m);a.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(au!==0){var z=b?ny(m,b):new FormData(m);Vh(u,{pending:!0,data:z,method:m.method,action:C},null,z)}}else typeof C=="function"&&(N.preventDefault(),z=b?ny(m,b):new FormData(m),Vh(u,{pending:!0,data:z,method:m.method,action:C},C,z))},currentTarget:m}]})}}for(var Fp=0;Fp<DA.length;Fp++){var Pp=DA[Fp],Hv=Pp.toLowerCase(),kv=Pp[0].toUpperCase()+Pp.slice(1);Ki(Hv,"on"+kv)}Ki(xn,"onAnimationEnd"),Ki(yh,"onAnimationIteration"),Ki(zn,"onAnimationStart"),Ki("dblclick","onDoubleClick"),Ki("focusin","onFocus"),Ki("focusout","onBlur"),Ki(Bf,"onTransitionRun"),Ki(Ys,"onTransitionStart"),Ki(El,"onTransitionCancel"),Ki(Ks,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(id));function ay(a,r){r=(r&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],m=d.event;d=d.listeners;t:{var C=void 0;if(r)for(var b=d.length-1;0<=b;b--){var N=d[b],z=N.instance,at=N.currentTarget;if(N=N.listener,z!==C&&m.isPropagationStopped())break t;C=N,m.currentTarget=at;try{C(m)}catch(ft){vo(ft)}m.currentTarget=null,C=z}else for(b=0;b<d.length;b++){if(N=d[b],z=N.instance,at=N.currentTarget,N=N.listener,z!==C&&m.isPropagationStopped())break t;C=N,m.currentTarget=at;try{C(m)}catch(ft){vo(ft)}m.currentTarget=null,C=z}}}}function Ce(a,r){var u=r[Un];u===void 0&&(u=r[Un]=new Set);var d=a+"__bubble";u.has(d)||(sy(r,a,2,!1),u.add(d))}function zp(a,r,u){var d=0;r&&(d|=4),sy(u,a,d,r)}var hg="_reactListening"+Math.random().toString(36).slice(2);function Yp(a){if(!a[hg]){a[hg]=!0,nl.forEach(function(u){u!=="selectionchange"&&(Lv.has(u)||zp(u,!1,a),zp(u,!0,a))});var r=a.nodeType===9?a:a.ownerDocument;r===null||r[hg]||(r[hg]=!0,zp("selectionchange",!1,r))}}function sy(a,r,u,d){switch(Ty(r)){case 2:var m=db;break;case 8:m=fb;break;default:m=am}u=m.bind(null,r,u,a),m=void 0,!EA||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),d?m!==void 0?a.addEventListener(r,u,{capture:!0,passive:m}):a.addEventListener(r,u,!0):m!==void 0?a.addEventListener(r,u,{passive:m}):a.addEventListener(r,u,!1)}function Kp(a,r,u,d,m){var C=d;if((r&1)===0&&(r&2)===0&&d!==null)t:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var N=d.stateNode.containerInfo;if(N===m)break;if(b===4)for(b=d.return;b!==null;){var z=b.tag;if((z===3||z===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;N!==null;){if(b=os(N),b===null)return;if(z=b.tag,z===5||z===6||z===26||z===27){d=C=b;continue t}N=N.parentNode}}d=d.return}ih(function(){var at=C,ft=_u(u),yt=[];t:{var rt=Nu.get(a);if(rt!==void 0){var ot=ul,ae=a;switch(a){case"keypress":if(Ir(u)===0)break t;case"keydown":case"keyup":ot=oh;break;case"focusin":ae="focus",ot=Qu;break;case"focusout":ae="blur",ot=Qu;break;case"beforeblur":case"afterblur":ot=Qu;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=Ah;break;case xn:case yh:case zn:ot=sf;break;case Ks:ot=Ls;break;case"scroll":case"scrollend":ot=ef;break;case"wheel":ot=Sp;break;case"copy":case"cut":case"paste":ot=of;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=bu;break;case"toggle":case"beforetoggle":ot=xr}var Wt=(r&4)!==0,Je=!Wt&&(a==="scroll"||a==="scrollend"),tt=Wt?rt!==null?rt+"Capture":null:rt;Wt=[];for(var q=at,nt;q!==null;){var mt=q;if(nt=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||nt===null||tt===null||(mt=ol(q,tt),mt!=null&&Wt.push(nd(q,mt,nt))),Je)break;q=q.return}0<Wt.length&&(rt=new ot(rt,ae,null,u,ft),yt.push({event:rt,listeners:Wt}))}}if((r&7)===0){t:{if(rt=a==="mouseover"||a==="pointerover",ot=a==="mouseout"||a==="pointerout",rt&&u!==Iu&&(ae=u.relatedTarget||u.fromElement)&&(os(ae)||ae[Zn]))break t;if((ot||rt)&&(rt=ft.window===ft?ft:(rt=ft.ownerDocument)?rt.defaultView||rt.parentWindow:window,ot?(ae=u.relatedTarget||u.toElement,ot=at,ae=ae?os(ae):null,ae!==null&&(Je=l(ae),Wt=ae.tag,ae!==Je||Wt!==5&&Wt!==27&&Wt!==6)&&(ae=null)):(ot=null,ae=at),ot!==ae)){if(Wt=sh,mt="onMouseLeave",tt="onMouseEnter",q="mouse",(a==="pointerout"||a==="pointerover")&&(Wt=bu,mt="onPointerLeave",tt="onPointerEnter",q="pointer"),Je=ot==null?rt:Er(ot),nt=ae==null?rt:Er(ae),rt=new Wt(mt,q+"leave",ot,u,ft),rt.target=Je,rt.relatedTarget=nt,mt=null,os(ft)===at&&(Wt=new Wt(tt,q+"enter",ae,u,ft),Wt.target=nt,Wt.relatedTarget=Je,mt=Wt),Je=mt,ot&&ae)e:{for(Wt=ot,tt=ae,q=0,nt=Wt;nt;nt=Ec(nt))q++;for(nt=0,mt=tt;mt;mt=Ec(mt))nt++;for(;0<q-nt;)Wt=Ec(Wt),q--;for(;0<nt-q;)tt=Ec(tt),nt--;for(;q--;){if(Wt===tt||tt!==null&&Wt===tt.alternate)break e;Wt=Ec(Wt),tt=Ec(tt)}Wt=null}else Wt=null;ot!==null&&ry(yt,rt,ot,Wt,!1),ae!==null&&Je!==null&&ry(yt,Je,ae,Wt,!0)}}t:{if(rt=at?Er(at):window,ot=rt.nodeName&&rt.nodeName.toLowerCase(),ot==="select"||ot==="input"&&rt.type==="file")var Ht=Tu;else if(dh(rt))if(Ru)Ht=br;else{Ht=mf;var Be=Tp}else ot=rt.nodeName,!ot||ot.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?at&&Eo(at.elementType)&&(Ht=Tu):Ht=SA;if(Ht&&(Ht=Ht(a,at))){Ln(yt,Ht,u,ft);break t}Be&&Be(a,rt,at),a==="focusout"&&at&&rt.type==="number"&&at.memoizedProps.value!=null&&Pt(rt,"number",rt.value)}switch(Be=at?Er(at):window,a){case"focusin":(dh(Be)||Be.contentEditable==="true")&&(Ps=Be,Mu=at,RA=null);break;case"focusout":RA=Mu=Ps=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,Eh(yt,u,ft);break;case"selectionchange":if(mh)break;case"keydown":case"keyup":Eh(yt,u,ft)}var zt;if(IA)t:{switch(a){case"compositionstart":var Zt="onCompositionStart";break t;case"compositionend":Zt="onCompositionEnd";break t;case"compositionupdate":Zt="onCompositionUpdate";break t}Zt=void 0}else vr?QA(a,u)&&(Zt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Zt="onCompositionStart");Zt&&(xA&&u.locale!=="ko"&&(vr||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&vr&&(zt=ah()):(Hs=ft,nh="value"in Hs?Hs.value:Hs.textContent,vr=!0)),Be=dg(at,Zt),0<Be.length&&(Zt=new vu(Zt,a,null,u,ft),yt.push({event:Zt,listeners:Be}),zt?Zt.data=zt:(zt=ch(u),zt!==null&&(Zt.data=zt)))),(zt=_A?vA(a,u):hh(a,u))&&(Zt=dg(at,"onBeforeInput"),0<Zt.length&&(Be=new vu("onBeforeInput","beforeinput",null,u,ft),yt.push({event:Be,listeners:Zt}),Be.data=zt)),Ov(yt,a,at,u,ft)}ay(yt,r)})}function nd(a,r,u){return{instance:a,listener:r,currentTarget:u}}function dg(a,r){for(var u=r+"Capture",d=[];a!==null;){var m=a,C=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||C===null||(m=ol(a,u),m!=null&&d.unshift(nd(a,m,C)),m=ol(a,r),m!=null&&d.push(nd(a,m,C))),a.tag===3)return d;a=a.return}return[]}function Ec(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function ry(a,r,u,d,m){for(var C=r._reactName,b=[];u!==null&&u!==d;){var N=u,z=N.alternate,at=N.stateNode;if(N=N.tag,z!==null&&z===d)break;N!==5&&N!==26&&N!==27||at===null||(z=at,m?(at=ol(u,C),at!=null&&b.unshift(nd(u,at,z))):m||(at=ol(u,C),at!=null&&b.push(nd(u,at,z)))),u=u.return}b.length!==0&&a.push({event:r,listeners:b})}var Fv=/\r\n?/g,Pv=/\u0000|\uFFFD/g;function oy(a){return(typeof a=="string"?a:""+a).replace(Fv,`
`).replace(Pv,"")}function ly(a,r){return r=oy(r),oy(a)===r}function fg(){}function qe(a,r,u,d,m,C){switch(u){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||$e(a,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&$e(a,""+d);break;case"className":Ca(a,"class",d);break;case"tabIndex":Ca(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ca(a,u,d);break;case"style":In(a,d,C);break;case"data":if(r!=="object"){Ca(a,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=pA(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(r!=="input"&&qe(a,r,"name",m.name,m,null),qe(a,r,"formEncType",m.formEncType,m,null),qe(a,r,"formMethod",m.formMethod,m,null),qe(a,r,"formTarget",m.formTarget,m,null)):(qe(a,r,"encType",m.encType,m,null),qe(a,r,"method",m.method,m,null),qe(a,r,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=pA(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=fg);break;case"onScroll":d!=null&&Ce("scroll",a);break;case"onScrollEnd":d!=null&&Ce("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=pA(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":Ce("beforetoggle",a),Ce("toggle",a),Cn(a,"popover",d);break;case"xlinkActuate":$n(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":$n(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":$n(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":$n(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":$n(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":$n(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":$n(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":$n(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":$n(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Cn(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=rl.get(u)||u,Cn(a,u,d))}}function jp(a,r,u,d,m,C){switch(u){case"style":In(a,d,C);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"children":typeof d=="string"?$e(a,d):(typeof d=="number"||typeof d=="bigint")&&$e(a,""+d);break;case"onScroll":d!=null&&Ce("scroll",a);break;case"onScrollEnd":d!=null&&Ce("scrollend",a);break;case"onClick":d!=null&&(a.onclick=fg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),r=u.slice(2,m?u.length-7:void 0),C=a[Mi]||null,C=C!=null?C[u]:null,typeof C=="function"&&a.removeEventListener(r,C,m),typeof d=="function")){typeof C!="function"&&C!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(r,d,m);break t}u in a?a[u]=d:d===!0?a.setAttribute(u,""):Cn(a,u,d)}}}function Dn(a,r,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",a),Ce("load",a);var d=!1,m=!1,C;for(C in u)if(u.hasOwnProperty(C)){var b=u[C];if(b!=null)switch(C){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:qe(a,r,C,b,u,null)}}m&&qe(a,r,"srcSet",u.srcSet,u,null),d&&qe(a,r,"src",u.src,u,null);return;case"input":Ce("invalid",a);var N=C=b=m=null,z=null,at=null;for(d in u)if(u.hasOwnProperty(d)){var ft=u[d];if(ft!=null)switch(d){case"name":m=ft;break;case"type":b=ft;break;case"checked":z=ft;break;case"defaultChecked":at=ft;break;case"value":C=ft;break;case"defaultValue":N=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(n(137,r));break;default:qe(a,r,d,ft,u,null)}}wt(a,C,N,z,at,b,m,!1),it(a);return;case"select":Ce("invalid",a),d=b=C=null;for(m in u)if(u.hasOwnProperty(m)&&(N=u[m],N!=null))switch(m){case"value":C=N;break;case"defaultValue":b=N;break;case"multiple":d=N;default:qe(a,r,m,N,u,null)}r=C,u=b,a.multiple=!!d,r!=null?he(a,!!d,r,!1):u!=null&&he(a,!!d,u,!0);return;case"textarea":Ce("invalid",a),C=m=d=null;for(b in u)if(u.hasOwnProperty(b)&&(N=u[b],N!=null))switch(b){case"value":d=N;break;case"defaultValue":m=N;break;case"children":C=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(n(91));break;default:qe(a,r,b,N,u,null)}xe(a,d,m,C),it(a);return;case"option":for(z in u)if(u.hasOwnProperty(z)&&(d=u[z],d!=null))switch(z){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:qe(a,r,z,d,u,null)}return;case"dialog":Ce("beforetoggle",a),Ce("toggle",a),Ce("cancel",a),Ce("close",a);break;case"iframe":case"object":Ce("load",a);break;case"video":case"audio":for(d=0;d<id.length;d++)Ce(id[d],a);break;case"image":Ce("error",a),Ce("load",a);break;case"details":Ce("toggle",a);break;case"embed":case"source":case"link":Ce("error",a),Ce("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in u)if(u.hasOwnProperty(at)&&(d=u[at],d!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:qe(a,r,at,d,u,null)}return;default:if(Eo(r)){for(ft in u)u.hasOwnProperty(ft)&&(d=u[ft],d!==void 0&&jp(a,r,ft,d,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(d=u[N],d!=null&&qe(a,r,N,d,u,null))}function zv(a,r,u,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,C=null,b=null,N=null,z=null,at=null,ft=null;for(ot in u){var yt=u[ot];if(u.hasOwnProperty(ot)&&yt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":z=yt;default:d.hasOwnProperty(ot)||qe(a,r,ot,null,d,yt)}}for(var rt in d){var ot=d[rt];if(yt=u[rt],d.hasOwnProperty(rt)&&(ot!=null||yt!=null))switch(rt){case"type":C=ot;break;case"name":m=ot;break;case"checked":at=ot;break;case"defaultChecked":ft=ot;break;case"value":b=ot;break;case"defaultValue":N=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(n(137,r));break;default:ot!==yt&&qe(a,r,rt,ot,d,yt)}}vt(a,b,N,z,at,ft,C,m);return;case"select":ot=b=N=rt=null;for(C in u)if(z=u[C],u.hasOwnProperty(C)&&z!=null)switch(C){case"value":break;case"multiple":ot=z;default:d.hasOwnProperty(C)||qe(a,r,C,null,d,z)}for(m in d)if(C=d[m],z=u[m],d.hasOwnProperty(m)&&(C!=null||z!=null))switch(m){case"value":rt=C;break;case"defaultValue":N=C;break;case"multiple":b=C;default:C!==z&&qe(a,r,m,C,d,z)}r=N,u=b,d=ot,rt!=null?he(a,!!u,rt,!1):!!d!=!!u&&(r!=null?he(a,!!u,r,!0):he(a,!!u,u?[]:"",!1));return;case"textarea":ot=rt=null;for(N in u)if(m=u[N],u.hasOwnProperty(N)&&m!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:qe(a,r,N,null,d,m)}for(b in d)if(m=d[b],C=u[b],d.hasOwnProperty(b)&&(m!=null||C!=null))switch(b){case"value":rt=m;break;case"defaultValue":ot=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==C&&qe(a,r,b,m,d,C)}ri(a,rt,ot);return;case"option":for(var ae in u)if(rt=u[ae],u.hasOwnProperty(ae)&&rt!=null&&!d.hasOwnProperty(ae))switch(ae){case"selected":a.selected=!1;break;default:qe(a,r,ae,null,d,rt)}for(z in d)if(rt=d[z],ot=u[z],d.hasOwnProperty(z)&&rt!==ot&&(rt!=null||ot!=null))switch(z){case"selected":a.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:qe(a,r,z,rt,d,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Wt in u)rt=u[Wt],u.hasOwnProperty(Wt)&&rt!=null&&!d.hasOwnProperty(Wt)&&qe(a,r,Wt,null,d,rt);for(at in d)if(rt=d[at],ot=u[at],d.hasOwnProperty(at)&&rt!==ot&&(rt!=null||ot!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,r));break;default:qe(a,r,at,rt,d,ot)}return;default:if(Eo(r)){for(var Je in u)rt=u[Je],u.hasOwnProperty(Je)&&rt!==void 0&&!d.hasOwnProperty(Je)&&jp(a,r,Je,void 0,d,rt);for(ft in d)rt=d[ft],ot=u[ft],!d.hasOwnProperty(ft)||rt===ot||rt===void 0&&ot===void 0||jp(a,r,ft,rt,d,ot);return}}for(var tt in u)rt=u[tt],u.hasOwnProperty(tt)&&rt!=null&&!d.hasOwnProperty(tt)&&qe(a,r,tt,null,d,rt);for(yt in d)rt=d[yt],ot=u[yt],!d.hasOwnProperty(yt)||rt===ot||rt==null&&ot==null||qe(a,r,yt,rt,d,ot)}var Xp=null,Vp=null;function gg(a){return a.nodeType===9?a:a.ownerDocument}function Ay(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uy(a,r){if(a===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&r==="foreignObject"?0:a}function qp(a,r){return a==="textarea"||a==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jp=null;function Yv(){var a=window.event;return a&&a.type==="popstate"?a===Jp?!1:(Jp=a,!0):(Jp=null,!1)}var cy=typeof setTimeout=="function"?setTimeout:void 0,Kv=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,jv=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(a){return hy.resolve(null).then(a).catch(Xv)}:cy;function Xv(a){setTimeout(function(){throw a})}function jl(a){return a==="head"}function dy(a,r){var u=r,d=0,m=0;do{var C=u.nextSibling;if(a.removeChild(u),C&&C.nodeType===8)if(u=C.data,u==="/$"){if(0<d&&8>d){u=d;var b=a.ownerDocument;if(u&1&&ad(b.documentElement),u&2&&ad(b.body),u&4)for(u=b.head,ad(u),b=u.firstChild;b;){var N=b.nextSibling,z=b.nodeName;b[rs]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=N}}if(m===0){a.removeChild(C),hd(r);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:d=u.charCodeAt(0)-48;else d=0;u=C}while(u);hd(r)}function Wp(a){var r=a.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var u=r;switch(r=r.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wp(u),Ze(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function Vv(a,r,u,d){for(;a.nodeType===1;){var m=u;if(a.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[rs])switch(r){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==m.rel||a.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(r==="input"&&a.type==="hidden"){var C=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=or(a.nextSibling),a===null)break}return null}function qv(a,r,u){if(r==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=or(a.nextSibling),a===null))return null;return a}function Zp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function Jv(a,r){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")r();else{var d=function(){r(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function or(a){for(;a!=null;a=a.nextSibling){var r=a.nodeType;if(r===1||r===3)break;if(r===8){if(r=a.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return a}var $p=null;function fy(a){a=a.previousSibling;for(var r=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return a;r--}else u==="/$"&&r++}a=a.previousSibling}return null}function gy(a,r,u){switch(r=gg(u),a){case"html":if(a=r.documentElement,!a)throw Error(n(452));return a;case"head":if(a=r.head,!a)throw Error(n(453));return a;case"body":if(a=r.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function ad(a){for(var r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Ze(a)}var vs=new Map,py=new Set;function pg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Fo=Z.d;Z.d={f:Wv,r:Zv,D:$v,C:tb,L:eb,m:ib,X:ab,S:nb,M:sb};function Wv(){var a=Fo.f(),r=xs();return a||r}function Zv(a){var r=ls(a);r!==null&&r.tag===5&&r.type==="form"?qf(r):Fo.r(a)}var yc=typeof document>"u"?null:document;function my(a,r,u){var d=yc;if(d&&typeof r=="string"&&r){var m=xt(r);m='link[rel="'+a+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),py.has(m)||(py.add(m),a={rel:a,crossOrigin:u,href:r},d.querySelector(m)===null&&(r=d.createElement("link"),Dn(r,"link",a),xi(r),d.head.appendChild(r)))}}function $v(a){Fo.D(a),my("dns-prefetch",a,null)}function tb(a,r){Fo.C(a,r),my("preconnect",a,r)}function eb(a,r,u){Fo.L(a,r,u);var d=yc;if(d&&a&&r){var m='link[rel="preload"][as="'+xt(r)+'"]';r==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+xt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+xt(u.imageSizes)+'"]')):m+='[href="'+xt(a)+'"]';var C=m;switch(r){case"style":C=Bc(a);break;case"script":C=Cc(a)}vs.has(C)||(a=y({rel:"preload",href:r==="image"&&u&&u.imageSrcSet?void 0:a,as:r},u),vs.set(C,a),d.querySelector(m)!==null||r==="style"&&d.querySelector(sd(C))||r==="script"&&d.querySelector(rd(C))||(r=d.createElement("link"),Dn(r,"link",a),xi(r),d.head.appendChild(r)))}}function ib(a,r){Fo.m(a,r);var u=yc;if(u&&a){var d=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+xt(d)+'"][href="'+xt(a)+'"]',C=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Cc(a)}if(!vs.has(C)&&(a=y({rel:"modulepreload",href:a},r),vs.set(C,a),u.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(rd(C)))return}d=u.createElement("link"),Dn(d,"link",a),xi(d),u.head.appendChild(d)}}}function nb(a,r,u){Fo.S(a,r,u);var d=yc;if(d&&a){var m=Us(d).hoistableStyles,C=Bc(a);r=r||"default";var b=m.get(C);if(!b){var N={loading:0,preload:null};if(b=d.querySelector(sd(C)))N.loading=5;else{a=y({rel:"stylesheet",href:a,"data-precedence":r},u),(u=vs.get(C))&&tm(a,u);var z=b=d.createElement("link");xi(z),Dn(z,"link",a),z._p=new Promise(function(at,ft){z.onload=at,z.onerror=ft}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,mg(b,r,d)}b={type:"stylesheet",instance:b,count:1,state:N},m.set(C,b)}}}function ab(a,r){Fo.X(a,r);var u=yc;if(u&&a){var d=Us(u).hoistableScripts,m=Cc(a),C=d.get(m);C||(C=u.querySelector(rd(m)),C||(a=y({src:a,async:!0},r),(r=vs.get(m))&&em(a,r),C=u.createElement("script"),xi(C),Dn(C,"link",a),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},d.set(m,C))}}function sb(a,r){Fo.M(a,r);var u=yc;if(u&&a){var d=Us(u).hoistableScripts,m=Cc(a),C=d.get(m);C||(C=u.querySelector(rd(m)),C||(a=y({src:a,async:!0,type:"module"},r),(r=vs.get(m))&&em(a,r),C=u.createElement("script"),xi(C),Dn(C,"link",a),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},d.set(m,C))}}function Ey(a,r,u,d){var m=(m=kt.current)?pg(m):null;if(!m)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(r=Bc(u.href),u=Us(m).hoistableStyles,d=u.get(r),d||(d={type:"style",instance:null,count:0,state:null},u.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Bc(u.href);var C=Us(m).hoistableStyles,b=C.get(a);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,b),(C=m.querySelector(sd(a)))&&!C._p&&(b.instance=C,b.state.loading=5),vs.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},vs.set(a,u),C||rb(m,a,u,b.state))),r&&d===null)throw Error(n(528,""));return b}if(r&&d!==null)throw Error(n(529,""));return null;case"script":return r=u.async,u=u.src,typeof u=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Cc(u),u=Us(m).hoistableScripts,d=u.get(r),d||(d={type:"script",instance:null,count:0,state:null},u.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Bc(a){return'href="'+xt(a)+'"'}function sd(a){return'link[rel="stylesheet"]['+a+"]"}function yy(a){return y({},a,{"data-precedence":a.precedence,precedence:null})}function rb(a,r,u,d){a.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=a.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Dn(r,"link",u),xi(r),a.head.appendChild(r))}function Cc(a){return'[src="'+xt(a)+'"]'}function rd(a){return"script[async]"+a}function By(a,r,u){if(r.count++,r.instance===null)switch(r.type){case"style":var d=a.querySelector('style[data-href~="'+xt(u.href)+'"]');if(d)return r.instance=d,xi(d),d;var m=y({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),xi(d),Dn(d,"style",m),mg(d,u.precedence,a),r.instance=d;case"stylesheet":m=Bc(u.href);var C=a.querySelector(sd(m));if(C)return r.state.loading|=4,r.instance=C,xi(C),C;d=yy(u),(m=vs.get(m))&&tm(d,m),C=(a.ownerDocument||a).createElement("link"),xi(C);var b=C;return b._p=new Promise(function(N,z){b.onload=N,b.onerror=z}),Dn(C,"link",d),r.state.loading|=4,mg(C,u.precedence,a),r.instance=C;case"script":return C=Cc(u.src),(m=a.querySelector(rd(C)))?(r.instance=m,xi(m),m):(d=u,(m=vs.get(C))&&(d=y({},u),em(d,m)),a=a.ownerDocument||a,m=a.createElement("script"),xi(m),Dn(m,"link",d),a.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(n(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,mg(d,u.precedence,a));return r.instance}function mg(a,r,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,C=m,b=0;b<d.length;b++){var N=d[b];if(N.dataset.precedence===r)C=N;else if(C!==m)break}C?C.parentNode.insertBefore(a,C.nextSibling):(r=u.nodeType===9?u.head:u,r.insertBefore(a,r.firstChild))}function tm(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.title==null&&(a.title=r.title)}function em(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.integrity==null&&(a.integrity=r.integrity)}var Eg=null;function Cy(a,r,u){if(Eg===null){var d=new Map,m=Eg=new Map;m.set(u,d)}else m=Eg,d=m.get(u),d||(d=new Map,m.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),m=0;m<u.length;m++){var C=u[m];if(!(C[rs]||C[Ue]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var b=C.getAttribute(r)||"";b=a+b;var N=d.get(b);N?N.push(C):d.set(b,[C])}}return d}function Iy(a,r,u){a=a.ownerDocument||a,a.head.insertBefore(u,r==="title"?a.querySelector("head > title"):null)}function ob(a,r,u){if(u===1||r.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return a=r.disabled,typeof r.precedence=="string"&&a==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function _y(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var od=null;function lb(){}function Ab(a,r,u){if(od===null)throw Error(n(475));var d=od;if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Bc(u.href),C=a.querySelector(sd(m));if(C){a=C._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=yg.bind(d),a.then(d,d)),r.state.loading|=4,r.instance=C,xi(C);return}C=a.ownerDocument||a,u=yy(u),(m=vs.get(m))&&tm(u,m),C=C.createElement("link"),xi(C);var b=C;b._p=new Promise(function(N,z){b.onload=N,b.onerror=z}),Dn(C,"link",u),r.instance=C}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,a),(a=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=yg.bind(d),a.addEventListener("load",r),a.addEventListener("error",r))}}function ub(){if(od===null)throw Error(n(475));var a=od;return a.stylesheets&&a.count===0&&im(a,a.stylesheets),0<a.count?function(r){var u=setTimeout(function(){if(a.stylesheets&&im(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=r,function(){a.unsuspend=null,clearTimeout(u)}}:null}function yg(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Bg=null;function im(a,r){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Bg=new Map,r.forEach(cb,a),Bg=null,yg.call(a))}function cb(a,r){if(!(r.state.loading&4)){var u=Bg.get(a);if(u)var d=u.get(null);else{u=new Map,Bg.set(a,u);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<m.length;C++){var b=m[C];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(u.set(b.dataset.precedence,b),d=b)}d&&u.set(null,d)}m=r.instance,b=m.getAttribute("data-precedence"),C=u.get(b)||d,C===d&&u.set(null,m),u.set(b,m),this.count++,d=yg.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),C?C.parentNode.insertBefore(m,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),r.state.loading|=4}}var ld={$$typeof:D,Provider:null,Consumer:null,_currentValue:Bt,_currentValue2:Bt,_threadCount:0};function hb(a,r,u,d,m,C,b,N){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=C,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function xy(a,r,u,d,m,C,b,N,z,at,ft,yt){return a=new hb(a,r,u,b,N,z,at,yt),r=1,C===!0&&(r|=24),C=Yn(3,null,null,r),a.current=C,C.stateNode=a,r=Pu(),r.refCount++,a.pooledCache=r,r.refCount++,C.memoizedState={element:d,isDehydrated:u,cache:r},Mh(C),a}function Qy(a){return a?(a=Rr,a):Rr}function vy(a,r,u,d,m,C){m=Qy(m),d.context===null?d.context=m:d.pendingContext=m,d=ds(r),d.payload={element:u},C=C===void 0?null:C,C!==null&&(d.callback=C),u=Ws(a,d,r),u!==null&&(Rn(u,a,r),_o(u,a,r))}function by(a,r){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<r?u:r}}function nm(a,r){by(a,r),(a=a.alternate)&&by(a,r)}function Sy(a){if(a.tag===13){var r=js(a,67108864);r!==null&&Rn(r,a,67108864),nm(a,67108864)}}var Cg=!0;function db(a,r,u,d){var m=P.T;P.T=null;var C=Z.p;try{Z.p=2,am(a,r,u,d)}finally{Z.p=C,P.T=m}}function fb(a,r,u,d){var m=P.T;P.T=null;var C=Z.p;try{Z.p=8,am(a,r,u,d)}finally{Z.p=C,P.T=m}}function am(a,r,u,d){if(Cg){var m=sm(d);if(m===null)Kp(a,r,d,Ig,u),Ry(a,d);else if(pb(m,a,r,u,d))d.stopPropagation();else if(Ry(a,d),r&4&&-1<gb.indexOf(a)){for(;m!==null;){var C=ls(m);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var b=An(C.pendingLanes);if(b!==0){var N=C;for(N.pendingLanes|=2,N.entangledLanes|=2;b;){var z=1<<31-Di(b);N.entanglements[1]|=z,b&=~z}to(C),(Me&6)===0&&(hn=ii()+500,ed(0))}}break;case 13:N=js(C,2),N!==null&&Rn(N,C,2),xs(),nm(C,2)}if(C=sm(d),C===null&&Kp(a,r,d,Ig,u),C===m)break;m=C}m!==null&&d.stopPropagation()}else Kp(a,r,d,null,u)}}function sm(a){return a=_u(a),rm(a)}var Ig=null;function rm(a){if(Ig=null,a=os(a),a!==null){var r=l(a);if(r===null)a=null;else{var u=r.tag;if(u===13){if(a=c(r),a!==null)return a;a=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;a=null}else r!==a&&(a=null)}}return Ig=a,null}function Ty(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case Gs:return 2;case Gn:return 8;case Nn:case uA:return 32;case tl:return 268435456;default:return 32}default:return 32}}var om=!1,Xl=null,Vl=null,ql=null,Ad=new Map,ud=new Map,Jl=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ry(a,r){switch(a){case"focusin":case"focusout":Xl=null;break;case"dragenter":case"dragleave":Vl=null;break;case"mouseover":case"mouseout":ql=null;break;case"pointerover":case"pointerout":Ad.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(r.pointerId)}}function cd(a,r,u,d,m,C){return a===null||a.nativeEvent!==C?(a={blockedOn:r,domEventName:u,eventSystemFlags:d,nativeEvent:C,targetContainers:[m]},r!==null&&(r=ls(r),r!==null&&Sy(r)),a):(a.eventSystemFlags|=d,r=a.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),a)}function pb(a,r,u,d,m){switch(r){case"focusin":return Xl=cd(Xl,a,r,u,d,m),!0;case"dragenter":return Vl=cd(Vl,a,r,u,d,m),!0;case"mouseover":return ql=cd(ql,a,r,u,d,m),!0;case"pointerover":var C=m.pointerId;return Ad.set(C,cd(Ad.get(C)||null,a,r,u,d,m)),!0;case"gotpointercapture":return C=m.pointerId,ud.set(C,cd(ud.get(C)||null,a,r,u,d,m)),!0}return!1}function Dy(a){var r=os(a.target);if(r!==null){var u=l(r);if(u!==null){if(r=u.tag,r===13){if(r=c(u),r!==null){a.blockedOn=r,Cu(a.priority,function(){if(u.tag===13){var d=gi();d=mr(d);var m=js(u,d);m!==null&&Rn(m,u,d),nm(u,d)}});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _g(a){if(a.blockedOn!==null)return!1;for(var r=a.targetContainers;0<r.length;){var u=sm(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);Iu=d,u.target.dispatchEvent(d),Iu=null}else return r=ls(u),r!==null&&Sy(r),a.blockedOn=u,!1;r.shift()}return!0}function My(a,r,u){_g(a)&&u.delete(r)}function mb(){om=!1,Xl!==null&&_g(Xl)&&(Xl=null),Vl!==null&&_g(Vl)&&(Vl=null),ql!==null&&_g(ql)&&(ql=null),Ad.forEach(My),ud.forEach(My)}function xg(a,r){a.blockedOn===r&&(a.blockedOn=null,om||(om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mb)))}var Qg=null;function wy(a){Qg!==a&&(Qg=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qg===a&&(Qg=null);for(var r=0;r<a.length;r+=3){var u=a[r],d=a[r+1],m=a[r+2];if(typeof d!="function"){if(rm(d||u)===null)continue;break}var C=ls(u);C!==null&&(a.splice(r,3),r-=3,Vh(C,{pending:!0,data:m,method:u.method,action:d},d,m))}}))}function hd(a){function r(z){return xg(z,a)}Xl!==null&&xg(Xl,a),Vl!==null&&xg(Vl,a),ql!==null&&xg(ql,a),Ad.forEach(r),ud.forEach(r);for(var u=0;u<Jl.length;u++){var d=Jl[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Jl.length&&(u=Jl[0],u.blockedOn===null);)Dy(u),u.blockedOn===null&&Jl.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var m=u[d],C=u[d+1],b=m[Mi]||null;if(typeof C=="function")b||wy(u);else if(b){var N=null;if(C&&C.hasAttribute("formAction")){if(m=C,b=C[Mi]||null)N=b.formAction;else if(rm(m)!==null)continue}else N=b.action;typeof N=="function"?u[d+1]=N:(u.splice(d,3),d-=3),wy(u)}}}function lm(a){this._internalRoot=a}vg.prototype.render=lm.prototype.render=function(a){var r=this._internalRoot;if(r===null)throw Error(n(409));var u=r.current,d=gi();vy(u,d,a,r,null,null)},vg.prototype.unmount=lm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var r=a.containerInfo;vy(a.current,2,null,a,null,null),xs(),r[Zn]=null}};function vg(a){this._internalRoot=a}vg.prototype.unstable_scheduleHydration=function(a){if(a){var r=Bn();a={blockedOn:null,target:a,priority:r};for(var u=0;u<Jl.length&&r!==0&&r<Jl[u].priority;u++);Jl.splice(u,0,a),u===0&&Dy(a)}};var Gy=t.version;if(Gy!=="19.1.0")throw Error(n(527,Gy,"19.1.0"));Z.findDOMNode=function(a){var r=a._reactInternals;if(r===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=f(r),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var Eb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bg.isDisabled&&bg.supportsFiber)try{ho=bg.inject(Eb),zi=bg}catch{}}return fd.createRoot=function(a,r){if(!s(a))throw Error(n(299));var u=!1,d="",m=WA,C=sc,b=og,N=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(C=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(N=r.unstable_transitionCallbacks)),r=xy(a,1,!1,null,null,u,d,m,C,b,N,null),a[Zn]=r.current,Yp(a),new lm(r)},fd.hydrateRoot=function(a,r,u){if(!s(a))throw Error(n(299));var d=!1,m="",C=WA,b=sc,N=og,z=null,at=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(b=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(z=u.unstable_transitionCallbacks),u.formState!==void 0&&(at=u.formState)),r=xy(a,1,!0,r,u??null,d,m,C,b,N,z,at),r.context=Qy(null),u=r.current,d=gi(),d=mr(d),m=ds(d),m.callback=null,Ws(u,m,d),u=d,r.current.lanes=u,pr(r,u),to(r),a[Zn]=r.current,Yp(a),new vg(r)},fd.version="19.1.0",fd}var Yy;function Sb(){if(Yy)return cm.exports;Yy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch{}}return i(),cm.exports=bb(),cm.exports}var Tb=Sb();const Rb=jd(Tb),Db="modulepreload",Mb=function(i,t){return new URL(i,t).href},Ky={},Zo=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){let c=function(y){return Promise.all(y.map(B=>Promise.resolve(B).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};const h=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");s=c(e.map(y=>{if(y=Mb(y,n),y in Ky)return;Ky[y]=!0;const B=y.endsWith(".css"),_=B?'[rel="stylesheet"]':"";if(!!n)for(let T=h.length-1;T>=0;T--){const S=h[T];if(S.href===y&&(!B||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${_}`))return;const v=document.createElement("link");if(v.rel=B?"stylesheet":Db,B||(v.as="script"),v.crossOrigin="",v.href=y,p&&v.setAttribute("nonce",p),document.head.appendChild(v),B)return new Promise((T,S)=>{v.addEventListener("load",T),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})};function SI(i,t,e){if(!i)return;if(e(i)===!0)return i;let n=i.child;for(;n;){const s=SI(n,t,e);if(s)return s;n=n.sibling}}function TI(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const s0=TI(pt.createContext(null));let RI=class extends pt.Component{render(){return pt.createElement(s0.Provider,{value:this._reactInternals},this.props.children)}};function wb(){const i=pt.useContext(s0);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=pt.useId();return pt.useMemo(()=>{for(const e of[i,i?.alternate]){if(!e)continue;const n=SI(e,!1,s=>{let l=s.memoizedState;for(;l;){if(l.memoizedState===t)return!0;l=l.next}});if(n)return n}},[i,t])}const Gb=Symbol.for("react.context"),Nb=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===Gb;function Ub(){const i=wb(),[t]=pt.useState(()=>new Map);t.clear();let e=i;for(;e;){const n=e.type;Nb(n)&&n!==s0&&!t.has(n)&&t.set(n,pt.use(TI(n))),e=e.return}return t}function Ob(){const i=Ub();return pt.useMemo(()=>Array.from(i.keys()).reduce((t,e)=>n=>pt.createElement(t,null,pt.createElement(e.Provider,{...n,value:i.get(e)})),t=>pt.createElement(RI,{...t})),[i])}var J=(i=>(i.Application="application",i.WebGLPipes="webgl-pipes",i.WebGLPipesAdaptor="webgl-pipes-adaptor",i.WebGLSystem="webgl-system",i.WebGPUPipes="webgpu-pipes",i.WebGPUPipesAdaptor="webgpu-pipes-adaptor",i.WebGPUSystem="webgpu-system",i.CanvasSystem="canvas-system",i.CanvasPipesAdaptor="canvas-pipes-adaptor",i.CanvasPipes="canvas-pipes",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i.MaskEffect="mask-effect",i.BlendMode="blend-mode",i.TextureSource="texture-source",i.Environment="environment",i.ShapeBuilder="shape-builder",i.Batcher="batcher",i))(J||{});const mE=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},Sg=(i,t)=>mE(i).priority??t,Xt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(mE).forEach(t=>{t.type.forEach(e=>this._removeHandlers[e]?.(t))}),this},add(...i){return i.map(mE).forEach(t=>{t.type.forEach(e=>{const n=this._addHandlers,s=this._queue;n[e]?n[e]?.(t):(s[e]=s[e]||[],s[e]?.push(t))})}),this},handle(i,t,e){const n=this._addHandlers,s=this._removeHandlers;if(n[i]||s[i])throw new Error(`Extension type ${i} already has a handler`);n[i]=t,s[i]=e;const l=this._queue;return l[i]&&(l[i]?.forEach(c=>t(c)),delete l[i]),this},handleByMap(i,t){return this.handle(i,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByNamedList(i,t,e=-1){return this.handle(i,n=>{t.findIndex(l=>l.name===n.name)>=0||(t.push({name:n.name,value:n.ref}),t.sort((l,c)=>Sg(c.value,e)-Sg(l.value,e)))},n=>{const s=t.findIndex(l=>l.name===n.name);s!==-1&&t.splice(s,1)})},handleByList(i,t,e=-1){return this.handle(i,n=>{t.includes(n.ref)||(t.push(n.ref),t.sort((s,l)=>Sg(l,e)-Sg(s,e)))},n=>{const s=t.indexOf(n.ref);s!==-1&&t.splice(s,1)})},mixin(i,...t){for(const e of t)Object.defineProperties(i.prototype,Object.getOwnPropertyDescriptors(e))}},Hb={extension:{type:J.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Zo(()=>Promise.resolve().then(()=>uU),void 0,import.meta.url)}},kb={extension:{type:J.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Zo(()=>Promise.resolve().then(()=>cU),void 0,import.meta.url)}};class Ji{constructor(t,e,n){this._x=e||0,this._y=n||0,this._observer=t}clone(t){return new Ji(t??this._observer,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var gm={exports:{}},jy;function Lb(){return jy||(jy=1,function(i){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(f,p,y){this.fn=f,this.context=p,this.once=y||!1}function l(f,p,y,B,_){if(typeof y!="function")throw new TypeError("The listener must be a function");var x=new s(y,B||f,_),v=e?e+p:p;return f._events[v]?f._events[v].fn?f._events[v]=[f._events[v],x]:f._events[v].push(x):(f._events[v]=x,f._eventsCount++),f}function c(f,p){--f._eventsCount===0?f._events=new n:delete f._events[p]}function h(){this._events=new n,this._eventsCount=0}h.prototype.eventNames=function(){var p=[],y,B;if(this._eventsCount===0)return p;for(B in y=this._events)t.call(y,B)&&p.push(e?B.slice(1):B);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(y)):p},h.prototype.listeners=function(p){var y=e?e+p:p,B=this._events[y];if(!B)return[];if(B.fn)return[B.fn];for(var _=0,x=B.length,v=new Array(x);_<x;_++)v[_]=B[_].fn;return v},h.prototype.listenerCount=function(p){var y=e?e+p:p,B=this._events[y];return B?B.fn?1:B.length:0},h.prototype.emit=function(p,y,B,_,x,v){var T=e?e+p:p;if(!this._events[T])return!1;var S=this._events[T],R=arguments.length,O,D;if(S.fn){switch(S.once&&this.removeListener(p,S.fn,void 0,!0),R){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,y),!0;case 3:return S.fn.call(S.context,y,B),!0;case 4:return S.fn.call(S.context,y,B,_),!0;case 5:return S.fn.call(S.context,y,B,_,x),!0;case 6:return S.fn.call(S.context,y,B,_,x,v),!0}for(D=1,O=new Array(R-1);D<R;D++)O[D-1]=arguments[D];S.fn.apply(S.context,O)}else{var F=S.length,j;for(D=0;D<F;D++)switch(S[D].once&&this.removeListener(p,S[D].fn,void 0,!0),R){case 1:S[D].fn.call(S[D].context);break;case 2:S[D].fn.call(S[D].context,y);break;case 3:S[D].fn.call(S[D].context,y,B);break;case 4:S[D].fn.call(S[D].context,y,B,_);break;default:if(!O)for(j=1,O=new Array(R-1);j<R;j++)O[j-1]=arguments[j];S[D].fn.apply(S[D].context,O)}}return!0},h.prototype.on=function(p,y,B){return l(this,p,y,B,!1)},h.prototype.once=function(p,y,B){return l(this,p,y,B,!0)},h.prototype.removeListener=function(p,y,B,_){var x=e?e+p:p;if(!this._events[x])return this;if(!y)return c(this,x),this;var v=this._events[x];if(v.fn)v.fn===y&&(!_||v.once)&&(!B||v.context===B)&&c(this,x);else{for(var T=0,S=[],R=v.length;T<R;T++)(v[T].fn!==y||_&&!v[T].once||B&&v[T].context!==B)&&S.push(v[T]);S.length?this._events[x]=S.length===1?S[0]:S:c(this,x)}return this},h.prototype.removeAllListeners=function(p){var y;return p?(y=e?e+p:p,this._events[y]&&c(this,y)):(this._events=new n,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=e,h.EventEmitter=h,i.exports=h}(gm)),gm.exports}var Fb=Lb();const as=jd(Fb),Pb=Math.PI*2,zb=180/Math.PI,Yb=Math.PI/180;class We{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new We(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return pm.x=0,pm.y=0,pm}}const pm=new We;class Yt{constructor(t=1,e=0,n=0,s=1,l=0,c=0){this.array=null,this.a=t,this.b=e,this.c=n,this.d=s,this.tx=l,this.ty=c}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,n,s,l,c){return this.a=t,this.b=e,this.c=n,this.d=s,this.tx=l,this.ty=c,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(t,e){e=e||new We;const n=t.x,s=t.y;return e.x=this.a*n+this.c*s+this.tx,e.y=this.b*n+this.d*s+this.ty,e}applyInverse(t,e){e=e||new We;const n=this.a,s=this.b,l=this.c,c=this.d,h=this.tx,f=this.ty,p=1/(n*c+l*-s),y=t.x,B=t.y;return e.x=c*p*y+-l*p*B+(f*l-h*c)*p,e.y=n*p*B+-s*p*y+(-f*n+h*s)*p,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),s=this.a,l=this.c,c=this.tx;return this.a=s*e-this.b*n,this.b=s*n+this.b*e,this.c=l*e-this.d*n,this.d=l*n+this.d*e,this.tx=c*e-this.ty*n,this.ty=c*n+this.ty*e,this}append(t){const e=this.a,n=this.b,s=this.c,l=this.d;return this.a=t.a*e+t.b*s,this.b=t.a*n+t.b*l,this.c=t.c*e+t.d*s,this.d=t.c*n+t.d*l,this.tx=t.tx*e+t.ty*s+this.tx,this.ty=t.tx*n+t.ty*l+this.ty,this}appendFrom(t,e){const n=t.a,s=t.b,l=t.c,c=t.d,h=t.tx,f=t.ty,p=e.a,y=e.b,B=e.c,_=e.d;return this.a=n*p+s*B,this.b=n*y+s*_,this.c=l*p+c*B,this.d=l*y+c*_,this.tx=h*p+f*B+e.tx,this.ty=h*y+f*_+e.ty,this}setTransform(t,e,n,s,l,c,h,f,p){return this.a=Math.cos(h+p)*l,this.b=Math.sin(h+p)*l,this.c=-Math.sin(h-f)*c,this.d=Math.cos(h-f)*c,this.tx=t-(n*this.a+s*this.c),this.ty=e-(n*this.b+s*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const n=this.a,s=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=s*t.a+this.d*t.c,this.d=s*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,n=this.b,s=this.c,l=this.d,c=t.pivot,h=-Math.atan2(-s,l),f=Math.atan2(n,e),p=Math.abs(h+f);return p<1e-5||Math.abs(Pb-p)<1e-5?(t.rotation=f,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=h,t.skew.y=f),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(s*s+l*l),t.position.x=this.tx+(c.x*e+c.y*s),t.position.y=this.ty+(c.x*n+c.y*l),t}invert(){const t=this.a,e=this.b,n=this.c,s=this.d,l=this.tx,c=t*s-e*n;return this.a=s/c,this.b=-e/c,this.c=-n/c,this.d=t/c,this.tx=(n*this.ty-s*l)/c,this.ty=-(t*this.ty-e*l)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Yt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return jb.identity()}static get shared(){return Kb.identity()}}const Kb=new Yt,jb=new Yt,ou=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],lu=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Au=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],uu=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],EE=[],DI=[],Tg=Math.sign;function Xb(){for(let i=0;i<16;i++){const t=[];EE.push(t);for(let e=0;e<16;e++){const n=Tg(ou[i]*ou[e]+Au[i]*lu[e]),s=Tg(lu[i]*ou[e]+uu[i]*lu[e]),l=Tg(ou[i]*Au[e]+Au[i]*uu[e]),c=Tg(lu[i]*Au[e]+uu[i]*uu[e]);for(let h=0;h<16;h++)if(ou[h]===n&&lu[h]===s&&Au[h]===l&&uu[h]===c){t.push(h);break}}}for(let i=0;i<16;i++){const t=new Yt;t.set(ou[i],lu[i],Au[i],uu[i],0,0),DI.push(t)}}Xb();const Ci={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>ou[i],uY:i=>lu[i],vX:i=>Au[i],vY:i=>uu[i],inv:i=>i&8?i&15:-i&7,add:(i,t)=>EE[i][t],sub:(i,t)=>EE[i][Ci.inv(t)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,t)=>Math.abs(i)*2<=Math.abs(t)?t>=0?Ci.S:Ci.N:Math.abs(t)*2<=Math.abs(i)?i>0?Ci.E:Ci.W:t>0?i>0?Ci.SE:Ci.SW:i>0?Ci.NE:Ci.NW,matrixAppendRotationInv:(i,t,e=0,n=0)=>{const s=DI[Ci.inv(t)];s.tx=e,s.ty=n,i.append(s)}},Rg=[new We,new We,new We,new We];class Re{constructor(t=0,e=0,n=0,s=0){this.type="rectangle",this.x=Number(t),this.y=Number(e),this.width=Number(n),this.height=Number(s)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Re(0,0,0,0)}clone(){return new Re(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}strokeContains(t,e,n,s=.5){const{width:l,height:c}=this;if(l<=0||c<=0)return!1;const h=this.x,f=this.y,p=n*(1-s),y=n-p,B=h-p,_=h+l+p,x=f-p,v=f+c+p,T=h+y,S=h+l-y,R=f+y,O=f+c-y;return t>=B&&t<=_&&e>=x&&e<=v&&!(t>T&&t<S&&e>R&&e<O)}intersects(t,e){if(!e){const gt=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=gt)return!1;const At=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>At}const n=this.left,s=this.right,l=this.top,c=this.bottom;if(s<=n||c<=l)return!1;const h=Rg[0].set(t.left,t.top),f=Rg[1].set(t.left,t.bottom),p=Rg[2].set(t.right,t.top),y=Rg[3].set(t.right,t.bottom);if(p.x<=h.x||f.y<=h.y)return!1;const B=Math.sign(e.a*e.d-e.b*e.c);if(B===0||(e.apply(h,h),e.apply(f,f),e.apply(p,p),e.apply(y,y),Math.max(h.x,f.x,p.x,y.x)<=n||Math.min(h.x,f.x,p.x,y.x)>=s||Math.max(h.y,f.y,p.y,y.y)<=l||Math.min(h.y,f.y,p.y,y.y)>=c))return!1;const _=B*(f.y-h.y),x=B*(h.x-f.x),v=_*n+x*l,T=_*s+x*l,S=_*n+x*c,R=_*s+x*c;if(Math.max(v,T,S,R)<=_*h.x+x*h.y||Math.min(v,T,S,R)>=_*y.x+x*y.y)return!1;const O=B*(h.y-p.y),D=B*(p.x-h.x),F=O*n+D*l,j=O*s+D*l,$=O*n+D*c,V=O*s+D*c;return!(Math.max(F,j,$,V)<=O*h.x+D*h.y||Math.min(F,j,$,V)>=O*y.x+D*y.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),s=Math.max(this.y,t.y),l=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(n-e,0),this.y=s,this.height=Math.max(l-s,0),this}ceil(t=1,e=.001){const n=Math.ceil((this.x+this.width-e)*t)/t,s=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=s-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),s=Math.min(this.y,t.y),l=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=n-e,this.y=s,this.height=l-s,this}getBounds(t){return t||(t=new Re),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const e=t.x,n=t.y,s=t.x+t.width,l=t.y+t.height;return e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height&&s>=this.x&&s<this.x+this.width&&l>=this.y&&l<this.y+this.height}set(t,e,n,s){return this.x=t,this.y=e,this.width=n,this.height=s,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const mm={default:-1};function Ai(i="default"){return mm[i]===void 0&&(mm[i]=-1),++mm[i]}const Xy={},_e="8.0.0",Vb="8.3.4";function ue(i,t,e=3){if(Xy[t])return;let n=new Error().stack;typeof n>"u"||(n=n.split(`
`).splice(e).join(`
`)),Xy[t]=!0}const MI=()=>{};function Lc(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function Vy(i){return!(i&i-1)&&!!i}function Fc(i){const t={};for(const e in i)i[e]!==void 0&&(t[e]=i[e]);return t}const qy=Object.create(null);function qb(i){const t=qy[i];return t===void 0&&(qy[i]=Ai("resource")),t}const wI=class GI extends as{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...GI.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){ue(_e,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=qb(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};wI.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let $o=wI;const NI=class UI extends as{constructor(t={}){super(),this.options=t,this.uid=Ai("textureSource"),this._resourceType="textureSource",this._resourceId=Ai("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...UI.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new $o(Fc(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Ai("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,e,n){n||(n=this._resolution),t||(t=this.width),e||(e=this.height);const s=Math.round(t*n),l=Math.round(e*n);return this.width=s/n,this.height=l/n,this._resolution=n,this.pixelWidth===s&&this.pixelHeight===l?!1:(this._refreshPOT(),this.pixelWidth=s,this.pixelHeight=l,this.emit("resize",this),this._resourceId=Ai("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Vy(this.pixelWidth)&&Vy(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};NI.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let on=NI;class r0 extends on{constructor(t){const e=t.resource||new Float32Array(t.width*t.height*4);let n=t.format;n||(e instanceof Float32Array?n="rgba32float":e instanceof Int32Array||e instanceof Uint32Array?n="rgba32uint":e instanceof Int16Array||e instanceof Uint16Array?n="rgba16uint":(e instanceof Int8Array,n="bgra8unorm")),super({...t,resource:e,format:n}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}r0.extension=J.TextureSource;const Jy=new Yt;class OI{constructor(t,e){this.mapCoord=new Yt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof e>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=e,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,e){e===void 0&&(e=t);const n=this.mapCoord;for(let s=0;s<t.length;s+=2){const l=t[s],c=t[s+1];e[s]=l*n.a+c*n.c+n.tx,e[s+1]=l*n.b+c*n.d+n.ty}return e}update(){const t=this._texture;this._updateID++;const e=t.uvs;this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0);const n=t.orig,s=t.trim;s&&(Jy.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Jy));const l=t.source,c=this.uClampFrame,h=this.clampMargin/l._resolution,f=this.clampOffset/l._resolution;return c[0]=(t.frame.x+h+f)/l.width,c[1]=(t.frame.y+h+f)/l.height,c[2]=(t.frame.x+t.frame.width-h+f)/l.width,c[3]=(t.frame.y+t.frame.height-h+f)/l.height,this.uClampOffset[0]=this.clampOffset/l.pixelWidth,this.uClampOffset[1]=this.clampOffset/l.pixelHeight,this.isSimple=t.frame.width===l.width&&t.frame.height===l.height&&t.rotate===0,!0}}class Ut extends as{constructor({source:t,label:e,frame:n,orig:s,trim:l,defaultAnchor:c,defaultBorders:h,rotate:f,dynamic:p}={}){if(super(),this.uid=Ai("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Re,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=e,this.source=t?.source??new on,this.noFrame=!n,n)this.frame.copyFrom(n);else{const{width:y,height:B}=this._source;this.frame.width=y,this.frame.height=B}this.orig=s||this.frame,this.trim=l,this.rotate=f??0,this.defaultAnchor=c,this.defaultBorders=h,this.destroyed=!1,this.dynamic=p||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new OI(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:e}=this,{width:n,height:s}=this._source,l=e.x/n,c=e.y/s,h=e.width/n,f=e.height/s;let p=this.rotate;if(p){const y=h/2,B=f/2,_=l+y,x=c+B;p=Ci.add(p,Ci.NW),t.x0=_+y*Ci.uX(p),t.y0=x+B*Ci.uY(p),p=Ci.add(p,2),t.x1=_+y*Ci.uX(p),t.y1=x+B*Ci.uY(p),p=Ci.add(p,2),t.x2=_+y*Ci.uX(p),t.y2=x+B*Ci.uY(p),p=Ci.add(p,2),t.x3=_+y*Ci.uX(p),t.y3=x+B*Ci.uY(p)}else t.x0=l,t.y0=c,t.x1=l+h,t.y1=c,t.x2=l+h,t.y2=c+f,t.x3=l,t.y3=c+f}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return ue(_e,"Texture.baseTexture is now Texture.source"),this._source}}Ut.EMPTY=new Ut({label:"EMPTY",source:new on({label:"EMPTY"})});Ut.EMPTY.destroy=MI;Ut.WHITE=new Ut({source:new r0({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Ut.WHITE.destroy=MI;function HI(i,t,e){const{width:n,height:s}=e.orig,l=e.trim;if(l){const c=l.width,h=l.height;i.minX=l.x-t._x*n,i.maxX=i.minX+c,i.minY=l.y-t._y*s,i.maxY=i.minY+h}else i.minX=-t._x*n,i.maxX=i.minX+n,i.minY=-t._y*s,i.maxY=i.minY+s}const Wy=new Yt;class pn{constructor(t=1/0,e=1/0,n=-1/0,s=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Wy,this.minX=t,this.minY=e,this.maxX=n,this.maxY=s}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Re);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Wy,this}set(t,e,n,s){this.minX=t,this.minY=e,this.maxX=n,this.maxY=s}addFrame(t,e,n,s,l){l||(l=this.matrix);const c=l.a,h=l.b,f=l.c,p=l.d,y=l.tx,B=l.ty;let _=this.minX,x=this.minY,v=this.maxX,T=this.maxY,S=c*t+f*e+y,R=h*t+p*e+B;S<_&&(_=S),R<x&&(x=R),S>v&&(v=S),R>T&&(T=R),S=c*n+f*e+y,R=h*n+p*e+B,S<_&&(_=S),R<x&&(x=R),S>v&&(v=S),R>T&&(T=R),S=c*t+f*s+y,R=h*t+p*s+B,S<_&&(_=S),R<x&&(x=R),S>v&&(v=S),R>T&&(T=R),S=c*n+f*s+y,R=h*n+p*s+B,S<_&&(_=S),R<x&&(x=R),S>v&&(v=S),R>T&&(T=R),this.minX=_,this.minY=x,this.maxX=v,this.maxY=T}addRect(t,e){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,e)}addBounds(t,e){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,e)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const e=this.minX,n=this.minY,s=this.maxX,l=this.maxY,{a:c,b:h,c:f,d:p,tx:y,ty:B}=t;let _=c*e+f*n+y,x=h*e+p*n+B;this.minX=_,this.minY=x,this.maxX=_,this.maxY=x,_=c*s+f*n+y,x=h*s+p*n+B,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY,_=c*e+f*l+y,x=h*e+p*l+B,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY,_=c*s+f*l+y,x=h*s+p*l+B,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,e,n,s){return this.minX<t&&(this.minX=t),this.maxX>e&&(this.maxX=e),this.minY<n&&(this.minY=n),this.maxY>s&&(this.maxY=s),this}pad(t,e=t){return this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new pn(this.minX,this.minY,this.maxX,this.maxY)}scale(t,e=t){return this.minX*=t,this.minY*=e,this.maxX*=t,this.maxY*=e,this}get x(){return this.minX}set x(t){const e=this.maxX-this.minX;this.minX=t,this.maxX=t+e}get y(){return this.minY}set y(t){const e=this.maxY-this.minY;this.minY=t,this.maxY=t+e}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,e,n,s){let l=this.minX,c=this.minY,h=this.maxX,f=this.maxY;s||(s=this.matrix);const p=s.a,y=s.b,B=s.c,_=s.d,x=s.tx,v=s.ty;for(let T=e;T<n;T+=2){const S=t[T],R=t[T+1],O=p*S+B*R+x,D=y*S+_*R+v;l=O<l?O:l,c=D<c?D:c,h=O>h?O:h,f=D>f?D:f}this.minX=l,this.minY=c,this.maxX=h,this.maxY=f}containsPoint(t,e){return this.minX<=t&&this.minY<=e&&this.maxX>=t&&this.maxY>=e}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var Jb={grad:.9,turn:360,rad:360/(2*Math.PI)},Po=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},gn=function(i,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*i)/e+0},Rs=function(i,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),i>e?e:i>t?i:t},kI=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},Zy=function(i){return{r:Rs(i.r,0,255),g:Rs(i.g,0,255),b:Rs(i.b,0,255),a:Rs(i.a)}},Em=function(i){return{r:gn(i.r),g:gn(i.g),b:gn(i.b),a:gn(i.a,3)}},Wb=/^#([0-9a-f]{3,8})$/i,Dg=function(i){var t=i.toString(16);return t.length<2?"0"+t:t},LI=function(i){var t=i.r,e=i.g,n=i.b,s=i.a,l=Math.max(t,e,n),c=l-Math.min(t,e,n),h=c?l===t?(e-n)/c:l===e?2+(n-t)/c:4+(t-e)/c:0;return{h:60*(h<0?h+6:h),s:l?c/l*100:0,v:l/255*100,a:s}},FI=function(i){var t=i.h,e=i.s,n=i.v,s=i.a;t=t/360*6,e/=100,n/=100;var l=Math.floor(t),c=n*(1-e),h=n*(1-(t-l)*e),f=n*(1-(1-t+l)*e),p=l%6;return{r:255*[n,h,c,c,f,n][p],g:255*[f,n,n,h,c,c][p],b:255*[c,c,f,n,n,h][p],a:s}},$y=function(i){return{h:kI(i.h),s:Rs(i.s,0,100),l:Rs(i.l,0,100),a:Rs(i.a)}},tB=function(i){return{h:gn(i.h),s:gn(i.s),l:gn(i.l),a:gn(i.a,3)}},eB=function(i){return FI((e=(t=i).s,{h:t.h,s:(e*=((n=t.l)<50?n:100-n)/100)>0?2*e/(n+e)*100:0,v:n+e,a:t.a}));var t,e,n},wd=function(i){return{h:(t=LI(i)).h,s:(s=(200-(e=t.s))*(n=t.v)/100)>0&&s<200?e*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:t.a};var t,e,n,s},Zb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$b=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,eS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yE={string:[[function(i){var t=Wb.exec(i);return t?(i=t[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?gn(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?gn(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var t=tS.exec(i)||eS.exec(i);return t?t[2]!==t[4]||t[4]!==t[6]?null:Zy({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(i){var t=Zb.exec(i)||$b.exec(i);if(!t)return null;var e,n,s=$y({h:(e=t[1],n=t[2],n===void 0&&(n="deg"),Number(e)*(Jb[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return eB(s)},"hsl"]],object:[[function(i){var t=i.r,e=i.g,n=i.b,s=i.a,l=s===void 0?1:s;return Po(t)&&Po(e)&&Po(n)?Zy({r:Number(t),g:Number(e),b:Number(n),a:Number(l)}):null},"rgb"],[function(i){var t=i.h,e=i.s,n=i.l,s=i.a,l=s===void 0?1:s;if(!Po(t)||!Po(e)||!Po(n))return null;var c=$y({h:Number(t),s:Number(e),l:Number(n),a:Number(l)});return eB(c)},"hsl"],[function(i){var t=i.h,e=i.s,n=i.v,s=i.a,l=s===void 0?1:s;if(!Po(t)||!Po(e)||!Po(n))return null;var c=function(h){return{h:kI(h.h),s:Rs(h.s,0,100),v:Rs(h.v,0,100),a:Rs(h.a)}}({h:Number(t),s:Number(e),v:Number(n),a:Number(l)});return FI(c)},"hsv"]]},iB=function(i,t){for(var e=0;e<t.length;e++){var n=t[e][0](i);if(n)return[n,t[e][1]]}return[null,void 0]},iS=function(i){return typeof i=="string"?iB(i.trim(),yE.string):typeof i=="object"&&i!==null?iB(i,yE.object):[null,void 0]},ym=function(i,t){var e=wd(i);return{h:e.h,s:Rs(e.s+100*t,0,100),l:e.l,a:e.a}},Bm=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},nB=function(i,t){var e=wd(i);return{h:e.h,s:e.s,l:Rs(e.l+100*t,0,100),a:e.a}},BE=function(){function i(t){this.parsed=iS(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return gn(Bm(this.rgba),2)},i.prototype.isDark=function(){return Bm(this.rgba)<.5},i.prototype.isLight=function(){return Bm(this.rgba)>=.5},i.prototype.toHex=function(){return t=Em(this.rgba),e=t.r,n=t.g,s=t.b,c=(l=t.a)<1?Dg(gn(255*l)):"","#"+Dg(e)+Dg(n)+Dg(s)+c;var t,e,n,s,l,c},i.prototype.toRgb=function(){return Em(this.rgba)},i.prototype.toRgbString=function(){return t=Em(this.rgba),e=t.r,n=t.g,s=t.b,(l=t.a)<1?"rgba("+e+", "+n+", "+s+", "+l+")":"rgb("+e+", "+n+", "+s+")";var t,e,n,s,l},i.prototype.toHsl=function(){return tB(wd(this.rgba))},i.prototype.toHslString=function(){return t=tB(wd(this.rgba)),e=t.h,n=t.s,s=t.l,(l=t.a)<1?"hsla("+e+", "+n+"%, "+s+"%, "+l+")":"hsl("+e+", "+n+"%, "+s+"%)";var t,e,n,s,l},i.prototype.toHsv=function(){return t=LI(this.rgba),{h:gn(t.h),s:gn(t.s),v:gn(t.v),a:gn(t.a,3)};var t},i.prototype.invert=function(){return eo({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},i.prototype.saturate=function(t){return t===void 0&&(t=.1),eo(ym(this.rgba,t))},i.prototype.desaturate=function(t){return t===void 0&&(t=.1),eo(ym(this.rgba,-t))},i.prototype.grayscale=function(){return eo(ym(this.rgba,-1))},i.prototype.lighten=function(t){return t===void 0&&(t=.1),eo(nB(this.rgba,t))},i.prototype.darken=function(t){return t===void 0&&(t=.1),eo(nB(this.rgba,-t))},i.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},i.prototype.alpha=function(t){return typeof t=="number"?eo({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):gn(this.rgba.a,3);var e},i.prototype.hue=function(t){var e=wd(this.rgba);return typeof t=="number"?eo({h:t,s:e.s,l:e.l,a:e.a}):gn(e.h)},i.prototype.isEqual=function(t){return this.toHex()===eo(t).toHex()},i}(),eo=function(i){return i instanceof BE?i:new BE(i)},aB=[],nS=function(i){i.forEach(function(t){aB.indexOf(t)<0&&(t(BE,yE),aB.push(t))})};function aS(i,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in e)n[e[s]]=s;var l={};i.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var h,f,p=n[this.toHex()];if(p)return p;if(c?.closest){var y=this.toRgb(),B=1/0,_="black";if(!l.length)for(var x in e)l[x]=new i(e[x]).toRgb();for(var v in e){var T=(h=y,f=l[v],Math.pow(h.r-f.r,2)+Math.pow(h.g-f.g,2)+Math.pow(h.b-f.b,2));T<B&&(B=T,_=v)}return _}},t.string.push([function(c){var h=c.toLowerCase(),f=h==="transparent"?"#0000":e[h];return f?new i(f).toRgb():null},"name"])}nS([aS]);const Pc=class Td{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Td)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,e){const n=typeof t;if(n!==typeof e)return!1;if(n==="number"||n==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((l,c)=>l===e[c]);if(t!==null&&e!==null){const l=Object.keys(t),c=Object.keys(e);return l.length!==c.length?!1:l.every(h=>t[h]===e[h])}return t===e}toRgba(){const[t,e,n,s]=this._components;return{r:t,g:e,b:n,a:s}}toRgb(){const[t,e,n]=this._components;return{r:t,g:e,b:n}}toRgbaString(){const[t,e,n]=this.toUint8RgbArray();return`rgba(${t},${e},${n},${this.alpha})`}toUint8RgbArray(t){const[e,n,s]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(e*255),t[1]=Math.round(n*255),t[2]=Math.round(s*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[e,n,s,l]=this._components;return t[0]=e,t[1]=n,t[2]=s,t[3]=l,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[e,n,s]=this._components;return t[0]=e,t[1]=n,t[2]=s,t}toNumber(){return this._int}toBgrNumber(){const[t,e,n]=this.toUint8RgbArray();return(n<<16)+(e<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,n,s,l]=Td._temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=n,this._components[2]*=s,this._components[3]*=l,this._refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let n=this._int>>16&255,s=this._int>>8&255,l=this._int&255;return e&&(n=n*t+.5|0,s=s*t+.5|0,l=l*t+.5|0),(t*255<<24)+(n<<16)+(s<<8)+l}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let e,n,s,l;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const c=t;e=(c>>16&255)/255,n=(c>>8&255)/255,s=(c&255)/255,l=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,n,s,l=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,n,s,l=255]=t,e/=255,n/=255,s/=255,l/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const h=Td.HEX_PATTERN.exec(t);h&&(t=`#${h[2]}`)}const c=eo(t);c.isValid()&&({r:e,g:n,b:s,a:l}=c.rgba,e/=255,n/=255,s/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=n,this._components[2]=s,this._components[3]=l,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,e,n]=this._components;this._int=(t*255<<16)+(e*255<<8)+(n*255|0)}_clamp(t,e=0,n=1){return typeof t=="number"?Math.min(Math.max(t,e),n):(t.forEach((s,l)=>{t[l]=Math.min(Math.max(s,e),n)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Td||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Pc.shared=new Pc;Pc._temp=new Pc;Pc.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ye=Pc;const sS={cullArea:null,cullable:!1,cullableChildren:!0};class o0{constructor(t,e){this._pool=[],this._count=0,this._index=0,this._classType=t,e&&this.prepopulate(e)}prepopulate(t){for(let e=0;e<t;e++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let e;return this._index>0?e=this._pool[--this._index]:e=new this._classType,e.init?.(t),e}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class rS{constructor(){this._poolsByClass=new Map}prepopulate(t,e){this.getPool(t).prepopulate(e)}get(t,e){return this.getPool(t).get(e)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new o0(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(e=>{const n=t[e._classType.name]?e._classType.name+e._classType.ID:e._classType.name;t[n]={free:e.totalFree,used:e.totalUsed,size:e.totalSize}}),t}}const ln=new rS,oS={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(i){typeof i=="boolean"&&i===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(i===!0?{}:i))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(i){ue("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(i)}};function PI(i,t,e){const n=i.length;let s;if(t>=n||e===0)return;e=t+e>n?n-t:e;const l=n-e;for(s=t;s<l;++s)i[s]=i[s+e];i.length=l}const lS={allowChildren:!0,removeChildren(i=0,t){const e=t??this.children.length,n=e-i,s=[];if(n>0&&n<=e){for(let c=e-1;c>=i;c--){const h=this.children[c];h&&(s.push(h),h.parent=null)}PI(this.children,i,e);const l=this.renderGroup||this.parentRenderGroup;l&&l.removeChildren(s);for(let c=0;c<s.length;++c){const h=s[c];h.parentRenderLayer?.detach(h),this.emit("childRemoved",h,this,c),s[c].emit("removed",this)}return s.length>0&&this._didViewChangeTick++,s}else if(n===0&&this.children.length===0)return s;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(i){const t=this.getChildAt(i);return this.removeChild(t)},getChildAt(i){if(i<0||i>=this.children.length)throw new Error(`getChildAt: Index (${i}) does not exist.`);return this.children[i]},setChildIndex(i,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(i),this.addChildAt(i,t)},getChildIndex(i){const t=this.children.indexOf(i);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(i,t){this.allowChildren||ue(_e,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:e}=this;if(t<0||t>e.length)throw new Error(`${i}addChildAt: The index ${t} supplied is out of bounds ${e.length}`);if(i.parent){const s=i.parent.children.indexOf(i);if(i.parent===this&&s===t)return i;s!==-1&&i.parent.children.splice(s,1)}t===e.length?e.push(i):e.splice(t,0,i),i.parent=this,i.didChange=!0,i._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(i),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",i,this,t),i.emit("added",this),i},swapChildren(i,t){if(i===t)return;const e=this.getChildIndex(i),n=this.getChildIndex(t);this.children[e]=t,this.children[n]=i;const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...i){return i.length===1?this.reparentChildAt(i[0],this.children.length):(i.forEach(t=>this.reparentChildAt(t,this.children.length)),i[0])},reparentChildAt(i,t){if(i.parent===this)return this.setChildIndex(i,t),i;const e=i.worldTransform.clone();i.removeFromParent(),this.addChildAt(i,t);const n=this.worldTransform.clone();return n.invert(),e.prepend(n),i.setFromMatrix(e),i}},AS={collectRenderables(i,t,e){this.parentRenderLayer&&this.parentRenderLayer!==e||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(i,t,e):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,i):this.collectRenderablesWithEffects(i,t,e))},collectRenderablesSimple(i,t,e){const n=this.children,s=n.length;for(let l=0;l<s;l++)n[l].collectRenderables(i,t,e)},collectRenderablesWithEffects(i,t,e){const{renderPipes:n}=t;for(let s=0;s<this.effects.length;s++){const l=this.effects[s];n[l.pipe].push(l,this,i)}this.collectRenderablesSimple(i,t,e);for(let s=this.effects.length-1;s>=0;s--){const l=this.effects[s];n[l.pipe].pop(l,this,i)}}};class rp{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class uS{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let e=0;e<this._tests.length;e++){const n=this._tests[e];if(n.test(t))return ln.get(n.maskClass,t)}return t}returnMaskEffect(t){ln.return(t)}}const CE=new uS;Xt.handleByList(J.MaskEffect,CE._effectClasses);const cS={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0)},addEffect(i){this.effects.indexOf(i)===-1&&(this.effects.push(i),this.effects.sort((e,n)=>e.priority-n.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(i){const t=this.effects.indexOf(i);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(i){const t=this._maskEffect;t?.mask!==i&&(t&&(this.removeEffect(t),CE.returnMaskEffect(t),this._maskEffect=null),i!=null&&(this._maskEffect=CE.getMaskEffect(i),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(i){this._maskOptions={...this._maskOptions,...i},i.mask&&(this.mask=i.mask),this._markStructureAsChanged()},set filters(i){!Array.isArray(i)&&i&&(i=[i]);const t=this._filterEffect||(this._filterEffect=new rp);i=i;const e=i?.length>0,n=t.filters?.length>0,s=e!==n;i=Array.isArray(i)?i.slice(0):i,t.filters=Object.freeze(i),s&&(e?this.addEffect(t):(this.removeEffect(t),t.filters=i??null))},get filters(){return this._filterEffect?.filters},set filterArea(i){this._filterEffect||(this._filterEffect=new rp),this._filterEffect.filterArea=i},get filterArea(){return this._filterEffect?.filterArea}},hS={label:null,get name(){return ue(_e,"Container.name property has been removed, use Container.label instead"),this.label},set name(i){ue(_e,"Container.name property has been removed, use Container.label instead"),this.label=i},getChildByName(i,t=!1){return this.getChildByLabel(i,t)},getChildByLabel(i,t=!1){const e=this.children;for(let n=0;n<e.length;n++){const s=e[n];if(s.label===i||i instanceof RegExp&&i.test(s.label))return s}if(t)for(let n=0;n<e.length;n++){const l=e[n].getChildByLabel(i,!0);if(l)return l}return null},getChildrenByLabel(i,t=!1,e=[]){const n=this.children;for(let s=0;s<n.length;s++){const l=n[s];(l.label===i||i instanceof RegExp&&i.test(l.label))&&e.push(l)}if(t)for(let s=0;s<n.length;s++)n[s].getChildrenByLabel(i,!0,e);return e}},ga=new o0(Yt),qo=new o0(pn),dS=new Yt,fS={getFastGlobalBounds(i,t){t||(t=new pn),t.clear(),this._getGlobalBoundsRecursive(!!i,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const e=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(e.worldTransform),t},_getGlobalBoundsRecursive(i,t,e){let n=t;if(i&&this.parentRenderLayer&&this.parentRenderLayer!==e||this.localDisplayStatus!==7||!this.measurable)return;const s=!!this.effects.length;if((this.renderGroup||s)&&(n=qo.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;n.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const l=this.children;for(let c=0;c<l.length;c++)l[c]._getGlobalBoundsRecursive(i,n,e)}if(s){let l=!1;const c=this.renderGroup||this.parentRenderGroup;for(let h=0;h<this.effects.length;h++)this.effects[h].addBounds&&(l||(l=!0,n.applyMatrix(c.worldTransform)),this.effects[h].addBounds(n,!0));l&&(n.applyMatrix(c.worldTransform.copyTo(dS).invert()),t.addBounds(n,this.relativeGroupTransform)),t.addBounds(n),qo.return(n)}else this.renderGroup&&(t.addBounds(n,this.relativeGroupTransform),qo.return(n))}};function l0(i,t,e){e.clear();let n,s;return i.parent?t?n=i.parent.worldTransform:(s=ga.get().identity(),n=A0(i,s)):n=Yt.IDENTITY,zI(i,e,n,t),s&&ga.return(s),e.isValid||e.set(0,0,0,0),e}function zI(i,t,e,n){if(!i.visible||!i.measurable)return;let s;n?s=i.worldTransform:(i.updateLocalTransform(),s=ga.get(),s.appendFrom(i.localTransform,e));const l=t,c=!!i.effects.length;if(c&&(t=qo.get().clear()),i.boundsArea)t.addRect(i.boundsArea,s);else{i.bounds&&(t.matrix=s,t.addBounds(i.bounds));for(let h=0;h<i.children.length;h++)zI(i.children[h],t,s,n)}if(c){for(let h=0;h<i.effects.length;h++)i.effects[h].addBounds?.(t);l.addBounds(t,Yt.IDENTITY),qo.return(t)}n||ga.return(s)}function A0(i,t){const e=i.parent;return e&&(A0(e,t),e.updateLocalTransform(),t.append(e.localTransform)),t}function YI(i,t){if(i===16777215||!t)return t;if(t===16777215||!i)return i;const e=i>>16&255,n=i>>8&255,s=i&255,l=t>>16&255,c=t>>8&255,h=t&255,f=e*l/255|0,p=n*c/255|0,y=s*h/255|0;return(f<<16)+(p<<8)+y}const sB=16777215;function op(i,t){return i===sB?t:t===sB?i:YI(i,t)}function $g(i){return((i&255)<<16)+(i&65280)+(i>>16&255)}const gS={getGlobalAlpha(i){if(i)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,e=this.parent;for(;e;)t*=e.alpha,e=e.parent;return t},getGlobalTransform(i,t){if(t)return i.copyFrom(this.worldTransform);this.updateLocalTransform();const e=A0(this,ga.get().identity());return i.appendFrom(this.localTransform,e),ga.return(e),i},getGlobalTint(i){if(i)return this.renderGroup?$g(this.renderGroup.worldColor):this.parentRenderGroup?$g(op(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,e=this.parent;for(;e;)t=op(t,e.localColor),e=e.parent;return $g(t)}};function u0(i,t,e){return t.clear(),e||(e=Yt.IDENTITY),KI(i,t,e,i,!0),t.isValid||t.set(0,0,0,0),t}function KI(i,t,e,n,s){let l;if(s)l=ga.get(),l=e.copyTo(l);else{if(!i.visible||!i.measurable)return;i.updateLocalTransform();const f=i.localTransform;l=ga.get(),l.appendFrom(f,e)}const c=t,h=!!i.effects.length;if(h&&(t=qo.get().clear()),i.boundsArea)t.addRect(i.boundsArea,l);else{i.renderPipeId&&(t.matrix=l,t.addBounds(i.bounds));const f=i.children;for(let p=0;p<f.length;p++)KI(f[p],t,l,n,!1)}if(h){for(let f=0;f<i.effects.length;f++)i.effects[f].addLocalBounds?.(t,n);c.addBounds(t,Yt.IDENTITY),qo.return(t)}ga.return(l)}function jI(i,t){const e=i.children;for(let n=0;n<e.length;n++){const s=e[n],l=s.uid,c=(s._didViewChangeTick&65535)<<16|s._didContainerChangeTick&65535,h=t.index;(t.data[h]!==l||t.data[h+1]!==c)&&(t.data[t.index]=l,t.data[t.index+1]=c,t.didChange=!0),t.index=h+2,s.children.length&&jI(s,t)}return t.didChange}const pS=new Yt,mS={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(i,t){const e=Math.sign(this.scale.x)||1;t!==0?this.scale.x=i/t*e:this.scale.x=e},_setHeight(i,t){const e=Math.sign(this.scale.y)||1;t!==0?this.scale.y=i/t*e:this.scale.y=e},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new pn});const i=this._localBoundsCacheData;return i.index=1,i.didChange=!1,i.data[0]!==this._didViewChangeTick&&(i.didChange=!0,i.data[0]=this._didViewChangeTick),jI(this,i),i.didChange&&u0(this,i.localBounds,pS),i.localBounds},getBounds(i,t){return l0(this,i,t||new pn)}},ES={_onRender:null,set onRender(i){const t=this.renderGroup||this.parentRenderGroup;if(!i){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=i},get onRender(){return this._onRender}},yS={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(i){this._zIndex!==i&&(this._zIndex=i,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(BS))}};function BS(i,t){return i._zIndex-t._zIndex}const CS={getGlobalPosition(i=new We,t=!1){return this.parent?this.parent.toGlobal(this._position,i,t):(i.x=this._position.x,i.y=this._position.y),i},toGlobal(i,t,e=!1){const n=this.getGlobalTransform(ga.get(),e);return t=n.apply(i,t),ga.return(n),t},toLocal(i,t,e,n){t&&(i=t.toGlobal(i,e,n));const s=this.getGlobalTransform(ga.get(),n);return e=s.applyInverse(i,e),ga.return(s),e}};class XI{constructor(){this.uid=Ai("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize}}let IS=0;class _S{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new $o(this.textureOptions)}createTexture(t,e,n){const s=new on({...this.textureOptions,width:t,height:e,resolution:1,antialias:n,autoGarbageCollect:!1});return new Ut({source:s,label:`texturePool_${IS++}`})}getOptimalTexture(t,e,n=1,s){let l=Math.ceil(t*n-1e-6),c=Math.ceil(e*n-1e-6);l=Lc(l),c=Lc(c);const h=(l<<17)+(c<<1)+(s?1:0);this._texturePool[h]||(this._texturePool[h]=[]);let f=this._texturePool[h].pop();return f||(f=this.createTexture(l,c,s)),f.source._resolution=n,f.source.width=l/n,f.source.height=c/n,f.source.pixelWidth=l,f.source.pixelHeight=c,f.frame.x=0,f.frame.y=0,f.frame.width=t,f.frame.height=e,f.updateUvs(),this._poolKeyHash[f.uid]=h,f}getSameSizeTexture(t,e=!1){const n=t.source;return this.getOptimalTexture(t.width,t.height,n._resolution,e)}returnTexture(t,e=!1){const n=this._poolKeyHash[t.uid];e&&(t.source.style=this.textureStyle),this._texturePool[n].push(t)}clear(t){if(t=t!==!1,t)for(const e in this._texturePool){const n=this._texturePool[e];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0)}this._texturePool={}}}const qn=new _S;class xS{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Yt,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new XI,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const e=t.children;for(let n=0;n<e.length;n++){const s=e[n];s._updateFlags=15,this.addChild(s)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(qn.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const e=this.childrenToUpdate[t];e.list.fill(null),e.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const e=this.renderGroupChildren.indexOf(t);e>-1&&this.renderGroupChildren.splice(e,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const e=t.children;for(let n=0;n<e.length;n++)this.addChild(e[n])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const e=t.children;for(let n=0;n<e.length;n++)this.removeChild(e[n])}removeChildren(t){for(let e=0;e<t.length;e++)this.removeChild(t[e])}onChildUpdate(t){let e=this.childrenToUpdate[t.relativeRenderGroupDepth];e||(e=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),e.list[e.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const e=this.root.children;for(let n=0;n<e.length;n++)this._getChildren(e[n],t);return t}_getChildren(t,e=[]){if(e.push(t),t.renderGroup)return e;const n=t.children;for(let s=0;s<n.length;s++)this._getChildren(n[s],e);return e}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Yt),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Yt),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Yt),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function QS(i,t,e={}){for(const n in t)!e[n]&&t[n]!==void 0&&(i[n]=t[n])}const Cm=new Ji(null),Im=new Ji(null),_m=new Ji(null,1,1),lp=1,c0=2,Gd=4;class He extends as{constructor(t={}){super(),this.uid=Ai("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Yt,this.relativeGroupTransform=new Yt,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Ji(this,0,0),this._scale=_m,this._pivot=Im,this._skew=Cm,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],QS(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(e=>this.addChild(e)),t.parent?.addChild(this)}static mixin(t){ue("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Xt.mixin(He,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||ue(_e,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let s=0;s<t.length;s++)this.addChild(t[s]);return t[0]}const e=t[0],n=this.renderGroup||this.parentRenderGroup;return e.parent===this?(this.children.splice(this.children.indexOf(e),1),this.children.push(e),n&&(n.structureDidChange=!0),e):(e.parent&&e.parent.removeChild(e),this.children.push(e),this.sortableChildren&&(this.sortDirty=!0),e.parent=this,e.didChange=!0,e._updateFlags=15,n&&n.addChild(e),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this),this._didViewChangeTick++,e._zIndex!==0&&e.depthOfChildModified(),e)}removeChild(...t){if(t.length>1){for(let s=0;s<t.length;s++)this.removeChild(t[s]);return t[0]}const e=t[0],n=this.children.indexOf(e);return n>-1&&(this._didViewChangeTick++,this.children.splice(n,1),this.renderGroup?this.renderGroup.removeChild(e):this.parentRenderGroup&&this.parentRenderGroup.removeChild(e),e.parentRenderLayer&&e.parentRenderLayer.detach(e),e.parent=null,this.emit("childRemoved",e,this,n),e.emit("removed",this)),e}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=ln.get(xS,this),this.groupTransform=Yt.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),ln.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Yt),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*zb}set angle(t){this.rotation=t*Yb}get pivot(){return this._pivot===Im&&(this._pivot=new Ji(this,0,0)),this._pivot}set pivot(t){this._pivot===Im&&(this._pivot=new Ji(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Cm&&(this._skew=new Ji(this,0,0)),this._skew}set skew(t){this._skew===Cm&&(this._skew=new Ji(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===_m&&(this._scale=new Ji(this,1,1)),this._scale}set scale(t){this._scale===_m&&(this._scale=new Ji(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const e=this.getLocalBounds().width;this._setWidth(t,e)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const e=this.getLocalBounds().height;this._setHeight(t,e)}getSize(t){t||(t={});const e=this.getLocalBounds();return t.width=Math.abs(this.scale.x*e.width),t.height=Math.abs(this.scale.y*e.height),t}setSize(t,e){const n=this.getLocalBounds();typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,n.width),e!==void 0&&this._setHeight(e,n.height)}_updateSkew(){const t=this._rotation,e=this._skew;this._cx=Math.cos(t+e._y),this._sx=Math.sin(t+e._y),this._cy=-Math.sin(t-e._x),this._sy=Math.cos(t-e._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const e=this.localTransform,n=this._scale,s=this._pivot,l=this._position,c=n._x,h=n._y,f=s._x,p=s._y;e.a=this._cx*c,e.b=this._sx*c,e.c=this._cy*h,e.d=this._sy*h,e.tx=l._x-(f*e.a+p*e.c),e.ty=l._y-(f*e.b+p*e.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=lp,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const n=Ye.shared.setValue(t??16777215).toBgrNumber();n!==this.localColor&&(this.localColor=n,this._updateFlags|=lp,this._onUpdate())}get tint(){return $g(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=c0,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const e=t?2:0;(this.localDisplayStatus&2)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Gd,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const e=t?0:4;(this.localDisplayStatus&4)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Gd,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const e=t?1:0;(this.localDisplayStatus&1)!==e&&(this._updateFlags|=Gd,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;let e;if(this.children.length&&(e=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t?.children)&&e)for(let s=0;s<e.length;++s)e[s].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}Xt.mixin(He,lS,fS,CS,ES,mS,cS,hS,yS,sS,oS,gS,AS);class rA extends He{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new pn(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const e=this.bounds,{x:n,y:s}=t;return n>=e.minX&&n<=e.maxX&&s>=e.minY&&s<=e.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null;for(const e in this._gpuData)this._gpuData[e].destroy?.();this._gpuData=null}collectRenderablesSimple(t,e,n){const{renderPipes:s}=e;s.blendMode.setBlendMode(this,this.groupBlendMode,t),s[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const c=this.children,h=c.length;for(let f=0;f<h;f++)c[f].collectRenderables(t,e,n)}}let zc=class IE extends rA{constructor(t=Ut.EMPTY){t instanceof Ut&&(t={texture:t});const{texture:e=Ut.EMPTY,anchor:n,roundPixels:s,width:l,height:c,...h}=t;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Ji({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:e.defaultAnchor&&(this.anchor=e.defaultAnchor),this.texture=e,this.allowChildren=!1,this.roundPixels=s??!1,l!==void 0&&(this.width=l),c!==void 0&&(this.height=c)}static from(t,e=!1){return t instanceof Ut?new IE(t):new IE(Ut.from(t,e))}set texture(t){t||(t=Ut.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return HI(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return ue("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,e=this._texture,n=this._bounds,{width:s,height:l}=e.orig;n.minX=-t._x*s,n.maxX=n.minX+s,n.minY=-t._y*l,n.maxY=n.minY+l}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const n=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(n)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,e){typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),e!==void 0&&this._setHeight(e,this._texture.orig.height)}};const vS=new pn;function VI(i,t,e){const n=vS;i.measurable=!0,l0(i,e,n),t.addBoundsMask(n),i.measurable=!1}let xm=0;const rB=500;function ie(...i){xm!==rB&&xm++}function qI(i,t,e){const n=qo.get();i.measurable=!0;const s=ga.get().identity(),l=JI(i,e,s);u0(i,n,l),i.measurable=!1,t.addBoundsMask(n),ga.return(s),qo.return(n)}function JI(i,t,e){return i?(i!==t&&(JI(i.parent,t,e),i.updateLocalTransform(),e.append(i.localTransform)),e):(ie("Mask bounds, renderable is not inside the root container"),e)}class WI{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof zc),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,e){this.inverse||VI(this.mask,t,e)}addLocalBounds(t,e){qI(this.mask,t,e)}containsPoint(t,e){const n=this.mask;return e(n,t)}destroy(){this.reset()}static test(t){return t instanceof zc}}WI.extension=J.MaskEffect;class ZI{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}ZI.extension=J.MaskEffect;class $I{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,e){VI(this.mask,t,e)}addLocalBounds(t,e){qI(this.mask,t,e)}containsPoint(t,e){const n=this.mask;return e(n,t)}destroy(){this.reset()}static test(t){return t instanceof He}}$I.extension=J.MaskEffect;const bS={createCanvas:(i,t)=>{const e=document.createElement("canvas");return e.width=i,e.height=t,e},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,t)=>fetch(i,t),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")};let oB=bS;const Ee={get(){return oB},set(i){oB=i}};class Ao extends on{constructor(t){t.resource||(t.resource=Ee.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,e=this.height,n=this._resolution){const s=super.resize(t,e,n);return s&&this.resizeCanvas(),s}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}Ao.extension=J.TextureSource;class Eu extends on{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Eu.extension=J.TextureSource;var Yc=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(Yc||{});class Qm{constructor(t,e=null,n=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=e,this.priority=n,this._once=s}match(t,e=null){return this._fn===t&&this._context===e}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const e=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const t_=class es{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Qm(null,null,1/0),this.deltaMS=1/es.targetFPMS,this.elapsedMS=1/es.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=Yc.NORMAL){return this._addListener(new Qm(t,e,n))}addOnce(t,e,n=Yc.NORMAL){return this._addListener(new Qm(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const l=t-this._lastFrame|0;if(l<this._minElapsedMS)return;this._lastFrame=t-l%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*es.targetFPMS;const n=this._head;let s=n.next;for(;s;)s=s.emit(this);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,es.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!es._shared){const t=es._shared=new es;t.autoStart=!0,t._protected=!0}return es._shared}static get system(){if(!es._system){const t=es._system=new es;t.autoStart=!0,t._protected=!0}return es._system}};t_.targetFPMS=.06;let Mn=t_,vm;async function e_(){return vm??(vm=(async()=>{const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const e=await new Promise(c=>{const h=document.createElement("video");h.onloadeddata=()=>c(h),h.onerror=()=>c(null),h.autoplay=!1,h.crossOrigin="anonymous",h.preload="auto",h.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",h.load()});if(!e)return"premultiply-alpha-on-upload";const n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const l=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,l),t.deleteFramebuffer(s),t.deleteTexture(n),t.getExtension("WEBGL_lose_context")?.loseContext(),l[0]<=l[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),vm}const yp=class i_ extends on{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...i_.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Mn.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,e=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(e.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await e_(),this._load=new Promise((n,s)=>{this.isValid?n(this):(this._resolve=n,this._reject=s,e.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${e.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Mn.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Mn.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Mn.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};yp.extension=J.TextureSource;yp.defaultOptions={...on.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};yp.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let tp=yp;const cr=(i,t,e=!1)=>(Array.isArray(i)||(i=[i]),t?i.map(n=>typeof n=="string"||e?t(n):n):i);class SS{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||ie(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const n=cr(t);let s;for(let f=0;f<this.parsers.length;f++){const p=this.parsers[f];if(p.test(e)){s=p.getCacheableAssets(n,e);break}}const l=new Map(Object.entries(s||{}));s||n.forEach(f=>{l.set(f,e)});const c=[...l.keys()],h={cacheKeys:c,keys:n};n.forEach(f=>{this._cacheMap.set(f,h)}),c.forEach(f=>{const p=s?s[f]:e;this._cache.has(f)&&this._cache.get(f)!==p&&ie("[Cache] already has key:",f),this._cache.set(f,l.get(f))})}remove(t){if(!this._cacheMap.has(t)){ie(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(s=>{this._cache.delete(s)}),e.keys.forEach(s=>{this._cacheMap.delete(s)})}get parsers(){return this._parsers}}const si=new SS,_E=[];Xt.handleByList(J.TextureSource,_E);function n_(i={}){const t=i&&i.resource,e=t?i.resource:i,n=t?i:{resource:i};for(let s=0;s<_E.length;s++){const l=_E[s];if(l.test(e))return new l(n)}throw new Error(`Could not find a source type for resource: ${n.resource}`)}function TS(i={},t=!1){const e=i&&i.resource,n=e?i.resource:i,s=e?i:{resource:i};if(!t&&si.has(n))return si.get(n);const l=new Ut({source:n_(s)});return l.on("destroy",()=>{si.has(n)&&si.remove(n)}),t||si.set(n,l),l}function RS(i,t=!1){return typeof i=="string"?si.get(i):i instanceof on?new Ut({source:i}):TS(i,t)}Ut.from=RS;on.from=n_;Xt.add(WI,ZI,$I,tp,Eu,Ao,r0);var oA=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(oA||{});function lr(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function gd(i){return i.split("?")[0].split("#")[0]}function DS(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function MS(i,t,e){return i.replace(new RegExp(DS(t),"g"),e)}function wS(i,t){let e="",n=0,s=-1,l=0,c=-1;for(let h=0;h<=i.length;++h){if(h<i.length)c=i.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(s===h-1||l===1))if(s!==h-1&&l===2){if(e.length<2||n!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const f=e.lastIndexOf("/");if(f!==e.length-1){f===-1?(e="",n=0):(e=e.slice(0,f),n=e.length-1-e.lastIndexOf("/")),s=h,l=0;continue}}else if(e.length===2||e.length===1){e="",n=0,s=h,l=0;continue}}}else e.length>0?e+=`/${i.slice(s+1,h)}`:e=i.slice(s+1,h),n=h-s-1;s=h,l=0}else c===46&&l!==-1?++l:l=-1}return e}const Oa={toPosix(i){return MS(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){lr(i),i=this.toPosix(i);const t=/^file:\/\/\//.exec(i);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(i);return e?e[0]:""},toAbsolute(i,t,e){if(lr(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const n=gd(this.toPosix(t??Ee.get().getBaseUrl())),s=gd(this.toPosix(e??this.rootname(n)));return i=this.toPosix(i),i.startsWith("/")?Oa.join(s,i.slice(1)):this.isAbsolute(i)?i:this.join(n,i)},normalize(i){if(lr(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let t="";const e=i.startsWith("/");this.hasProtocol(i)&&(t=this.rootname(i),i=i.slice(t.length));const n=i.endsWith("/");return i=wS(i),i.length>0&&n&&(i+="/"),e?`/${i}`:t+i},isAbsolute(i){return lr(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let t;for(let e=0;e<i.length;++e){const n=i[e];if(lr(n),n.length>0)if(t===void 0)t=n;else{const s=i[e-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?t+=`/../${n}`:t+=`/${n}`}}return t===void 0?".":this.normalize(t)},dirname(i){if(lr(i),i.length===0)return".";i=this.toPosix(i);let t=i.charCodeAt(0);const e=t===47;let n=-1,s=!0;const l=this.getProtocol(i),c=i;i=i.slice(l.length);for(let h=i.length-1;h>=1;--h)if(t=i.charCodeAt(h),t===47){if(!s){n=h;break}}else s=!1;return n===-1?e?"/":this.isUrl(c)?l+i:l:e&&n===1?"//":l+i.slice(0,n)},rootname(i){lr(i),i=this.toPosix(i);let t="";if(i.startsWith("/")?t="/":t=this.getProtocol(i),this.isUrl(i)){const e=i.indexOf("/",t.length);e!==-1?t=i.slice(0,e):t=i,t.endsWith("/")||(t+="/")}return t},basename(i,t){lr(i),t&&lr(t),i=gd(this.toPosix(i));let e=0,n=-1,s=!0,l;if(t!==void 0&&t.length>0&&t.length<=i.length){if(t.length===i.length&&t===i)return"";let c=t.length-1,h=-1;for(l=i.length-1;l>=0;--l){const f=i.charCodeAt(l);if(f===47){if(!s){e=l+1;break}}else h===-1&&(s=!1,h=l+1),c>=0&&(f===t.charCodeAt(c)?--c===-1&&(n=l):(c=-1,n=h))}return e===n?n=h:n===-1&&(n=i.length),i.slice(e,n)}for(l=i.length-1;l>=0;--l)if(i.charCodeAt(l)===47){if(!s){e=l+1;break}}else n===-1&&(s=!1,n=l+1);return n===-1?"":i.slice(e,n)},extname(i){lr(i),i=gd(this.toPosix(i));let t=-1,e=0,n=-1,s=!0,l=0;for(let c=i.length-1;c>=0;--c){const h=i.charCodeAt(c);if(h===47){if(!s){e=c+1;break}continue}n===-1&&(s=!1,n=c+1),h===46?t===-1?t=c:l!==1&&(l=1):t!==-1&&(l=-1)}return t===-1||n===-1||l===0||l===1&&t===n-1&&t===e+1?"":i.slice(t,n)},parse(i){lr(i);const t={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return t;i=gd(this.toPosix(i));let e=i.charCodeAt(0);const n=this.isAbsolute(i);let s;t.root=this.rootname(i),n||this.hasProtocol(i)?s=1:s=0;let l=-1,c=0,h=-1,f=!0,p=i.length-1,y=0;for(;p>=s;--p){if(e=i.charCodeAt(p),e===47){if(!f){c=p+1;break}continue}h===-1&&(f=!1,h=p+1),e===46?l===-1?l=p:y!==1&&(y=1):l!==-1&&(y=-1)}return l===-1||h===-1||y===0||y===1&&l===h-1&&l===c+1?h!==-1&&(c===0&&n?t.base=t.name=i.slice(1,h):t.base=t.name=i.slice(c,h)):(c===0&&n?(t.name=i.slice(1,l),t.base=i.slice(1,h)):(t.name=i.slice(c,l),t.base=i.slice(c,h)),t.ext=i.slice(l,h)),t.dir=this.dirname(i),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function a_(i,t,e,n,s){const l=t[e];for(let c=0;c<l.length;c++){const h=l[c];e<t.length-1?a_(i.replace(n[e],h),t,e+1,n,s):s.push(i.replace(n[e],h))}}function GS(i){const t=/\{(.*?)\}/g,e=i.match(t),n=[];if(e){const s=[];e.forEach(l=>{const c=l.substring(1,l.length-1).split(",");s.push(c)}),a_(i,s,0,e,n)}else n.push(i);return n}const Ap=i=>!Array.isArray(i);class Jc{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`).join("&")}}getAlias(t){const{alias:e,src:n}=t;return cr(e||n,l=>typeof l=="string"?l:Array.isArray(l)?l.map(c=>c?.src??c):l?.src?l.src:l,!0)}addManifest(t){this._manifest&&ie("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const n=[];let s=e;Array.isArray(e)||(s=Object.entries(e).map(([l,c])=>typeof c=="string"||Array.isArray(c)?{alias:l,src:c}:{alias:l,...c})),s.forEach(l=>{const c=l.src,h=l.alias;let f;if(typeof h=="string"){const p=this._createBundleAssetId(t,h);n.push(p),f=[h,p]}else{const p=h.map(y=>this._createBundleAssetId(t,y));n.push(...p),f=[...h,...p]}this.add({...l,alias:f,src:c})}),this._bundles[t]=n}add(t){const e=[];Array.isArray(t)?e.push(...t):e.push(t);let n;n=l=>{this.hasKey(l)&&ie(`[Resolver] already has key: ${l} overwriting`)},cr(e).forEach(l=>{const{src:c}=l;let{data:h,format:f,loadParser:p}=l;const y=cr(c).map(x=>typeof x=="string"?GS(x):Array.isArray(x)?x:[x]),B=this.getAlias(l);Array.isArray(B)?B.forEach(n):n(B);const _=[];y.forEach(x=>{x.forEach(v=>{let T={};if(typeof v!="object"){T.src=v;for(let S=0;S<this._parsers.length;S++){const R=this._parsers[S];if(R.test(v)){T=R.parse(v);break}}}else h=v.data??h,f=v.format??f,p=v.loadParser??p,T={...T,...v};if(!B)throw new Error(`[Resolver] alias is undefined for this asset: ${T.src}`);T=this._buildResolvedAsset(T,{aliases:B,data:h,format:f,loadParser:p}),_.push(T)})}),B.forEach(x=>{this._assetMap[x]=_})})}resolveBundle(t){const e=Ap(t);t=cr(t);const n={};return t.forEach(s=>{const l=this._bundles[s];if(l){const c=this.resolve(l),h={};for(const f in c){const p=c[f];h[this._extractAssetIdFromBundle(s,f)]=p}n[s]=h}}),e?n[t[0]]:n}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const n={};for(const s in e)n[s]=e[s].src;return n}return e.src}resolve(t){const e=Ap(t);t=cr(t);const n={};return t.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let l=this._assetMap[s];const c=this._getPreferredOrder(l);c?.priority.forEach(h=>{c.params[h].forEach(f=>{const p=l.filter(y=>y[h]?y[h]===f:!1);p.length&&(l=p)})}),this._resolverHash[s]=l[0]}else this._resolverHash[s]=this._buildResolvedAsset({alias:[s],src:s},{});n[s]=this._resolverHash[s]}),e?n[t[0]]:n}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const n=t[e],s=this._preferredOrder.find(l=>l.params.format.includes(n.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}_buildResolvedAsset(t,e){const{aliases:n,data:s,loadParser:l,format:c}=e;return(this._basePath||this._rootPath)&&(t.src=Oa.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=n??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...s||{},...t.data},t.loadParser=l??t.loadParser,t.format=c??t.format??NS(t.src),t}}Jc.RETINA_PREFIX=/@([0-9\.]+)x/;function NS(i){return i.split(".").pop().split("?").shift().split("#").shift()}const xE=(i,t)=>{const e=t.split("?")[1];return e&&(i+=`?${e}`),i},s_=class Rd{constructor(t,e){this.linkedSheets=[];let n=t;t?.source instanceof on&&(n={texture:t,data:e});const{texture:s,data:l,cachePrefix:c=""}=n;this.cachePrefix=c,this._texture=s instanceof Ut?s:null,this.textureSource=s.source,this.textures={},this.animations={},this.data=l;const h=parseFloat(l.meta.scale);h?(this.resolution=h,s.source.resolution=this.resolution):this.resolution=s.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Rd.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=Rd.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const s=this._frameKeys[e],l=this._frames[s],c=l.frame;if(c){let h=null,f=null;const p=l.trimmed!==!1&&l.sourceSize?l.sourceSize:l.frame,y=new Re(0,0,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution);l.rotated?h=new Re(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):h=new Re(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),l.trimmed!==!1&&l.spriteSourceSize&&(f=new Re(Math.floor(l.spriteSourceSize.x)/this.resolution,Math.floor(l.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[s]=new Ut({source:this.textureSource,frame:h,orig:y,trim:f,rotate:l.rotated?2:0,defaultAnchor:l.anchor,defaultBorders:l.borders,label:s.toString()})}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const s=t[e][n];this.animations[e].push(this.textures[s])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Rd.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Rd.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};s_.BATCH_SIZE=1e3;let lB=s_;const US=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function r_(i,t,e){const n={};if(i.forEach(s=>{n[s]=t}),Object.keys(t.textures).forEach(s=>{n[`${t.cachePrefix}${s}`]=t.textures[s]}),!e){const s=Oa.dirname(i[0]);t.linkedSheets.forEach((l,c)=>{const h=r_([`${s}/${t.data.meta.related_multi_packs[c]}`],l,!0);Object.assign(n,h)})}return n}const OS={extension:J.Asset,cache:{test:i=>i instanceof lB,getCacheableAssets:(i,t)=>r_(i,t,!1)},resolver:{extension:{type:J.ResolveParser,name:"resolveSpritesheet"},test:i=>{const e=i.split("?")[0].split("."),n=e.pop(),s=e.pop();return n==="json"&&US.includes(s)},parse:i=>{const t=i.split(".");return{resolution:parseFloat(Jc.RETINA_PREFIX.exec(i)?.[1]??"1"),format:t[t.length-2],src:i}}},loader:{name:"spritesheetLoader",extension:{type:J.LoadParser,priority:oA.Normal,name:"spritesheetLoader"},async testParse(i,t){return Oa.extname(t.src).toLowerCase()===".json"&&!!i.frames},async parse(i,t,e){const{texture:n,imageFilename:s,textureOptions:l,cachePrefix:c}=t?.data??{};let h=Oa.dirname(t.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let f;if(n instanceof Ut)f=n;else{const B=xE(h+(s??i.meta.image),t.src);f=(await e.load([{src:B,data:l}]))[B]}const p=new lB({texture:f.source,data:i,cachePrefix:c});await p.parse();const y=i?.meta?.related_multi_packs;if(Array.isArray(y)){const B=[];for(const x of y){if(typeof x!="string")continue;let v=h+x;t.data?.ignoreMultiPack||(v=xE(v,t.src),B.push(e.load({src:v,data:{textureOptions:l,ignoreMultiPack:!0}})))}const _=await Promise.all(B);p.linkedSheets=_,_.forEach(x=>{x.linkedSheets=[p].concat(p.linkedSheets.filter(v=>v!==x))})}return p},async unload(i,t,e){await e.unload(i.textureSource._sourceOrigin),i.destroy(!1)}}};Xt.add(OS);class Xd{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Xd.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new We,this.page=new We,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,n,s,l){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var bm=/iPhone/i,AB=/iPod/i,uB=/iPad/i,cB=/\biOS-universal(?:.+)Mac\b/i,Sm=/\bAndroid(?:.+)Mobile\b/i,hB=/Android/i,Ic=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Mg=/Silk/i,zo=/Windows Phone/i,dB=/\bWindows(?:.+)ARM\b/i,fB=/BlackBerry/i,gB=/BB10/i,pB=/Opera Mini/i,mB=/\b(CriOS|Chrome)(?:.+)Mobile/i,EB=/Mobile(?:.+)Firefox\b/i,yB=function(i){return typeof i<"u"&&i.platform==="MacIntel"&&typeof i.maxTouchPoints=="number"&&i.maxTouchPoints>1&&typeof MSStream>"u"};function HS(i){return function(t){return t.test(i)}}function BB(i){var t={userAgent:"",platform:"",maxTouchPoints:0};!i&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof i=="string"?t.userAgent=i:i&&i.userAgent&&(t={userAgent:i.userAgent,platform:i.platform,maxTouchPoints:i.maxTouchPoints||0});var e=t.userAgent,n=e.split("[FBAN");typeof n[1]<"u"&&(e=n[0]),n=e.split("Twitter"),typeof n[1]<"u"&&(e=n[0]);var s=HS(e),l={apple:{phone:s(bm)&&!s(zo),ipod:s(AB),tablet:!s(bm)&&(s(uB)||yB(t))&&!s(zo),universal:s(cB),device:(s(bm)||s(AB)||s(uB)||s(cB)||yB(t))&&!s(zo)},amazon:{phone:s(Ic),tablet:!s(Ic)&&s(Mg),device:s(Ic)||s(Mg)},android:{phone:!s(zo)&&s(Ic)||!s(zo)&&s(Sm),tablet:!s(zo)&&!s(Ic)&&!s(Sm)&&(s(Mg)||s(hB)),device:!s(zo)&&(s(Ic)||s(Mg)||s(Sm)||s(hB))||s(/\bokhttp\b/i)},windows:{phone:s(zo),tablet:s(dB),device:s(zo)||s(dB)},other:{blackberry:s(fB),blackberry10:s(gB),opera:s(pB),firefox:s(EB),chrome:s(mB),device:s(fB)||s(gB)||s(pB)||s(EB)||s(mB)},any:!1,phone:!1,tablet:!1};return l.any=l.apple.device||l.android.device||l.windows.device||l.other.device,l.phone=l.apple.phone||l.android.phone||l.windows.phone,l.tablet=l.apple.tablet||l.android.tablet||l.windows.tablet,l}const kS=BB.default??BB,LS=kS(globalThis.navigator),FS=9,wg=100,PS=0,zS=0,CB=2,IB=1,YS=-1e3,KS=-1e3,jS=2,h0=class o_{constructor(t,e=LS){this._mobileInfo=e,this.debug=!1,this._activateOnTab=!0,this._deactivateOnMouseMove=!0,this._isActive=!1,this._isMobileAccessibility=!1,this._div=null,this._pool=[],this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._hookDiv=null,(e.tablet||e.phone)&&this._createTouchHook(),this._renderer=t}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}_createTouchHook(){const t=document.createElement("button");t.style.width=`${IB}px`,t.style.height=`${IB}px`,t.style.position="absolute",t.style.top=`${YS}px`,t.style.left=`${KS}px`,t.style.zIndex=jS.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}_destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}_activate(){if(this._isActive)return;this._isActive=!0,this._div||(this._div=document.createElement("div"),this._div.style.width=`${wg}px`,this._div.style.height=`${wg}px`,this._div.style.position="absolute",this._div.style.top=`${PS}px`,this._div.style.left=`${zS}px`,this._div.style.zIndex=CB.toString(),this._div.style.pointerEvents="none"),this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._deactivateOnMouseMove&&(this._onMouseMove=this._onMouseMove.bind(this),globalThis.document.addEventListener("mousemove",this._onMouseMove,!0));const t=this._renderer.view.canvas;if(t.parentNode)t.parentNode.appendChild(this._div),this._initAccessibilitySetup();else{const e=new MutationObserver(()=>{t.parentNode&&(t.parentNode.appendChild(this._div),e.disconnect(),this._initAccessibilitySetup())});e.observe(document.body,{childList:!0,subtree:!0})}}_initAccessibilitySetup(){this._renderer.runners.postrender.add(this),this._renderer.lastObjectRendered&&this._updateAccessibleObjects(this._renderer.lastObjectRendered)}_deactivate(){if(!(!this._isActive||this._isMobileAccessibility)){this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),this._activateOnTab&&globalThis.addEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.remove(this);for(const t of this._children)t._accessibleDiv&&t._accessibleDiv.parentNode&&(t._accessibleDiv.parentNode.removeChild(t._accessibleDiv),t._accessibleDiv=null),t._accessibleActive=!1;this._pool.forEach(t=>{t.parentNode&&t.parentNode.removeChild(t)}),this._div&&this._div.parentNode&&this._div.parentNode.removeChild(this._div),this._pool=[],this._children=[]}}_updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&(t._accessibleActive||this._addChild(t),t._renderId=this._renderId);const e=t.children;if(e)for(let n=0;n<e.length;n++)this._updateAccessibleObjects(e[n])}init(t){const n={accessibilityOptions:{...o_.defaultOptions,...t?.accessibilityOptions||{}}};this.debug=n.accessibilityOptions.debug,this._activateOnTab=n.accessibilityOptions.activateOnTab,this._deactivateOnMouseMove=n.accessibilityOptions.deactivateOnMouseMove,n.accessibilityOptions.enabledByDefault?this._activate():this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._renderer.runners.postrender.remove(this)}postrender(){const t=performance.now();if(this._mobileInfo.android.device&&t<this._androidUpdateCount||(this._androidUpdateCount=t+this._androidUpdateFrequency,!this._renderer.renderingToScreen||!this._renderer.view.canvas))return;const e=new Set;if(this._renderer.lastObjectRendered){this._updateAccessibleObjects(this._renderer.lastObjectRendered);for(const n of this._children)n._renderId===this._renderId&&e.add(this._children.indexOf(n))}for(let n=this._children.length-1;n>=0;n--){const s=this._children[n];e.has(n)||(s._accessibleDiv&&s._accessibleDiv.parentNode&&(s._accessibleDiv.parentNode.removeChild(s._accessibleDiv),this._pool.push(s._accessibleDiv),s._accessibleDiv=null),s._accessibleActive=!1,PI(this._children,n,1))}if(this._renderer.renderingToScreen){const{x:n,y:s,width:l,height:c}=this._renderer.screen,h=this._div;h.style.left=`${n}px`,h.style.top=`${s}px`,h.style.width=`${l}px`,h.style.height=`${c}px`}for(let n=0;n<this._children.length;n++){const s=this._children[n];if(!s._accessibleActive||!s._accessibleDiv)continue;const l=s._accessibleDiv,c=s.hitArea||s.getBounds().rectangle;if(s.hitArea){const h=s.worldTransform,f=this._renderer.resolution,p=this._renderer.resolution;l.style.left=`${(h.tx+c.x*h.a)*f}px`,l.style.top=`${(h.ty+c.y*h.d)*p}px`,l.style.width=`${c.width*h.a*f}px`,l.style.height=`${c.height*h.d*p}px`}else{this._capHitArea(c);const h=this._renderer.resolution,f=this._renderer.resolution;l.style.left=`${c.x*h}px`,l.style.top=`${c.y*f}px`,l.style.width=`${c.width*h}px`,l.style.height=`${c.height*f}px`}}this._renderId++}_updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}_capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:n}=this._renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>n&&(t.height=n-t.y)}_addChild(t){let e=this._pool.pop();e||(t.accessibleType==="button"?e=document.createElement("button"):(e=document.createElement(t.accessibleType),e.style.cssText=`
                        color: transparent;
                        pointer-events: none;
                        padding: 0;
                        margin: 0;
                        border: 0;
                        outline: 0;
                        background: transparent;
                        box-sizing: border-box;
                        user-select: none;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -ms-user-select: none;
                    `,t.accessibleText&&(e.innerText=t.accessibleText)),e.style.width=`${wg}px`,e.style.height=`${wg}px`,e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=CB.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?e.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(e.title=`container ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this._updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.container=t,this._children.push(t),this._div.appendChild(t._accessibleDiv),t.interactive&&(t._accessibleDiv.tabIndex=t.tabIndex)}_dispatchEvent(t,e){const{container:n}=t.target,s=this._renderer.events.rootBoundary,l=Object.assign(new Xd(s),{target:n});s.rootTarget=this._renderer.lastObjectRendered,e.forEach(c=>s.dispatchEvent(l,c))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode!==FS||!this._activateOnTab||this._activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this._deactivate()}destroy(){this._deactivate(),this._destroyTouchHook(),this._div=null,this._pool=null,this._children=null,this._renderer=null,this._activateOnTab&&globalThis.removeEventListener("keydown",this._onKeyDown)}setAccessibilityEnabled(t){t?this._activate():this._deactivate()}};h0.extension={type:[J.WebGLSystem,J.WebGPUSystem],name:"accessibility"};h0.defaultOptions={enabledByDefault:!1,debug:!1,activateOnTab:!0,deactivateOnMouseMove:!0};let XS=h0;const VS={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,accessibleType:"button",accessibleText:null,accessiblePointerEvents:"auto",accessibleChildren:!0,_accessibleActive:!1,_accessibleDiv:null,_renderId:-1},Tm=Object.create(null),_B=Object.create(null);function Ld(i,t){let e=_B[i];return e===void 0&&(Tm[t]===void 0&&(Tm[t]=1),_B[i]=e=Tm[t]++),e}let Gg;function l_(){return(!Gg||Gg?.isContextLost())&&(Gg=Ee.get().createCanvas().getContext("webgl",{})),Gg}let Ng;function qS(){if(!Ng){Ng="mediump";const i=l_();i&&i.getShaderPrecisionFormat&&(Ng=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision?"highp":"mediump")}return Ng}function JS(i,t,e){return t?i:e?(i=i.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${i}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${i}
        `}function WS(i,t,e){const n=e?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(i.substring(0,9)!=="precision"){let s=e?t.requestedFragmentPrecision:t.requestedVertexPrecision;return s==="highp"&&n!=="highp"&&(s="mediump"),`precision ${s} float;
${i}`}else if(n!=="highp"&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}function ZS(i,t){return t?`#version 300 es
${i}`:i}const $S={},t1={};function e1(i,{name:t="pixi-program"},e=!0){t=t.replace(/\s+/g,"-"),t+=e?"-fragment":"-vertex";const n=e?$S:t1;return n[t]?(n[t]++,t+=`-${n[t]}`):n[t]=1,i.indexOf("#define SHADER_NAME")!==-1?i:`${`#define SHADER_NAME ${t}`}
${i}`}function i1(i,t){return t?i.replace("#version 300 es",""):i}const Rm={stripVersion:i1,ensurePrecision:WS,addProgramDefines:JS,setProgramName:e1,insertVersion:ZS},Dm=Object.create(null),A_=class QE{constructor(t){t={...QE.defaultOptions,...t};const e=t.fragment.indexOf("#version 300 es")!==-1,n={stripVersion:e,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:qS()},setProgramName:{name:t.name},addProgramDefines:e,insertVersion:e};let s=t.fragment,l=t.vertex;Object.keys(Rm).forEach(c=>{const h=n[c];s=Rm[c](s,h,!0),l=Rm[c](l,h,!1)}),this.fragment=s,this.vertex=l,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Ld(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const e=`${t.vertex}:${t.fragment}`;return Dm[e]||(Dm[e]=new QE(t)),Dm[e]}};A_.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Wc=A_;const xB={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function iA(i){return xB[i]??xB.float32}const n1={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function a1({source:i,entryPoint:t}){const e={},n=i.indexOf(`fn ${t}`);if(n!==-1){const s=i.indexOf("->",n);if(s!==-1){const l=i.substring(n,s),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let h;for(;(h=c.exec(l))!==null;){const f=n1[h[3]]??"float32";e[h[2]]={location:parseInt(h[1],10),format:f,stride:iA(f).stride,offset:0,instance:!1,start:0}}}}return e}function Mm(i){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,e=/@group\((\d+)\)/,n=/@binding\((\d+)\)/,s=/var(<[^>]+>)? (\w+)/,l=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,h=/(\w+)\s*:\s*([\w\<\>]+)/g,f=/struct\s+(\w+)/,p=i.match(t)?.map(B=>({group:parseInt(B.match(e)[1],10),binding:parseInt(B.match(n)[1],10),name:B.match(s)[2],isUniform:B.match(s)[1]==="<uniform>",type:B.match(l)[1]}));if(!p)return{groups:[],structs:[]};const y=i.match(c)?.map(B=>{const _=B.match(f)[1],x=B.match(h).reduce((v,T)=>{const[S,R]=T.split(":");return v[S.trim()]=R.trim(),v},{});return x?{name:_,members:x}:null}).filter(({name:B})=>p.some(_=>_.type===B))??[];return{groups:p,structs:y}}var Dd=(i=>(i[i.VERTEX=1]="VERTEX",i[i.FRAGMENT=2]="FRAGMENT",i[i.COMPUTE=4]="COMPUTE",i))(Dd||{});function s1({groups:i}){const t=[];for(let e=0;e<i.length;e++){const n=i[e];t[n.group]||(t[n.group]=[]),n.isUniform?t[n.group].push({binding:n.binding,visibility:Dd.VERTEX|Dd.FRAGMENT,buffer:{type:"uniform"}}):n.type==="sampler"?t[n.group].push({binding:n.binding,visibility:Dd.FRAGMENT,sampler:{type:"filtering"}}):n.type==="texture_2d"&&t[n.group].push({binding:n.binding,visibility:Dd.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function r1({groups:i}){const t=[];for(let e=0;e<i.length;e++){const n=i[e];t[n.group]||(t[n.group]={}),t[n.group][n.name]=n.binding}return t}function o1(i,t){const e=new Set,n=new Set,s=[...i.structs,...t.structs].filter(c=>e.has(c.name)?!1:(e.add(c.name),!0)),l=[...i.groups,...t.groups].filter(c=>{const h=`${c.name}-${c.binding}`;return n.has(h)?!1:(n.add(h),!0)});return{structs:s,groups:l}}const wm=Object.create(null);class Bu{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:e,vertex:n,layout:s,gpuLayout:l,name:c}=t;if(this.name=c,this.fragment=e,this.vertex=n,e.source===n.source){const h=Mm(e.source);this.structsAndGroups=h}else{const h=Mm(n.source),f=Mm(e.source);this.structsAndGroups=o1(h,f)}this.layout=s??r1(this.structsAndGroups),this.gpuLayout=l??s1(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:e}=this,n=t.source+e.source+t.entryPoint+e.entryPoint;this._layoutKey=Ld(n,"program")}get attributeData(){return this._attributeData??(this._attributeData=a1(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const e=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return wm[e]||(wm[e]=new Bu(t)),wm[e]}}const u_=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],l1=u_.reduce((i,t)=>(i[t]=!0,i),{});function A1(i,t){switch(i){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const c_=class h_{constructor(t,e){this._touched=0,this.uid=Ai("uniform"),this._resourceType="uniformGroup",this._resourceId=Ai("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,e={...h_.defaultOptions,...e},this.uniformStructures=t;const n={};for(const s in t){const l=t[s];if(l.name=s,l.size=l.size??1,!l1[l.type])throw new Error(`Uniform type ${l.type} is not supported. Supported uniform types are: ${u_.join(", ")}`);l.value??(l.value=A1(l.type,l.size)),n[s]=l.value}this.uniforms=n,this._dirtyId=1,this.ubo=e.ubo,this.isStatic=e.isStatic,this._signature=Ld(Object.keys(n).map(s=>`${s}-${t[s].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};c_.defaultOptions={ubo:!1,isStatic:!1};let pa=c_;class Jo{constructor(t){this.resources=Object.create(null),this._dirty=!0;let e=0;for(const n in t){const s=t[n];this.setResource(s,e++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let e=0;for(const n in this.resources)t[e++]=this.resources[n]._resourceId;this._key=t.join("|")}setResource(t,e){const n=this.resources[e];t!==n&&(n&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[e]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const e=this.resources;for(const n in e)e[n]._touched=t}destroy(){const t=this.resources;for(const e in t)t[e].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const e=this.resources;for(const n in e)e[n]===t&&(e[n]=null)}else this._updateKey()}}var dr=(i=>(i[i.WEBGL=1]="WEBGL",i[i.WEBGPU=2]="WEBGPU",i[i.BOTH=3]="BOTH",i))(dr||{});class ws extends as{constructor(t){super(),this.uid=Ai("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:e,glProgram:n,groups:s,resources:l,compatibleRenderers:c,groupMap:h}=t;this.gpuProgram=e,this.glProgram=n,c===void 0&&(c=0,e&&(c|=dr.WEBGPU),n&&(c|=dr.WEBGL)),this.compatibleRenderers=c;const f={};if(!l&&!s&&(l={}),l&&s)throw new Error("[Shader] Cannot have both resources and groups");if(!e&&s&&!h)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!e&&s&&h)for(const p in h)for(const y in h[p]){const B=h[p][y];f[B]={group:p,binding:y,name:B}}else if(e&&s&&!h){const p=e.structsAndGroups.groups;h={},p.forEach(y=>{h[y.group]=h[y.group]||{},h[y.group][y.binding]=y.name,f[y.name]=y})}else if(l){s={},h={},e&&e.structsAndGroups.groups.forEach(B=>{h[B.group]=h[B.group]||{},h[B.group][B.binding]=B.name,f[B.name]=B});let p=0;for(const y in l)f[y]||(s[99]||(s[99]=new Jo,this._ownedBindGroups.push(s[99])),f[y]={group:99,binding:p,name:y},h[99]=h[99]||{},h[99][p]=y,p++);for(const y in l){const B=y;let _=l[y];!_.source&&!_._resourceType&&(_=new pa(_));const x=f[B];x&&(s[x.group]||(s[x.group]=new Jo,this._ownedBindGroups.push(s[x.group])),s[x.group].setResource(_,x.binding))}}this.groups=s,this._uniformBindMap=h,this.resources=this._buildResourceAccessor(s,f)}addResource(t,e,n){var s,l;(s=this._uniformBindMap)[e]||(s[e]={}),(l=this._uniformBindMap[e])[n]||(l[n]=t),this.groups[e]||(this.groups[e]=new Jo,this._ownedBindGroups.push(this.groups[e]))}_buildResourceAccessor(t,e){const n={};for(const s in e){const l=e[s];Object.defineProperty(n,l.name,{get(){return t[l.group].getResource(l.binding)},set(c){t[l.group].setResource(c,l.binding)}})}return n}destroy(t=!1){this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(e=>{e.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:e,gl:n,...s}=t;let l,c;return e&&(l=Bu.from(e)),n&&(c=Wc.from(n)),new ws({gpuProgram:l,glProgram:c,...s})}}const u1={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},Gm=0,Nm=1,Um=2,Om=3,Hm=4,km=5,vE=class d_{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Gm)}set blend(t){!!(this.data&1<<Gm)!==t&&(this.data^=1<<Gm)}get offsets(){return!!(this.data&1<<Nm)}set offsets(t){!!(this.data&1<<Nm)!==t&&(this.data^=1<<Nm)}set cullMode(t){if(t==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=t==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<Um)}set culling(t){!!(this.data&1<<Um)!==t&&(this.data^=1<<Um)}get depthTest(){return!!(this.data&1<<Om)}set depthTest(t){!!(this.data&1<<Om)!==t&&(this.data^=1<<Om)}get depthMask(){return!!(this.data&1<<km)}set depthMask(t){!!(this.data&1<<km)!==t&&(this.data^=1<<km)}get clockwiseFrontFace(){return!!(this.data&1<<Hm)}set clockwiseFrontFace(t){!!(this.data&1<<Hm)!==t&&(this.data^=1<<Hm)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!=="none",this._blendMode=t,this._blendModeId=u1[t]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new d_;return t.depthTest=!1,t.blend=!0,t}};vE.default2d=vE.for2d();let Ds=vE;const f_=class bE extends ws{constructor(t){t={...bE.defaultOptions,...t},super(t),this.enabled=!0,this._state=Ds.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,typeof t.antialias=="boolean"?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(t,e,n,s){t.applyFilter(this,e,n,s)}get blendMode(){return this._state.blendMode}set blendMode(t){this._state.blendMode=t}static from(t){const{gpu:e,gl:n,...s}=t;let l,c;return e&&(l=Bu.from(e)),n&&(c=Wc.from(n)),new bE({gpuProgram:l,glProgram:c,...s})}};f_.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let lA=f_;const SE=[];Xt.handleByNamedList(J.Environment,SE);async function c1(i){if(!i)for(let t=0;t<SE.length;t++){const e=SE[t];if(e.value.test()){await e.value.load();return}}}let pd;function g_(){if(typeof pd=="boolean")return pd;try{pd=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{pd=!1}return pd}function QB(i,t,e=2){const n=t&&t.length,s=n?t[0]*e:i.length;let l=p_(i,0,s,e,!0);const c=[];if(!l||l.next===l.prev)return c;let h,f,p;if(n&&(l=p1(i,t,l,e)),i.length>80*e){h=1/0,f=1/0;let y=-1/0,B=-1/0;for(let _=e;_<s;_+=e){const x=i[_],v=i[_+1];x<h&&(h=x),v<f&&(f=v),x>y&&(y=x),v>B&&(B=v)}p=Math.max(y-h,B-f),p=p!==0?32767/p:0}return Fd(l,c,e,h,f,p,0),c}function p_(i,t,e,n,s){let l;if(s===b1(i,t,e,n)>0)for(let c=t;c<e;c+=n)l=vB(c/n|0,i[c],i[c+1],l);else for(let c=e-n;c>=t;c-=n)l=vB(c/n|0,i[c],i[c+1],l);return l&&Kc(l,l.next)&&(zd(l),l=l.next),l}function yu(i,t){if(!i)return i;t||(t=i);let e=i,n;do if(n=!1,!e.steiner&&(Kc(e,e.next)||Ii(e.prev,e,e.next)===0)){if(zd(e),e=t=e.prev,e===e.next)break;n=!0}else e=e.next;while(n||e!==t);return t}function Fd(i,t,e,n,s,l,c){if(!i)return;!c&&l&&C1(i,n,s,l);let h=i;for(;i.prev!==i.next;){const f=i.prev,p=i.next;if(l?d1(i,n,s,l):h1(i)){t.push(f.i,i.i,p.i),zd(i),i=p.next,h=p.next;continue}if(i=p,i===h){c?c===1?(i=f1(yu(i),t),Fd(i,t,e,n,s,l,2)):c===2&&g1(i,t,e,n,s,l):Fd(yu(i),t,e,n,s,l,1);break}}}function h1(i){const t=i.prev,e=i,n=i.next;if(Ii(t,e,n)>=0)return!1;const s=t.x,l=e.x,c=n.x,h=t.y,f=e.y,p=n.y,y=Math.min(s,l,c),B=Math.min(h,f,p),_=Math.max(s,l,c),x=Math.max(h,f,p);let v=n.next;for(;v!==t;){if(v.x>=y&&v.x<=_&&v.y>=B&&v.y<=x&&Md(s,h,l,f,c,p,v.x,v.y)&&Ii(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function d1(i,t,e,n){const s=i.prev,l=i,c=i.next;if(Ii(s,l,c)>=0)return!1;const h=s.x,f=l.x,p=c.x,y=s.y,B=l.y,_=c.y,x=Math.min(h,f,p),v=Math.min(y,B,_),T=Math.max(h,f,p),S=Math.max(y,B,_),R=TE(x,v,t,e,n),O=TE(T,S,t,e,n);let D=i.prevZ,F=i.nextZ;for(;D&&D.z>=R&&F&&F.z<=O;){if(D.x>=x&&D.x<=T&&D.y>=v&&D.y<=S&&D!==s&&D!==c&&Md(h,y,f,B,p,_,D.x,D.y)&&Ii(D.prev,D,D.next)>=0||(D=D.prevZ,F.x>=x&&F.x<=T&&F.y>=v&&F.y<=S&&F!==s&&F!==c&&Md(h,y,f,B,p,_,F.x,F.y)&&Ii(F.prev,F,F.next)>=0))return!1;F=F.nextZ}for(;D&&D.z>=R;){if(D.x>=x&&D.x<=T&&D.y>=v&&D.y<=S&&D!==s&&D!==c&&Md(h,y,f,B,p,_,D.x,D.y)&&Ii(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;F&&F.z<=O;){if(F.x>=x&&F.x<=T&&F.y>=v&&F.y<=S&&F!==s&&F!==c&&Md(h,y,f,B,p,_,F.x,F.y)&&Ii(F.prev,F,F.next)>=0)return!1;F=F.nextZ}return!0}function f1(i,t){let e=i;do{const n=e.prev,s=e.next.next;!Kc(n,s)&&E_(n,e,e.next,s)&&Pd(n,s)&&Pd(s,n)&&(t.push(n.i,e.i,s.i),zd(e),zd(e.next),e=i=s),e=e.next}while(e!==i);return yu(e)}function g1(i,t,e,n,s,l){let c=i;do{let h=c.next.next;for(;h!==c.prev;){if(c.i!==h.i&&x1(c,h)){let f=y_(c,h);c=yu(c,c.next),f=yu(f,f.next),Fd(c,t,e,n,s,l,0),Fd(f,t,e,n,s,l,0);return}h=h.next}c=c.next}while(c!==i)}function p1(i,t,e,n){const s=[];for(let l=0,c=t.length;l<c;l++){const h=t[l]*n,f=l<c-1?t[l+1]*n:i.length,p=p_(i,h,f,n,!1);p===p.next&&(p.steiner=!0),s.push(_1(p))}s.sort(m1);for(let l=0;l<s.length;l++)e=E1(s[l],e);return e}function m1(i,t){let e=i.x-t.x;if(e===0&&(e=i.y-t.y,e===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),s=(t.next.y-t.y)/(t.next.x-t.x);e=n-s}return e}function E1(i,t){const e=y1(i,t);if(!e)return t;const n=y_(e,i);return yu(n,n.next),yu(e,e.next)}function y1(i,t){let e=t;const n=i.x,s=i.y;let l=-1/0,c;if(Kc(i,e))return e;do{if(Kc(i,e.next))return e.next;if(s<=e.y&&s>=e.next.y&&e.next.y!==e.y){const B=e.x+(s-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(B<=n&&B>l&&(l=B,c=e.x<e.next.x?e:e.next,B===n))return c}e=e.next}while(e!==t);if(!c)return null;const h=c,f=c.x,p=c.y;let y=1/0;e=c;do{if(n>=e.x&&e.x>=f&&n!==e.x&&m_(s<p?n:l,s,f,p,s<p?l:n,s,e.x,e.y)){const B=Math.abs(s-e.y)/(n-e.x);Pd(e,i)&&(B<y||B===y&&(e.x>c.x||e.x===c.x&&B1(c,e)))&&(c=e,y=B)}e=e.next}while(e!==h);return c}function B1(i,t){return Ii(i.prev,i,t.prev)<0&&Ii(t.next,i,i.next)<0}function C1(i,t,e,n){let s=i;do s.z===0&&(s.z=TE(s.x,s.y,t,e,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==i);s.prevZ.nextZ=null,s.prevZ=null,I1(s)}function I1(i){let t,e=1;do{let n=i,s;i=null;let l=null;for(t=0;n;){t++;let c=n,h=0;for(let p=0;p<e&&(h++,c=c.nextZ,!!c);p++);let f=e;for(;h>0||f>0&&c;)h!==0&&(f===0||!c||n.z<=c.z)?(s=n,n=n.nextZ,h--):(s=c,c=c.nextZ,f--),l?l.nextZ=s:i=s,s.prevZ=l,l=s;n=c}l.nextZ=null,e*=2}while(t>1);return i}function TE(i,t,e,n,s){return i=(i-e)*s|0,t=(t-n)*s|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,i|t<<1}function _1(i){let t=i,e=i;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==i);return e}function m_(i,t,e,n,s,l,c,h){return(s-c)*(t-h)>=(i-c)*(l-h)&&(i-c)*(n-h)>=(e-c)*(t-h)&&(e-c)*(l-h)>=(s-c)*(n-h)}function Md(i,t,e,n,s,l,c,h){return!(i===c&&t===h)&&m_(i,t,e,n,s,l,c,h)}function x1(i,t){return i.next.i!==t.i&&i.prev.i!==t.i&&!Q1(i,t)&&(Pd(i,t)&&Pd(t,i)&&v1(i,t)&&(Ii(i.prev,i,t.prev)||Ii(i,t.prev,t))||Kc(i,t)&&Ii(i.prev,i,i.next)>0&&Ii(t.prev,t,t.next)>0)}function Ii(i,t,e){return(t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y)}function Kc(i,t){return i.x===t.x&&i.y===t.y}function E_(i,t,e,n){const s=Og(Ii(i,t,e)),l=Og(Ii(i,t,n)),c=Og(Ii(e,n,i)),h=Og(Ii(e,n,t));return!!(s!==l&&c!==h||s===0&&Ug(i,e,t)||l===0&&Ug(i,n,t)||c===0&&Ug(e,i,n)||h===0&&Ug(e,t,n))}function Ug(i,t,e){return t.x<=Math.max(i.x,e.x)&&t.x>=Math.min(i.x,e.x)&&t.y<=Math.max(i.y,e.y)&&t.y>=Math.min(i.y,e.y)}function Og(i){return i>0?1:i<0?-1:0}function Q1(i,t){let e=i;do{if(e.i!==i.i&&e.next.i!==i.i&&e.i!==t.i&&e.next.i!==t.i&&E_(e,e.next,i,t))return!0;e=e.next}while(e!==i);return!1}function Pd(i,t){return Ii(i.prev,i,i.next)<0?Ii(i,t,i.next)>=0&&Ii(i,i.prev,t)>=0:Ii(i,t,i.prev)<0||Ii(i,i.next,t)<0}function v1(i,t){let e=i,n=!1;const s=(i.x+t.x)/2,l=(i.y+t.y)/2;do e.y>l!=e.next.y>l&&e.next.y!==e.y&&s<(e.next.x-e.x)*(l-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next;while(e!==i);return n}function y_(i,t){const e=RE(i.i,i.x,i.y),n=RE(t.i,t.x,t.y),s=i.next,l=t.prev;return i.next=t,t.prev=i,e.next=s,s.prev=e,n.next=e,e.prev=n,l.next=n,n.prev=l,n}function vB(i,t,e,n){const s=RE(i,t,e);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function zd(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function RE(i,t,e){return{i,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function b1(i,t,e,n){let s=0;for(let l=t,c=e-n;l<e;l+=n)s+=(i[c]-i[l])*(i[l+1]+i[c+1]),c=l;return s}const S1=QB.default||QB;var is=(i=>(i[i.NONE=0]="NONE",i[i.COLOR=16384]="COLOR",i[i.STENCIL=1024]="STENCIL",i[i.DEPTH=256]="DEPTH",i[i.COLOR_DEPTH=16640]="COLOR_DEPTH",i[i.COLOR_STENCIL=17408]="COLOR_STENCIL",i[i.DEPTH_STENCIL=1280]="DEPTH_STENCIL",i[i.ALL=17664]="ALL",i))(is||{});class B_{constructor(t){this.items=[],this._name=t}emit(t,e,n,s,l,c,h,f){const{name:p,items:y}=this;for(let B=0,_=y.length;B<_;B++)y[B][p](t,e,n,s,l,c,h,f);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&this.items.splice(e,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const T1=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],C_=class I_ extends as{constructor(t){super(),this.uid=Ai("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const e=[...T1,...this.config.runners??[]];this._addRunners(...e),this._unsafeEvalCheck()}async init(t={}){const e=t.skipExtensionImports===!0?!0:t.manageImports===!1;await c1(e),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const n in this._systemsHash)t={...this._systemsHash[n].constructor.defaultOptions,...t};t={...I_.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let n=0;n<this.runners.init.items.length;n++)await this.runners.init.items[n].init(t);this._initOptions=t}render(t,e){let n=t;if(n instanceof He&&(n={container:n},e&&(ue(_e,"passing a second argument is deprecated, please use render options instead"),n.target=e.renderTexture)),n.target||(n.target=this.view.renderTarget),n.target===this.view.renderTarget&&(this._lastObjectRendered=n.container,n.clearColor??(n.clearColor=this.background.colorRgba),n.clear??(n.clear=this.background.clearBeforeRender)),n.clearColor){const s=Array.isArray(n.clearColor)&&n.clearColor.length===4;n.clearColor=s?n.clearColor:Ye.shared.setValue(n.clearColor).toArray()}n.transform||(n.container.updateLocalTransform(),n.transform=n.container.localTransform),n.container.enableRenderGroup(),this.runners.prerender.emit(n),this.runners.renderStart.emit(n),this.runners.render.emit(n),this.runners.renderEnd.emit(n),this.runners.postrender.emit(n)}resize(t,e,n){const s=this.view.resolution;this.view.resize(t,e,n),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),n!==void 0&&n!==s&&this.runners.resolutionChange.emit(n)}clear(t={}){const e=this;t.target||(t.target=e.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=is.ALL);const{clear:n,clearColor:s,target:l}=t;Ye.shared.setValue(s??this.background.colorRgba),e.renderTarget.clear(l,n,Ye.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(e=>{this.runners[e]=new B_(e)})}_addSystems(t){let e;for(e in t){const n=t[e];this._addSystem(n.value,n.name)}}_addSystem(t,e){const n=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=n,this._systemsHash[e]=n;for(const s in this.runners)this.runners[s].add(n);return this}_addPipes(t,e){const n=e.reduce((s,l)=>(s[l.name]=l.value,s),{});t.forEach(s=>{const l=s.value,c=s.name,h=n[c];this.renderPipes[c]=new l(this,h?new h:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!g_())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};C_.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Bp=C_,Hg;function R1(i){return Hg!==void 0||(Hg=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:i??Bp.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Ee.get().getWebGLRenderingContext())return!1;let n=Ee.get().createCanvas().getContext("webgl",t);const s=!!n?.getContextAttributes()?.stencil;if(n){const l=n.getExtension("WEBGL_lose_context");l&&l.loseContext()}return n=null,s}catch{return!1}})()),Hg}let kg;async function D1(i={}){return kg!==void 0||(kg=await(async()=>{const t=Ee.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(i)).requestDevice(),!0}catch{return!1}})()),kg}const bB=["webgl","webgpu","canvas"];async function M1(i){let t=[];i.preference?(t.push(i.preference),bB.forEach(l=>{l!==i.preference&&t.push(l)})):t=bB.slice();let e,n={};for(let l=0;l<t.length;l++){const c=t[l];if(c==="webgpu"&&await D1()){const{WebGPURenderer:h}=await Zo(async()=>{const{WebGPURenderer:f}=await Promise.resolve().then(()=>CM);return{WebGPURenderer:f}},void 0,import.meta.url);e=h,n={...i,...i.webgpu};break}else if(c==="webgl"&&R1(i.failIfMajorPerformanceCaveat??Bp.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:h}=await Zo(async()=>{const{WebGLRenderer:f}=await Promise.resolve().then(()=>iM);return{WebGLRenderer:f}},void 0,import.meta.url);e=h,n={...i,...i.webgl};break}else if(c==="canvas")throw n={...i},new Error("CanvasRenderer is not yet implemented")}if(delete n.webgpu,delete n.webgl,!e)throw new Error("No available renderer for the current environment");const s=new e;return await s.init(n),s}const up="8.10.1";class __{static init(){globalThis.__PIXI_APP_INIT__?.(this,up)}static destroy(){}}__.extension=J.Application;class x_{constructor(t){this._renderer=t}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,up)}destroy(){this._renderer=null}}x_.extension={type:[J.WebGLSystem,J.WebGPUSystem],name:"initHook",priority:-10};const Q_=class DE{constructor(...t){this.stage=new He,t[0]!==void 0&&ue(_e,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await M1(t),DE._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return ue(_e,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,e=!1){const n=DE._plugins.slice(0);n.reverse(),n.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};Q_._plugins=[];let v_=Q_;Xt.handleByList(J.Application,v_._plugins);Xt.add(__);class b_{static init(t){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let e,n;if(this._resizeTo===globalThis.window)e=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:l}=this._resizeTo;e=s,n=l}this.renderer.resize(e,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}b_.extension=J.Application;class S_{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,Yc.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Mn.shared:new Mn,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}S_.extension=J.Application;class T_ extends as{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return ue(_e,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return ue(_e,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return ue(_e,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return ue(_e,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return ue(_e,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners();for(const e in this.chars)this.chars[e].texture?.destroy();this.chars=null,t&&(this.pages.forEach(e=>e.texture.destroy(!0)),this.pages=null)}}const w1=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function cp(i){const t=typeof i.fontSize=="number"?`${i.fontSize}px`:i.fontSize;let e=i.fontFamily;Array.isArray(i.fontFamily)||(e=i.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let s=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!w1.includes(s)&&(s=`"${s}"`),e[n]=s}return`${i.fontStyle} ${i.fontVariant} ${i.fontWeight} ${t} ${e.join(",")}`}const Lm={willReadFrequently:!0},co=class jt{static get experimentalLetterSpacingSupported(){let t=jt._experimentalLetterSpacingSupported;if(t===void 0){const e=Ee.get().getCanvasRenderingContext2D().prototype;t=jt._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,s,l,c,h,f,p){this.text=t,this.style=e,this.width=n,this.height=s,this.lines=l,this.lineWidths=c,this.lineHeight=h,this.maxLineWidth=f,this.fontProperties=p}static measureText(t=" ",e,n=jt._canvas,s=e.wordWrap){const l=cp(e),c=jt.measureFont(l);c.fontSize===0&&(c.fontSize=e.fontSize,c.ascent=e.fontSize);const h=jt.__context;h.font=l;const p=(s?jt._wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),y=new Array(p.length);let B=0;for(let R=0;R<p.length;R++){const O=jt._measureText(p[R],e.letterSpacing,h);y[R]=O,B=Math.max(B,O)}const _=e._stroke?.width||0;let x=B+_;e.dropShadow&&(x+=e.dropShadow.distance);const v=e.lineHeight||c.fontSize;let T=Math.max(v,c.fontSize+_)+(p.length-1)*(v+e.leading);return e.dropShadow&&(T+=e.dropShadow.distance),new jt(t,e,x,T,p,y,v+e.leading,B,c)}static _measureText(t,e,n){let s=!1;jt.experimentalLetterSpacingSupported&&(jt.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,s=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));const l=n.measureText(t);let c=l.width;const h=-l.actualBoundingBoxLeft;let p=l.actualBoundingBoxRight-h;if(c>0)if(s)c-=e,p-=e;else{const y=(jt.graphemeSegmenter(t).length-1)*e;c+=y,p+=y}return Math.max(c,p)}static _wordWrap(t,e,n=jt._canvas){const s=n.getContext("2d",Lm);let l=0,c="",h="";const f=Object.create(null),{letterSpacing:p,whiteSpace:y}=e,B=jt._collapseSpaces(y),_=jt._collapseNewlines(y);let x=!B;const v=e.wordWrapWidth+p,T=jt._tokenize(t);for(let S=0;S<T.length;S++){let R=T[S];if(jt._isNewline(R)){if(!_){h+=jt._addLine(c),x=!B,c="",l=0;continue}R=" "}if(B){const D=jt.isBreakingSpace(R),F=jt.isBreakingSpace(c[c.length-1]);if(D&&F)continue}const O=jt._getFromCache(R,p,f,s);if(O>v)if(c!==""&&(h+=jt._addLine(c),c="",l=0),jt.canBreakWords(R,e.breakWords)){const D=jt.wordWrapSplit(R);for(let F=0;F<D.length;F++){let j=D[F],$=j,V=1;for(;D[F+V];){const ht=D[F+V];if(!jt.canBreakChars($,ht,R,F,e.breakWords))j+=ht;else break;$=ht,V++}F+=V-1;const gt=jt._getFromCache(j,p,f,s);gt+l>v&&(h+=jt._addLine(c),x=!1,c="",l=0),c+=j,l+=gt}}else{c.length>0&&(h+=jt._addLine(c),c="",l=0);const D=S===T.length-1;h+=jt._addLine(R,!D),x=!1,c="",l=0}else O+l>v&&(x=!1,h+=jt._addLine(c),c="",l=0),(c.length>0||!jt.isBreakingSpace(R)||x)&&(c+=R,l+=O)}return h+=jt._addLine(c,!1),h}static _addLine(t,e=!0){return t=jt._trimRight(t),t=e?`${t}
`:t,t}static _getFromCache(t,e,n,s){let l=n[t];return typeof l!="number"&&(l=jt._measureText(t,e,s)+e,n[t]=l),l}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!jt.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:jt._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:jt._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let s=0;s<t.length;s++){const l=t[s],c=t[s+1];if(jt.isBreakingSpace(l,c)||jt._isNewline(l)){n!==""&&(e.push(n),n=""),e.push(l);continue}n+=l}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,s,l){return!0}static wordWrapSplit(t){return jt.graphemeSegmenter(t)}static measureFont(t){if(jt._fonts[t])return jt._fonts[t];const e=jt._context;e.font=t;const n=e.measureText(jt.METRICS_STRING+jt.BASELINE_SYMBOL),s={ascent:n.actualBoundingBoxAscent,descent:n.actualBoundingBoxDescent,fontSize:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent};return jt._fonts[t]=s,s}static clearMetrics(t=""){t?delete jt._fonts[t]:jt._fonts={}}static get _canvas(){if(!jt.__canvas){let t;try{const e=new OffscreenCanvas(0,0);if(e.getContext("2d",Lm)?.measureText)return jt.__canvas=e,e;t=Ee.get().createCanvas()}catch{t=Ee.get().createCanvas()}t.width=t.height=10,jt.__canvas=t}return jt.__canvas}static get _context(){return jt.__context||(jt.__context=jt._canvas.getContext("2d",Lm)),jt.__context}};co.METRICS_STRING="|ÉqÅ";co.BASELINE_SYMBOL="M";co.BASELINE_MULTIPLIER=1.4;co.HEIGHT_MULTIPLIER=2;co.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const i=new Intl.Segmenter;return t=>{const e=i.segment(t),n=[];let s=0;for(const l of e)n[s++]=l.segment;return n}}return i=>[...i]})();co.experimentalLetterSpacing=!1;co._fonts={};co._newlines=[10,13];co._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let hr=co;const SB=[{offset:0,color:"white"},{offset:1,color:"black"}],d0=class ME{constructor(...t){this.uid=Ai("fillGradient"),this.type="linear",this.colorStops=[];let e=G1(t);e={...e.type==="radial"?ME.defaultRadialOptions:ME.defaultLinearOptions,...Fc(e)},this._textureSize=e.textureSize,this._wrapMode=e.wrapMode,e.type==="radial"?(this.center=e.center,this.outerCenter=e.outerCenter??this.center,this.innerRadius=e.innerRadius,this.outerRadius=e.outerRadius,this.scale=e.scale,this.rotation=e.rotation):(this.start=e.start,this.end=e.end),this.textureSpace=e.textureSpace,this.type=e.type,e.colorStops.forEach(s=>{this.addColorStop(s.offset,s.color)})}addColorStop(t,e){return this.colorStops.push({offset:t,color:Ye.shared.setValue(e).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:e}=this.start,{x:n,y:s}=this.end,l=n-t,c=s-e;const h=l<0||c<0;if(this._wrapMode==="clamp-to-edge"){if(l<0){const S=t;t=n,n=S,l*=-1}if(c<0){const S=e;e=s,s=S,c*=-1}}const f=this.colorStops.length?this.colorStops:SB,p=this._textureSize,{canvas:y,context:B}=RB(p,1),_=h?B.createLinearGradient(this._textureSize,0,0,0):B.createLinearGradient(0,0,this._textureSize,0);TB(_,f),B.fillStyle=_,B.fillRect(0,0,p,1),this.texture=new Ut({source:new Eu({resource:y,addressMode:this._wrapMode})});const x=Math.sqrt(l*l+c*c),v=Math.atan2(c,l),T=new Yt;T.scale(x/p,1),T.rotate(v),T.translate(t,e),this.textureSpace==="local"&&T.scale(p,p),this.transform=T}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:SB,e=this._textureSize,{canvas:n,context:s}=RB(e,e),{x:l,y:c}=this.center,{x:h,y:f}=this.outerCenter,p=this.innerRadius,y=this.outerRadius,B=h-y,_=f-y,x=e/(y*2),v=(l-B)*x,T=(c-_)*x,S=s.createRadialGradient(v,T,p*x,(h-B)*x,(f-_)*x,y*x);TB(S,t),s.fillStyle=t[t.length-1].color,s.fillRect(0,0,e,e),s.fillStyle=S,s.translate(v,T),s.rotate(this.rotation),s.scale(1,this.scale),s.translate(-v,-T),s.fillRect(0,0,e,e),this.texture=new Ut({source:new Eu({resource:n,addressMode:this._wrapMode})});const R=new Yt;R.scale(1/x,1/x),R.translate(B,_),this.textureSpace==="local"&&R.scale(e,e),this.transform=R}get styleKey(){return this.uid}destroy(){this.texture?.destroy(!0),this.texture=null}};d0.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};d0.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Ms=d0;function TB(i,t){for(let e=0;e<t.length;e++){const n=t[e];i.addColorStop(n.offset,n.color)}}function RB(i,t){const e=Ee.get().createCanvas(i,t),n=e.getContext("2d");return{canvas:e,context:n}}function G1(i){let t=i[0]??{};return(typeof t=="number"||i[1])&&(ue("8.5.2","use options object instead"),t={type:"linear",start:{x:i[0],y:i[1]},end:{x:i[2],y:i[3]},textureSpace:i[4],textureSize:i[5]??Ms.defaultLinearOptions.textureSize}),t}const DB={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Cp{constructor(t,e){this.uid=Ai("fillPattern"),this.transform=new Yt,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),e&&(t.source.style.addressModeU=DB[e].addressModeU,t.source.style.addressModeV=DB[e].addressModeV)}setTransform(t){const e=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/e.frame.width,1/e.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var Fm,MB;function N1(){if(MB)return Fm;MB=1,Fm=e;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function e(l){var c=[];return l.replace(t,function(h,f,p){var y=f.toLowerCase();for(p=s(p),y=="m"&&p.length>2&&(c.push([f].concat(p.splice(0,2))),y="l",f=f=="m"?"l":"L");;){if(p.length==i[y])return p.unshift(f),c.push(p);if(p.length<i[y])throw new Error("malformed path data");c.push([f].concat(p.splice(0,i[y])))}}),c}var n=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function s(l){var c=l.match(n);return c?c.map(Number):[]}return Fm}var U1=N1();const O1=jd(U1);function H1(i,t){const e=O1(i),n=[];let s=null,l=0,c=0;for(let h=0;h<e.length;h++){const f=e[h],p=f[0],y=f;switch(p){case"M":l=y[1],c=y[2],t.moveTo(l,c);break;case"m":l+=y[1],c+=y[2],t.moveTo(l,c);break;case"H":l=y[1],t.lineTo(l,c);break;case"h":l+=y[1],t.lineTo(l,c);break;case"V":c=y[1],t.lineTo(l,c);break;case"v":c+=y[1],t.lineTo(l,c);break;case"L":l=y[1],c=y[2],t.lineTo(l,c);break;case"l":l+=y[1],c+=y[2],t.lineTo(l,c);break;case"C":l=y[5],c=y[6],t.bezierCurveTo(y[1],y[2],y[3],y[4],l,c);break;case"c":t.bezierCurveTo(l+y[1],c+y[2],l+y[3],c+y[4],l+y[5],c+y[6]),l+=y[5],c+=y[6];break;case"S":l=y[3],c=y[4],t.bezierCurveToShort(y[1],y[2],l,c);break;case"s":t.bezierCurveToShort(l+y[1],c+y[2],l+y[3],c+y[4]),l+=y[3],c+=y[4];break;case"Q":l=y[3],c=y[4],t.quadraticCurveTo(y[1],y[2],l,c);break;case"q":t.quadraticCurveTo(l+y[1],c+y[2],l+y[3],c+y[4]),l+=y[3],c+=y[4];break;case"T":l=y[1],c=y[2],t.quadraticCurveToShort(l,c);break;case"t":l+=y[1],c+=y[2],t.quadraticCurveToShort(l,c);break;case"A":l=y[6],c=y[7],t.arcToSvg(y[1],y[2],y[3],y[4],y[5],l,c);break;case"a":l+=y[6],c+=y[7],t.arcToSvg(y[1],y[2],y[3],y[4],y[5],l,c);break;case"Z":case"z":t.closePath(),n.length>0&&(s=n.pop(),s?(l=s.startX,c=s.startY):(l=0,c=0)),s=null;break;default:ie(`Unknown SVG path command: ${p}`)}p!=="Z"&&p!=="z"&&s===null&&(s={startX:l,startY:c},n.push(s))}return t}class f0{constructor(t=0,e=0,n=0){this.type="circle",this.x=t,this.y=e,this.radius=n}clone(){return new f0(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const n=this.radius*this.radius;let s=this.x-t,l=this.y-e;return s*=s,l*=l,s+l<=n}strokeContains(t,e,n,s=.5){if(this.radius===0)return!1;const l=this.x-t,c=this.y-e,h=this.radius,f=(1-s)*n,p=Math.sqrt(l*l+c*c);return p<=h+f&&p>h-(n-f)}getBounds(t){return t||(t=new Re),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class g0{constructor(t=0,e=0,n=0,s=0){this.type="ellipse",this.x=t,this.y=e,this.halfWidth=n,this.halfHeight=s}clone(){return new g0(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,e){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let n=(t-this.x)/this.halfWidth,s=(e-this.y)/this.halfHeight;return n*=n,s*=s,n+s<=1}strokeContains(t,e,n,s=.5){const{halfWidth:l,halfHeight:c}=this;if(l<=0||c<=0)return!1;const h=n*(1-s),f=n-h,p=l-f,y=c-f,B=l+h,_=c+h,x=t-this.x,v=e-this.y,T=x*x/(p*p)+v*v/(y*y),S=x*x/(B*B)+v*v/(_*_);return T>1&&S<=1}getBounds(t){return t||(t=new Re),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function k1(i,t,e,n,s,l){const c=i-e,h=t-n,f=s-e,p=l-n,y=c*f+h*p,B=f*f+p*p;let _=-1;B!==0&&(_=y/B);let x,v;_<0?(x=e,v=n):_>1?(x=s,v=l):(x=e+_*f,v=n+_*p);const T=i-x,S=t-v;return T*T+S*S}let L1,F1;class Nd{constructor(...t){this.type="polygon";let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const n=[];for(let s=0,l=e.length;s<l;s++)n.push(e[s].x,e[s].y);e=n}this.points=e,this.closePath=!0}isClockwise(){let t=0;const e=this.points,n=e.length;for(let s=0;s<n;s+=2){const l=e[s],c=e[s+1],h=e[(s+2)%n],f=e[(s+3)%n];t+=(h-l)*(f+c)}return t<0}containsPolygon(t){const e=this.getBounds(L1),n=t.getBounds(F1);if(!e.containsRect(n))return!1;const s=t.points;for(let l=0;l<s.length;l+=2){const c=s[l],h=s[l+1];if(!this.contains(c,h))return!1}return!0}clone(){const t=this.points.slice(),e=new Nd(t);return e.closePath=this.closePath,e}contains(t,e){let n=!1;const s=this.points.length/2;for(let l=0,c=s-1;l<s;c=l++){const h=this.points[l*2],f=this.points[l*2+1],p=this.points[c*2],y=this.points[c*2+1];f>e!=y>e&&t<(p-h)*((e-f)/(y-f))+h&&(n=!n)}return n}strokeContains(t,e,n,s=.5){const l=n*n,c=l*(1-s),h=l-c,{points:f}=this,p=f.length-(this.closePath?0:2);for(let y=0;y<p;y+=2){const B=f[y],_=f[y+1],x=f[(y+2)%f.length],v=f[(y+3)%f.length],T=k1(t,e,B,_,x,v),S=Math.sign((x-B)*(e-_)-(v-_)*(t-B));if(T<=(S<0?h:c))return!0}return!1}getBounds(t){t||(t=new Re);const e=this.points;let n=1/0,s=-1/0,l=1/0,c=-1/0;for(let h=0,f=e.length;h<f;h+=2){const p=e[h],y=e[h+1];n=p<n?p:n,s=p>s?p:s,l=y<l?y:l,c=y>c?y:c}return t.x=n,t.width=s-n,t.y=l,t.height=c-l,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const Lg=(i,t,e,n,s,l,c)=>{const h=i-e,f=t-n,p=Math.sqrt(h*h+f*f);return p>=s-l&&p<=s+c};class p0{constructor(t=0,e=0,n=0,s=0,l=20){this.type="roundedRectangle",this.x=t,this.y=e,this.width=n,this.height=s,this.radius=l}getBounds(t){return t||(t=new Re),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new p0(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+n&&e<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;let s=t-(this.x+n),l=e-(this.y+n);const c=n*n;if(s*s+l*l<=c||(s=t-(this.x+this.width-n),s*s+l*l<=c)||(l=e-(this.y+this.height-n),s*s+l*l<=c)||(s=t-(this.x+n),s*s+l*l<=c))return!0}return!1}strokeContains(t,e,n,s=.5){const{x:l,y:c,width:h,height:f,radius:p}=this,y=n*(1-s),B=n-y,_=l+p,x=c+p,v=h-p*2,T=f-p*2,S=l+h,R=c+f;return(t>=l-y&&t<=l+B||t>=S-B&&t<=S+y)&&e>=x&&e<=x+T||(e>=c-y&&e<=c+B||e>=R-B&&e<=R+y)&&t>=_&&t<=_+v?!0:t<_&&e<x&&Lg(t,e,_,x,p,B,y)||t>S-p&&e<x&&Lg(t,e,S-p,x,p,B,y)||t>S-p&&e>R-p&&Lg(t,e,S-p,R-p,p,B,y)||t<_&&e>R-p&&Lg(t,e,_,R-p,p,B,y)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const R_={};function m0(i,t,e){let n=2166136261;for(let s=0;s<t;s++)n^=i[s].uid,n=Math.imul(n,16777619),n>>>=0;return R_[n]||P1(i,t,n,e)}function P1(i,t,e,n){const s={};let l=0;for(let h=0;h<n;h++){const f=h<t?i[h]:Ut.EMPTY.source;s[l++]=f.source,s[l++]=f.style}const c=new Jo(s);return R_[e]=c,c}class Rc{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function wE(i,t){const e=i.byteLength/8|0,n=new Float64Array(i,0,e);new Float64Array(t,0,e).set(n);const l=i.byteLength-e*8;if(l>0){const c=new Uint8Array(i,e*8,l);new Uint8Array(t,e*8,l).set(c)}}const z1={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Li=(i=>(i[i.DISABLED=0]="DISABLED",i[i.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",i[i.MASK_ACTIVE=2]="MASK_ACTIVE",i[i.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",i[i.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",i[i.NONE=5]="NONE",i))(Li||{});function Yd(i,t){return t.alphaMode==="no-premultiply-alpha"&&z1[i]||i}const Y1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function K1(i){let t="";for(let e=0;e<i;++e)e>0&&(t+=`
else `),e<i-1&&(t+=`if(test == ${e}.0){}`);return t}function D_(i,t){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const n=Y1.replace(/%forloop%/gi,K1(i));if(t.shaderSource(e,n),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))i=i/2|0;else break}}finally{t.deleteShader(e)}return i}let _c=null;function j1(){if(_c)return _c;const i=l_();return _c=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),_c=D_(_c,i),i.getExtension("WEBGL_lose_context")?.loseContext(),_c}class X1{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const e=this.textures[t];this.textures[t]=null,this.ids[e.uid]=null}this.count=0}}class V1{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new X1,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const M_=[];let GE=0;function wB(){return GE>0?M_[--GE]:new V1}function GB(i){M_[GE++]=i}let md=0;const w_=class G_{constructor(t){this.uid=Ai("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...G_.defaultOptions,...t},t.maxTextures||(ue("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=j1());const{maxTextures:e,attributesInitialSize:n,indicesInitialSize:s}=t;this.attributeBuffer=new Rc(n*4),this.indexBuffer=new Uint16Array(s),this.maxTextures=e}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)GB(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,e){const n=t._batch.textures.ids[e._source.uid];return!n&&n!==0?!1:(t._textureId=n,t.texture=e,!0)}updateElement(t){this.dirty=!0;const e=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId)}break(t){const e=this._elements;if(!e[this.elementStart])return;let n=wB(),s=n.textures;s.clear();const l=e[this.elementStart];let c=Yd(l.blendMode,l.texture._source),h=l.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const f=this.attributeBuffer.float32View,p=this.attributeBuffer.uint32View,y=this.indexBuffer;let B=this._batchIndexSize,_=this._batchIndexStart,x="startBatch";const v=this.maxTextures;for(let T=this.elementStart;T<this.elementSize;++T){const S=e[T];e[T]=null;const O=S.texture._source,D=Yd(S.blendMode,O),F=c!==D||h!==S.topology;if(O._batchTick===md&&!F){S._textureId=O._textureBindLocation,B+=S.indexSize,S.packAsQuad?(this.packQuadAttributes(S,f,p,S._attributeStart,S._textureId),this.packQuadIndex(y,S._indexStart,S._attributeStart/this.vertexSize)):(this.packAttributes(S,f,p,S._attributeStart,S._textureId),this.packIndex(S,y,S._indexStart,S._attributeStart/this.vertexSize)),S._batch=n;continue}O._batchTick=md,(s.count>=v||F)&&(this._finishBatch(n,_,B-_,s,c,h,t,x),x="renderBatch",_=B,c=D,h=S.topology,n=wB(),s=n.textures,s.clear(),++md),S._textureId=O._textureBindLocation=s.count,s.ids[O.uid]=s.count,s.textures[s.count++]=O,S._batch=n,B+=S.indexSize,S.packAsQuad?(this.packQuadAttributes(S,f,p,S._attributeStart,S._textureId),this.packQuadIndex(y,S._indexStart,S._attributeStart/this.vertexSize)):(this.packAttributes(S,f,p,S._attributeStart,S._textureId),this.packIndex(S,y,S._indexStart,S._attributeStart/this.vertexSize))}s.count>0&&(this._finishBatch(n,_,B-_,s,c,h,t,x),_=B,++md),this.elementStart=this.elementSize,this._batchIndexStart=_,this._batchIndexSize=B}_finishBatch(t,e,n,s,l,c,h,f){t.gpuBindGroup=null,t.bindGroup=null,t.action=f,t.batcher=this,t.textures=s,t.blendMode=l,t.topology=c,t.start=e,t.size=n,++md,this.batches[this.batchIndex++]=t,h.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const e=Math.max(t,this.attributeBuffer.size*2),n=new Rc(e);wE(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(t){const e=this.indexBuffer;let n=Math.max(t,e.length*1.5);n+=n%2;const s=n>65535?new Uint32Array(n):new Uint16Array(n);if(s.BYTES_PER_ELEMENT!==e.BYTES_PER_ELEMENT)for(let l=0;l<e.length;l++)s[l]=e[l];else wE(e.buffer,s.buffer);this.indexBuffer=s}packQuadIndex(t,e,n){t[e]=n+0,t[e+1]=n+1,t[e+2]=n+2,t[e+3]=n+0,t[e+4]=n+2,t[e+5]=n+3}packIndex(t,e,n,s){const l=t.indices,c=t.indexSize,h=t.indexOffset,f=t.attributeOffset;for(let p=0;p<c;p++)e[n++]=s+l[p+h]-f}destroy(){for(let t=0;t<this.batches.length;t++)GB(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};w_.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let q1=w_;var Te=(i=>(i[i.MAP_READ=1]="MAP_READ",i[i.MAP_WRITE=2]="MAP_WRITE",i[i.COPY_SRC=4]="COPY_SRC",i[i.COPY_DST=8]="COPY_DST",i[i.INDEX=16]="INDEX",i[i.VERTEX=32]="VERTEX",i[i.UNIFORM=64]="UNIFORM",i[i.STORAGE=128]="STORAGE",i[i.INDIRECT=256]="INDIRECT",i[i.QUERY_RESOLVE=512]="QUERY_RESOLVE",i[i.STATIC=1024]="STATIC",i))(Te||{});class ns extends as{constructor(t){let{data:e,size:n}=t;const{usage:s,label:l,shrinkToFit:c}=t;super(),this.uid=Ai("buffer"),this._resourceType="buffer",this._resourceId=Ai("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,e instanceof Array&&(e=new Float32Array(e)),this._data=e,n??(n=e?.byteLength);const h=!!e;this.descriptor={size:n,usage:s,mappedAtCreation:h,label:l},this.shrinkToFit=c??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Te.STATIC)}set static(t){t?this.descriptor.usage|=Te.STATIC:this.descriptor.usage&=~Te.STATIC}setDataWithSize(t,e,n){if(this._updateID++,this._updateSize=e*t.BYTES_PER_ELEMENT,this._data===t){n&&this.emit("update",this);return}const s=this._data;if(this._data=t,this._dataInt32=null,!s||s.length!==t.length){!this.shrinkToFit&&s&&t.byteLength<s.byteLength?n&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Ai("resource"),this.emit("change",this));return}n&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function N_(i,t){if(!(i instanceof ns)){let e=t?Te.INDEX:Te.VERTEX;i instanceof Array&&(t?(i=new Uint32Array(i),e=Te.INDEX|Te.COPY_DST):(i=new Float32Array(i),e=Te.VERTEX|Te.COPY_DST)),i=new ns({data:i,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:e})}return i}function J1(i,t,e){const n=i.getAttribute(t);if(!n)return e.minX=0,e.minY=0,e.maxX=0,e.maxY=0,e;const s=n.buffer.data;let l=1/0,c=1/0,h=-1/0,f=-1/0;const p=s.BYTES_PER_ELEMENT,y=(n.offset||0)/p,B=(n.stride||2*4)/p;for(let _=y;_<s.length;_+=B){const x=s[_],v=s[_+1];x>h&&(h=x),v>f&&(f=v),x<l&&(l=x),v<c&&(c=v)}return e.minX=l,e.minY=c,e.maxX=h,e.maxY=f,e}function W1(i){return(i instanceof ns||Array.isArray(i)||i.BYTES_PER_ELEMENT)&&(i={buffer:i}),i.buffer=N_(i.buffer,!1),i}class Zc extends as{constructor(t={}){super(),this.uid=Ai("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new pn,this._boundsDirty=!0;const{attributes:e,indexBuffer:n,topology:s}=t;if(this.buffers=[],this.attributes={},e)for(const l in e)this.addAttribute(l,e[l]);this.instanceCount=t.instanceCount??1,n&&this.addIndex(n),this.topology=s||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const e=this.attributes[t];return e.buffer.data.length/(e.stride/4||e.size)}return 0}addAttribute(t,e){const n=W1(e);this.buffers.indexOf(n.buffer)===-1&&(this.buffers.push(n.buffer),n.buffer.on("update",this.onBufferUpdate,this),n.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=n}addIndex(t){this.indexBuffer=N_(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,J1(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(e=>e.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Z1=new Float32Array(1),$1=new Uint32Array(1);class tT extends Zc{constructor(){const e=new ns({data:Z1,label:"attribute-batch-buffer",usage:Te.VERTEX|Te.COPY_DST,shrinkToFit:!1}),n=new ns({data:$1,label:"index-batch-buffer",usage:Te.INDEX|Te.COPY_DST,shrinkToFit:!1}),s=6*4;super({attributes:{aPosition:{buffer:e,format:"float32x2",stride:s,offset:0},aUV:{buffer:e,format:"float32x2",stride:s,offset:2*4},aColor:{buffer:e,format:"unorm8x4",stride:s,offset:4*4},aTextureIdAndRound:{buffer:e,format:"uint16x2",stride:s,offset:5*4}},indexBuffer:n})}}function NB(i,t,e){if(i)for(const n in i){const s=n.toLocaleLowerCase(),l=t[s];if(l){let c=i[n];n==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),e&&l.push(`//----${e}----//`),l.push(c)}else ie(`${n} placement hook does not exist in shader`)}}const eT=/\{\{(.*?)\}\}/g;function UB(i){const t={};return(i.match(eT)?.map(n=>n.replace(/[{()}]/g,""))??[]).forEach(n=>{t[n]=[]}),t}function OB(i,t){let e;const n=/@in\s+([^;]+);/g;for(;(e=n.exec(i))!==null;)t.push(e[1])}function HB(i,t,e=!1){const n=[];OB(t,n),i.forEach(h=>{h.header&&OB(h.header,n)});const s=n;e&&s.sort();const l=s.map((h,f)=>`       @location(${f}) ${h},`).join(`
`);let c=t.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${l}
`),c}function kB(i,t){let e;const n=/@out\s+([^;]+);/g;for(;(e=n.exec(i))!==null;)t.push(e[1])}function iT(i){const e=/\b(\w+)\s*:/g.exec(i);return e?e[1]:""}function nT(i){const t=/@.*?\s+/g;return i.replace(t,"")}function aT(i,t){const e=[];kB(t,e),i.forEach(f=>{f.header&&kB(f.header,e)});let n=0;const s=e.sort().map(f=>f.indexOf("builtin")>-1?f:`@location(${n++}) ${f}`).join(`,
`),l=e.sort().map(f=>`       var ${nT(f)};`).join(`
`),c=`return VSOutput(
            ${e.sort().map(f=>` ${iT(f)}`).join(`,
`)});`;let h=t.replace(/@out\s+[^;]+;\s*/g,"");return h=h.replace("{{struct}}",`
${s}
`),h=h.replace("{{start}}",`
${l}
`),h=h.replace("{{return}}",`
${c}
`),h}function LB(i,t){let e=i;for(const n in t){const s=t[n];s.join(`
`).length?e=e.replace(`{{${n}}}`,`//-----${n} START-----//
${s.join(`
`)}
//----${n} FINISH----//`):e=e.replace(`{{${n}}}`,"")}return e}const eA=Object.create(null),Pm=new Map;let sT=0;function rT({template:i,bits:t}){const e=U_(i,t);if(eA[e])return eA[e];const{vertex:n,fragment:s}=lT(i,t);return eA[e]=O_(n,s,t),eA[e]}function oT({template:i,bits:t}){const e=U_(i,t);return eA[e]||(eA[e]=O_(i.vertex,i.fragment,t)),eA[e]}function lT(i,t){const e=t.map(c=>c.vertex).filter(c=>!!c),n=t.map(c=>c.fragment).filter(c=>!!c);let s=HB(e,i.vertex,!0);s=aT(e,s);const l=HB(n,i.fragment,!0);return{vertex:s,fragment:l}}function U_(i,t){return t.map(e=>(Pm.has(e)||Pm.set(e,sT++),Pm.get(e))).sort((e,n)=>e-n).join("-")+i.vertex+i.fragment}function O_(i,t,e){const n=UB(i),s=UB(t);return e.forEach(l=>{NB(l.vertex,n,l.name),NB(l.fragment,s,l.name)}),{vertex:LB(i,n),fragment:LB(t,s)}}const AT=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,uT=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,cT=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,hT=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,dT={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},fT={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function Vd({bits:i,name:t}){const e=rT({template:{fragment:uT,vertex:AT},bits:[dT,...i]});return Bu.from({name:t,vertex:{source:e.vertex,entryPoint:"main"},fragment:{source:e.fragment,entryPoint:"main"}})}function qd({bits:i,name:t}){return new Wc({name:t,...oT({template:{vertex:cT,fragment:hT},bits:[fT,...i]})})}const E0={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},y0={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},zm={};function gT(i){const t=[];if(i===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let e=0;for(let n=0;n<i;n++)t.push(`@group(1) @binding(${e++}) var textureSource${n+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${e++}) var textureSampler${n+1}: sampler;`)}return t.join(`
`)}function pT(i){const t=[];if(i===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let e=0;e<i;e++)e===i-1?t.push("  default:{"):t.push(`  case ${e}:{`),t.push(`      outColor = textureSampleGrad(textureSource${e+1}, textureSampler${e+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function B0(i){return zm[i]||(zm[i]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${gT(i)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${pT(i)}
            `}}),zm[i]}const Ym={};function mT(i){const t=[];for(let e=0;e<i;e++)e>0&&t.push("else"),e<i-1&&t.push(`if(vTextureId < ${e}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${e}], vUV);`),t.push("}");return t.join(`
`)}function C0(i){return Ym[i]||(Ym[i]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${i}];

            `,main:`

                ${mT(i)}
            `}}),Ym[i]}const Jd={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Wd={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},FB={};function I0(i){let t=FB[i];if(t)return t;const e=new Int32Array(i);for(let n=0;n<i;n++)e[n]=n;return t=FB[i]=new pa({uTextures:{value:e,type:"i32",size:i}},{isStatic:!0}),t}class ET extends ws{constructor(t){const e=qd({name:"batch",bits:[y0,C0(t),Wd]}),n=Vd({name:"batch",bits:[E0,B0(t),Jd]});super({glProgram:e,gpuProgram:n,resources:{batchSamplers:I0(t)}})}}let Km=null;const H_=class k_ extends q1{constructor(t){super(t),this.geometry=new tT,this.name=k_.extension.name,this.vertexSize=6,Km??(Km=new ET(t.maxTextures)),this.shader=Km}packAttributes(t,e,n,s,l){const c=l<<16|t.roundPixels&65535,h=t.transform,f=h.a,p=h.b,y=h.c,B=h.d,_=h.tx,x=h.ty,{positions:v,uvs:T}=t,S=t.color,R=t.attributeOffset,O=R+t.attributeSize;for(let D=R;D<O;D++){const F=D*2,j=v[F],$=v[F+1];e[s++]=f*j+y*$+_,e[s++]=B*$+p*j+x,e[s++]=T[F],e[s++]=T[F+1],n[s++]=S,n[s++]=c}}packQuadAttributes(t,e,n,s,l){const c=t.texture,h=t.transform,f=h.a,p=h.b,y=h.c,B=h.d,_=h.tx,x=h.ty,v=t.bounds,T=v.maxX,S=v.minX,R=v.maxY,O=v.minY,D=c.uvs,F=t.color,j=l<<16|t.roundPixels&65535;e[s+0]=f*S+y*O+_,e[s+1]=B*O+p*S+x,e[s+2]=D.x0,e[s+3]=D.y0,n[s+4]=F,n[s+5]=j,e[s+6]=f*T+y*O+_,e[s+7]=B*O+p*T+x,e[s+8]=D.x1,e[s+9]=D.y1,n[s+10]=F,n[s+11]=j,e[s+12]=f*T+y*R+_,e[s+13]=B*R+p*T+x,e[s+14]=D.x2,e[s+15]=D.y2,n[s+16]=F,n[s+17]=j,e[s+18]=f*S+y*R+_,e[s+19]=B*R+p*S+x,e[s+20]=D.x3,e[s+21]=D.y3,n[s+22]=F,n[s+23]=j}};H_.extension={type:[J.Batcher],name:"default"};let _0=H_;function yT(i,t,e,n,s,l,c,h=null){let f=0;e*=t,s*=l;const p=h.a,y=h.b,B=h.c,_=h.d,x=h.tx,v=h.ty;for(;f<c;){const T=i[e],S=i[e+1];n[s]=p*T+B*S+x,n[s+1]=y*T+_*S+v,s+=l,e+=t,f++}}function BT(i,t,e,n){let s=0;for(t*=e;s<n;)i[t]=0,i[t+1]=0,t+=e,s++}function L_(i,t,e,n,s){const l=t.a,c=t.b,h=t.c,f=t.d,p=t.tx,y=t.ty;e||(e=0),n||(n=2),s||(s=i.length/n-e);let B=e*n;for(let _=0;_<s;_++){const x=i[B],v=i[B+1];i[B]=l*x+h*v+p,i[B+1]=c*x+f*v+y,B+=n}}const CT=new Yt;class x0{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,e=t>>16|t&65280|(t&255)<<16,n=this.renderable;return n?YI(e,n.groupColor)+(this.alpha*n.groupAlpha*255<<24):e+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||CT}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const Kd={extension:{type:J.ShapeBuilder,name:"circle"},build(i,t){let e,n,s,l,c,h;if(i.type==="circle"){const F=i;if(c=h=F.radius,c<=0)return!1;e=F.x,n=F.y,s=l=0}else if(i.type==="ellipse"){const F=i;if(c=F.halfWidth,h=F.halfHeight,c<=0||h<=0)return!1;e=F.x,n=F.y,s=l=0}else{const F=i,j=F.width/2,$=F.height/2;e=F.x+j,n=F.y+$,c=h=Math.max(0,Math.min(F.radius,Math.min(j,$))),s=j-c,l=$-h}if(s<0||l<0)return!1;const f=Math.ceil(2.3*Math.sqrt(c+h)),p=f*8+(s?4:0)+(l?4:0);if(p===0)return!1;if(f===0)return t[0]=t[6]=e+s,t[1]=t[3]=n+l,t[2]=t[4]=e-s,t[5]=t[7]=n-l,!0;let y=0,B=f*4+(s?2:0)+2,_=B,x=p,v=s+c,T=l,S=e+v,R=e-v,O=n+T;if(t[y++]=S,t[y++]=O,t[--B]=O,t[--B]=R,l){const F=n-T;t[_++]=R,t[_++]=F,t[--x]=F,t[--x]=S}for(let F=1;F<f;F++){const j=Math.PI/2*(F/f),$=s+Math.cos(j)*c,V=l+Math.sin(j)*h,gt=e+$,ht=e-$,At=n+V,L=n-V;t[y++]=gt,t[y++]=At,t[--B]=At,t[--B]=ht,t[_++]=ht,t[_++]=L,t[--x]=L,t[--x]=gt}v=s,T=l+h,S=e+v,R=e-v,O=n+T;const D=n-T;return t[y++]=S,t[y++]=O,t[--x]=D,t[--x]=S,s&&(t[y++]=R,t[y++]=O,t[--x]=D,t[--x]=R),!0},triangulate(i,t,e,n,s,l){if(i.length===0)return;let c=0,h=0;for(let y=0;y<i.length;y+=2)c+=i[y],h+=i[y+1];c/=i.length/2,h/=i.length/2;let f=n;t[f*e]=c,t[f*e+1]=h;const p=f++;for(let y=0;y<i.length;y+=2)t[f*e]=i[y],t[f*e+1]=i[y+1],y>0&&(s[l++]=f,s[l++]=p,s[l++]=f-1),f++;s[l++]=p+1,s[l++]=p,s[l++]=f-1}},IT={...Kd,extension:{...Kd.extension,name:"ellipse"}},_T={...Kd,extension:{...Kd.extension,name:"roundedRectangle"}},F_=1e-4,PB=1e-4;function xT(i){const t=i.length;if(t<6)return 1;let e=0;for(let n=0,s=i[t-2],l=i[t-1];n<t;n+=2){const c=i[n],h=i[n+1];e+=(c-s)*(h+l),s=c,l=h}return e<0?-1:1}function zB(i,t,e,n,s,l,c,h){const f=i-e*s,p=t-n*s,y=i+e*l,B=t+n*l;let _,x;c?(_=n,x=-e):(_=-n,x=e);const v=f+_,T=p+x,S=y+_,R=B+x;return h.push(v,T),h.push(S,R),2}function su(i,t,e,n,s,l,c,h){const f=e-i,p=n-t;let y=Math.atan2(f,p),B=Math.atan2(s-i,l-t);h&&y<B?y+=Math.PI*2:!h&&y>B&&(B+=Math.PI*2);let _=y;const x=B-y,v=Math.abs(x),T=Math.sqrt(f*f+p*p),S=(15*v*Math.sqrt(T)/Math.PI>>0)+1,R=x/S;if(_+=R,h){c.push(i,t),c.push(e,n);for(let O=1,D=_;O<S;O++,D+=R)c.push(i,t),c.push(i+Math.sin(D)*T,t+Math.cos(D)*T);c.push(i,t),c.push(s,l)}else{c.push(e,n),c.push(i,t);for(let O=1,D=_;O<S;O++,D+=R)c.push(i+Math.sin(D)*T,t+Math.cos(D)*T),c.push(i,t);c.push(s,l),c.push(i,t)}return S*2}function QT(i,t,e,n,s,l){const c=F_;if(i.length===0)return;const h=t;let f=h.alignment;if(t.alignment!==.5){let St=xT(i);f=(f-.5)*St+.5}const p=new We(i[0],i[1]),y=new We(i[i.length-2],i[i.length-1]),B=n,_=Math.abs(p.x-y.x)<c&&Math.abs(p.y-y.y)<c;if(B){i=i.slice(),_&&(i.pop(),i.pop(),y.set(i[i.length-2],i[i.length-1]));const St=(p.x+y.x)*.5,H=(y.y+p.y)*.5;i.unshift(St,H),i.push(St,H)}const x=s,v=i.length/2;let T=i.length;const S=x.length/2,R=h.width/2,O=R*R,D=h.miterLimit*h.miterLimit;let F=i[0],j=i[1],$=i[2],V=i[3],gt=0,ht=0,At=-(j-V),L=F-$,Dt=0,Ot=0,Rt=Math.sqrt(At*At+L*L);At/=Rt,L/=Rt,At*=R,L*=R;const ne=f,P=(1-ne)*2,Z=ne*2;B||(h.cap==="round"?T+=su(F-At*(P-Z)*.5,j-L*(P-Z)*.5,F-At*P,j-L*P,F+At*Z,j+L*Z,x,!0)+2:h.cap==="square"&&(T+=zB(F,j,At,L,P,Z,!0,x))),x.push(F-At*P,j-L*P),x.push(F+At*Z,j+L*Z);for(let St=1;St<v-1;++St){F=i[(St-1)*2],j=i[(St-1)*2+1],$=i[St*2],V=i[St*2+1],gt=i[(St+1)*2],ht=i[(St+1)*2+1],At=-(j-V),L=F-$,Rt=Math.sqrt(At*At+L*L),At/=Rt,L/=Rt,At*=R,L*=R,Dt=-(V-ht),Ot=$-gt,Rt=Math.sqrt(Dt*Dt+Ot*Ot),Dt/=Rt,Ot/=Rt,Dt*=R,Ot*=R;const H=$-F,ut=j-V,It=$-gt,Et=ht-V,Gt=H*It+ut*Et,Kt=ut*It-Et*H,kt=Kt<0;if(Math.abs(Kt)<.001*Math.abs(Gt)){x.push($-At*P,V-L*P),x.push($+At*Z,V+L*Z),Gt>=0&&(h.join==="round"?T+=su($,V,$-At*P,V-L*P,$-Dt*P,V-Ot*P,x,!1)+4:T+=2,x.push($-Dt*Z,V-Ot*Z),x.push($+Dt*P,V+Ot*P));continue}const Lt=(-At+F)*(-L+V)-(-At+$)*(-L+j),oe=(-Dt+gt)*(-Ot+V)-(-Dt+$)*(-Ot+ht),ui=(H*oe-It*Lt)/Kt,wn=(Et*Lt-ut*oe)/Kt,Fi=(ui-$)*(ui-$)+(wn-V)*(wn-V),pe=$+(ui-$)*P,Ke=V+(wn-V)*P,_i=$-(ui-$)*Z,Pi=V-(wn-V)*Z,mn=Math.min(H*H+ut*ut,It*It+Et*Et),ii=kt?P:Z,ma=mn+ii*ii*O;Fi<=ma?h.join==="bevel"||Fi/O>D?(kt?(x.push(pe,Ke),x.push($+At*Z,V+L*Z),x.push(pe,Ke),x.push($+Dt*Z,V+Ot*Z)):(x.push($-At*P,V-L*P),x.push(_i,Pi),x.push($-Dt*P,V-Ot*P),x.push(_i,Pi)),T+=2):h.join==="round"?kt?(x.push(pe,Ke),x.push($+At*Z,V+L*Z),T+=su($,V,$+At*Z,V+L*Z,$+Dt*Z,V+Ot*Z,x,!0)+4,x.push(pe,Ke),x.push($+Dt*Z,V+Ot*Z)):(x.push($-At*P,V-L*P),x.push(_i,Pi),T+=su($,V,$-At*P,V-L*P,$-Dt*P,V-Ot*P,x,!1)+4,x.push($-Dt*P,V-Ot*P),x.push(_i,Pi)):(x.push(pe,Ke),x.push(_i,Pi)):(x.push($-At*P,V-L*P),x.push($+At*Z,V+L*Z),h.join==="round"?kt?T+=su($,V,$+At*Z,V+L*Z,$+Dt*Z,V+Ot*Z,x,!0)+2:T+=su($,V,$-At*P,V-L*P,$-Dt*P,V-Ot*P,x,!1)+2:h.join==="miter"&&Fi/O<=D&&(kt?(x.push(_i,Pi),x.push(_i,Pi)):(x.push(pe,Ke),x.push(pe,Ke)),T+=2),x.push($-Dt*P,V-Ot*P),x.push($+Dt*Z,V+Ot*Z),T+=2)}F=i[(v-2)*2],j=i[(v-2)*2+1],$=i[(v-1)*2],V=i[(v-1)*2+1],At=-(j-V),L=F-$,Rt=Math.sqrt(At*At+L*L),At/=Rt,L/=Rt,At*=R,L*=R,x.push($-At*P,V-L*P),x.push($+At*Z,V+L*Z),B||(h.cap==="round"?T+=su($-At*(P-Z)*.5,V-L*(P-Z)*.5,$-At*P,V-L*P,$+At*Z,V+L*Z,x,!1)+2:h.cap==="square"&&(T+=zB($,V,At,L,P,Z,!1,x)));const Bt=PB*PB;for(let St=S;St<T+S-2;++St)F=x[St*2],j=x[St*2+1],$=x[(St+1)*2],V=x[(St+1)*2+1],gt=x[(St+2)*2],ht=x[(St+2)*2+1],!(Math.abs(F*(V-ht)+$*(ht-j)+gt*(j-V))<Bt)&&l.push(St,St+1,St+2)}function vT(i,t,e,n){const s=F_;if(i.length===0)return;const l=i[0],c=i[1],h=i[i.length-2],f=i[i.length-1],p=t||Math.abs(l-h)<s&&Math.abs(c-f)<s,y=e,B=i.length/2,_=y.length/2;for(let x=0;x<B;x++)y.push(i[x*2]),y.push(i[x*2+1]);for(let x=0;x<B-1;x++)n.push(_+x,_+x+1);p&&n.push(_+B-1,_)}function P_(i,t,e,n,s,l,c){const h=S1(i,t,2);if(!h)return;for(let p=0;p<h.length;p+=3)l[c++]=h[p]+s,l[c++]=h[p+1]+s,l[c++]=h[p+2]+s;let f=s*n;for(let p=0;p<i.length;p+=2)e[f]=i[p],e[f+1]=i[p+1],f+=n}const bT=[],ST={extension:{type:J.ShapeBuilder,name:"polygon"},build(i,t){for(let e=0;e<i.points.length;e++)t[e]=i.points[e];return!0},triangulate(i,t,e,n,s,l){P_(i,bT,t,e,n,s,l)}},TT={extension:{type:J.ShapeBuilder,name:"rectangle"},build(i,t){const e=i,n=e.x,s=e.y,l=e.width,c=e.height;return l>0&&c>0?(t[0]=n,t[1]=s,t[2]=n+l,t[3]=s,t[4]=n+l,t[5]=s+c,t[6]=n,t[7]=s+c,!0):!1},triangulate(i,t,e,n,s,l){let c=0;n*=e,t[n+c]=i[0],t[n+c+1]=i[1],c+=e,t[n+c]=i[2],t[n+c+1]=i[3],c+=e,t[n+c]=i[6],t[n+c+1]=i[7],c+=e,t[n+c]=i[4],t[n+c+1]=i[5],c+=e;const h=n/e;s[l++]=h,s[l++]=h+1,s[l++]=h+2,s[l++]=h+1,s[l++]=h+3,s[l++]=h+2}},RT={extension:{type:J.ShapeBuilder,name:"triangle"},build(i,t){return t[0]=i.x,t[1]=i.y,t[2]=i.x2,t[3]=i.y2,t[4]=i.x3,t[5]=i.y3,!0},triangulate(i,t,e,n,s,l){let c=0;n*=e,t[n+c]=i[0],t[n+c+1]=i[1],c+=e,t[n+c]=i[2],t[n+c+1]=i[3],c+=e,t[n+c]=i[4],t[n+c+1]=i[5];const h=n/e;s[l++]=h,s[l++]=h+1,s[l++]=h+2}},DT=new Yt,MT=new Re;function wT(i,t,e,n){const s=t.matrix?i.copyFrom(t.matrix).invert():i.identity();if(t.textureSpace==="local"){const c=e.getBounds(MT);t.width&&c.pad(t.width);const{x:h,y:f}=c,p=1/c.width,y=1/c.height,B=-h*p,_=-f*y,x=s.a,v=s.b,T=s.c,S=s.d;s.a*=p,s.b*=p,s.c*=y,s.d*=y,s.tx=B*x+_*T+s.tx,s.ty=B*v+_*S+s.ty}else s.translate(t.texture.frame.x,t.texture.frame.y),s.scale(1/t.texture.source.width,1/t.texture.source.height);const l=t.texture.source.style;return!(t.fill instanceof Ms)&&l.addressMode==="clamp-to-edge"&&(l.addressMode="repeat",l.update()),n&&s.append(DT.copyFrom(n).invert()),s}const Ip={};Xt.handleByMap(J.ShapeBuilder,Ip);Xt.add(TT,ST,RT,Kd,IT,_T);const GT=new Re,NT=new Yt;function UT(i,t){const{geometryData:e,batches:n}=t;n.length=0,e.indices.length=0,e.vertices.length=0,e.uvs.length=0;for(let s=0;s<i.instructions.length;s++){const l=i.instructions[s];if(l.action==="texture")OT(l.data,n,e);else if(l.action==="fill"||l.action==="stroke"){const c=l.action==="stroke",h=l.data.path.shapePath,f=l.data.style,p=l.data.hole;c&&p&&YB(p.shapePath,f,!0,n,e),p&&(h.shapePrimitives[h.shapePrimitives.length-1].holes=p.shapePath.shapePrimitives),YB(h,f,c,n,e)}}}function OT(i,t,e){const n=[],s=Ip.rectangle,l=GT;l.x=i.dx,l.y=i.dy,l.width=i.dw,l.height=i.dh;const c=i.transform;if(!s.build(l,n))return;const{vertices:h,uvs:f,indices:p}=e,y=p.length,B=h.length/2;c&&L_(n,c),s.triangulate(n,h,2,B,p,y);const _=i.image,x=_.uvs;f.push(x.x0,x.y0,x.x1,x.y1,x.x3,x.y3,x.x2,x.y2);const v=ln.get(x0);v.indexOffset=y,v.indexSize=p.length-y,v.attributeOffset=B,v.attributeSize=h.length/2-B,v.baseColor=i.style,v.alpha=i.alpha,v.texture=_,v.geometryData=e,t.push(v)}function YB(i,t,e,n,s){const{vertices:l,uvs:c,indices:h}=s;i.shapePrimitives.forEach(({shape:f,transform:p,holes:y})=>{const B=[],_=Ip[f.type];if(!_.build(f,B))return;const x=h.length,v=l.length/2;let T="triangle-list";if(p&&L_(B,p),e){const D=f.closePath??!0,F=t;F.pixelLine?(vT(B,D,l,h),T="line-list"):QT(B,F,!1,D,l,h)}else if(y){const D=[],F=B.slice();HT(y).forEach($=>{D.push(F.length/2),F.push(...$)}),P_(F,D,l,2,v,h,x)}else _.triangulate(B,l,2,v,h,x);const S=c.length/2,R=t.texture;if(R!==Ut.WHITE){const D=wT(NT,t,f,p);yT(l,2,v,c,S,2,l.length/2-v,D)}else BT(c,S,2,l.length/2-v);const O=ln.get(x0);O.indexOffset=x,O.indexSize=h.length-x,O.attributeOffset=v,O.attributeSize=l.length/2-v,O.baseColor=t.color,O.alpha=t.alpha,O.texture=R,O.geometryData=s,O.topology=T,n.push(O)})}function HT(i){const t=[];for(let e=0;e<i.length;e++){const n=i[e].shape,s=[];Ip[n.type].build(n,s)&&t.push(s)}return t}class kT{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class LT{constructor(){this.instructions=new XI}init(t){this.batcher=new _0({maxTextures:t}),this.instructions.reset()}get geometry(){return ue(Vb,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const Q0=class NE{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){NE.defaultOptions.bezierSmoothness=t?.bezierSmoothness??NE.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let e=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){e?this._cleanGraphicsContextData(t):e=this._initContext(t),UT(t,e);const n=t.batchMode;t.customShader||n==="no-batch"?e.isBatchable=!1:n==="auto"?e.isBatchable=e.geometryData.vertices.length<400:e.isBatchable=!0,t.dirty=!1}return e}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const e=ln.get(LT,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:n,geometryData:s}=this._gpuContextHash[t.uid],l=s.vertices.length,c=s.indices.length;for(let y=0;y<n.length;y++)n[y].applyTransform=!1;const h=e.batcher;h.ensureAttributeBuffer(l),h.ensureIndexBuffer(c),h.begin();for(let y=0;y<n.length;y++){const B=n[y];h.add(B)}h.finish(e.instructions);const f=h.geometry;f.indexBuffer.setDataWithSize(h.indexBuffer,h.indexSize,!0),f.buffers[0].setDataWithSize(h.attributeBuffer.float32View,h.attributeSize,!0);const p=h.batches;for(let y=0;y<p.length;y++){const B=p[y];B.bindGroup=m0(B.textures.textures,B.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[t.uid]=e,e}_initContext(t){const e=new kT;return e.context=t,this._gpuContextHash[t.uid]=e,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const e=this._gpuContextHash[t.uid];e.isBatchable||this._graphicsDataContextHash[t.uid]&&(ln.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),e.batches&&e.batches.forEach(n=>{ln.return(n)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};Q0.extension={type:[J.WebGLSystem,J.WebGPUSystem,J.CanvasSystem],name:"graphicsContext"};Q0.defaultOptions={bezierSmoothness:.5};let v0=Q0;const FT=8,Fg=11920929e-14,PT=1;function z_(i,t,e,n,s,l,c,h,f,p){const B=Math.min(.99,Math.max(0,p??v0.defaultOptions.bezierSmoothness));let _=(PT-B)/1;return _*=_,zT(t,e,n,s,l,c,h,f,i,_),i}function zT(i,t,e,n,s,l,c,h,f,p){UE(i,t,e,n,s,l,c,h,f,p,0),f.push(c,h)}function UE(i,t,e,n,s,l,c,h,f,p,y){if(y>FT)return;const B=(i+e)/2,_=(t+n)/2,x=(e+s)/2,v=(n+l)/2,T=(s+c)/2,S=(l+h)/2,R=(B+x)/2,O=(_+v)/2,D=(x+T)/2,F=(v+S)/2,j=(R+D)/2,$=(O+F)/2;if(y>0){let V=c-i,gt=h-t;const ht=Math.abs((e-c)*gt-(n-h)*V),At=Math.abs((s-c)*gt-(l-h)*V);if(ht>Fg&&At>Fg){if((ht+At)*(ht+At)<=p*(V*V+gt*gt)){f.push(j,$);return}}else if(ht>Fg){if(ht*ht<=p*(V*V+gt*gt)){f.push(j,$);return}}else if(At>Fg){if(At*At<=p*(V*V+gt*gt)){f.push(j,$);return}}else if(V=j-(i+c)/2,gt=$-(t+h)/2,V*V+gt*gt<=p){f.push(j,$);return}}UE(i,t,B,_,R,O,j,$,f,p,y+1),UE(j,$,D,F,T,S,c,h,f,p,y+1)}const YT=8,KT=11920929e-14,jT=1;function XT(i,t,e,n,s,l,c,h){const p=Math.min(.99,Math.max(0,h??v0.defaultOptions.bezierSmoothness));let y=(jT-p)/1;return y*=y,VT(t,e,n,s,l,c,i,y),i}function VT(i,t,e,n,s,l,c,h){OE(c,i,t,e,n,s,l,h,0),c.push(s,l)}function OE(i,t,e,n,s,l,c,h,f){if(f>YT)return;const p=(t+n)/2,y=(e+s)/2,B=(n+l)/2,_=(s+c)/2,x=(p+B)/2,v=(y+_)/2;let T=l-t,S=c-e;const R=Math.abs((n-l)*S-(s-c)*T);if(R>KT){if(R*R<=h*(T*T+S*S)){i.push(x,v);return}}else if(T=x-(t+l)/2,S=v-(e+c)/2,T*T+S*S<=h){i.push(x,v);return}OE(i,t,e,p,y,x,v,h,f+1),OE(i,x,v,B,_,l,c,h,f+1)}function Y_(i,t,e,n,s,l,c,h){let f=Math.abs(s-l);(!c&&s>l||c&&l>s)&&(f=2*Math.PI-f),h||(h=Math.max(6,Math.floor(6*Math.pow(n,1/3)*(f/Math.PI)))),h=Math.max(h,3);let p=f/h,y=s;p*=c?-1:1;for(let B=0;B<h+1;B++){const _=Math.cos(y),x=Math.sin(y),v=t+_*n,T=e+x*n;i.push(v,T),y+=p}}function qT(i,t,e,n,s,l){const c=i[i.length-2],f=i[i.length-1]-e,p=c-t,y=s-e,B=n-t,_=Math.abs(f*B-p*y);if(_<1e-8||l===0){(i[i.length-2]!==t||i[i.length-1]!==e)&&i.push(t,e);return}const x=f*f+p*p,v=y*y+B*B,T=f*y+p*B,S=l*Math.sqrt(x)/_,R=l*Math.sqrt(v)/_,O=S*T/x,D=R*T/v,F=S*B+R*p,j=S*y+R*f,$=p*(R+O),V=f*(R+O),gt=B*(S+D),ht=y*(S+D),At=Math.atan2(V-j,$-F),L=Math.atan2(ht-j,gt-F);Y_(i,F+t,j+e,l,At,L,p*y>B*f)}const Ud=Math.PI*2,jm={centerX:0,centerY:0,ang1:0,ang2:0},Xm=({x:i,y:t},e,n,s,l,c,h,f)=>{i*=e,t*=n;const p=s*i-l*t,y=l*i+s*t;return f.x=p+c,f.y=y+h,f};function JT(i,t){const e=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),n=t===1.5707963267948966?.551915024494:e,s=Math.cos(i),l=Math.sin(i),c=Math.cos(i+t),h=Math.sin(i+t);return[{x:s-l*n,y:l+s*n},{x:c+h*n,y:h-c*n},{x:c,y:h}]}const KB=(i,t,e,n)=>{const s=i*n-t*e<0?-1:1;let l=i*e+t*n;return l>1&&(l=1),l<-1&&(l=-1),s*Math.acos(l)},WT=(i,t,e,n,s,l,c,h,f,p,y,B,_)=>{const x=Math.pow(s,2),v=Math.pow(l,2),T=Math.pow(y,2),S=Math.pow(B,2);let R=x*v-x*S-v*T;R<0&&(R=0),R/=x*S+v*T,R=Math.sqrt(R)*(c===h?-1:1);const O=R*s/l*B,D=R*-l/s*y,F=p*O-f*D+(i+e)/2,j=f*O+p*D+(t+n)/2,$=(y-O)/s,V=(B-D)/l,gt=(-y-O)/s,ht=(-B-D)/l,At=KB(1,0,$,V);let L=KB($,V,gt,ht);h===0&&L>0&&(L-=Ud),h===1&&L<0&&(L+=Ud),_.centerX=F,_.centerY=j,_.ang1=At,_.ang2=L};function ZT(i,t,e,n,s,l,c,h=0,f=0,p=0){if(l===0||c===0)return;const y=Math.sin(h*Ud/360),B=Math.cos(h*Ud/360),_=B*(t-n)/2+y*(e-s)/2,x=-y*(t-n)/2+B*(e-s)/2;if(_===0&&x===0)return;l=Math.abs(l),c=Math.abs(c);const v=Math.pow(_,2)/Math.pow(l,2)+Math.pow(x,2)/Math.pow(c,2);v>1&&(l*=Math.sqrt(v),c*=Math.sqrt(v)),WT(t,e,n,s,l,c,f,p,y,B,_,x,jm);let{ang1:T,ang2:S}=jm;const{centerX:R,centerY:O}=jm;let D=Math.abs(S)/(Ud/4);Math.abs(1-D)<1e-7&&(D=1);const F=Math.max(Math.ceil(D),1);S/=F;let j=i[i.length-2],$=i[i.length-1];const V={x:0,y:0};for(let gt=0;gt<F;gt++){const ht=JT(T,S),{x:At,y:L}=Xm(ht[0],l,c,B,y,R,O,V),{x:Dt,y:Ot}=Xm(ht[1],l,c,B,y,R,O,V),{x:Rt,y:ne}=Xm(ht[2],l,c,B,y,R,O,V);z_(i,j,$,At,L,Dt,Ot,Rt,ne),j=Rt,$=ne,T+=S}}function $T(i,t,e){const n=(c,h)=>{const f=h.x-c.x,p=h.y-c.y,y=Math.sqrt(f*f+p*p),B=f/y,_=p/y;return{len:y,nx:B,ny:_}},s=(c,h)=>{c===0?i.moveTo(h.x,h.y):i.lineTo(h.x,h.y)};let l=t[t.length-1];for(let c=0;c<t.length;c++){const h=t[c%t.length],f=h.radius??e;if(f<=0){s(c,h),l=h;continue}const p=t[(c+1)%t.length],y=n(h,l),B=n(h,p);if(y.len<1e-4||B.len<1e-4){s(c,h),l=h;continue}let _=Math.asin(y.nx*B.ny-y.ny*B.nx),x=1,v=!1;y.nx*B.nx-y.ny*-B.ny<0?_<0?_=Math.PI+_:(_=Math.PI-_,x=-1,v=!0):_>0&&(x=-1,v=!0);const T=_/2;let S,R=Math.abs(Math.cos(T)*f/Math.sin(T));R>Math.min(y.len/2,B.len/2)?(R=Math.min(y.len/2,B.len/2),S=Math.abs(R*Math.sin(T)/Math.cos(T))):S=f;const O=h.x+B.nx*R+-B.ny*S*x,D=h.y+B.ny*R+B.nx*S*x,F=Math.atan2(y.ny,y.nx)+Math.PI/2*x,j=Math.atan2(B.ny,B.nx)-Math.PI/2*x;c===0&&i.moveTo(O+Math.cos(F)*S,D+Math.sin(F)*S),i.arc(O,D,S,F,j,v),l=h}}function tR(i,t,e,n){const s=(h,f)=>Math.sqrt((h.x-f.x)**2+(h.y-f.y)**2),l=(h,f,p)=>({x:h.x+(f.x-h.x)*p,y:h.y+(f.y-h.y)*p}),c=t.length;for(let h=0;h<c;h++){const f=t[(h+1)%c],p=f.radius??e;if(p<=0){h===0?i.moveTo(f.x,f.y):i.lineTo(f.x,f.y);continue}const y=t[h],B=t[(h+2)%c],_=s(y,f);let x;if(_<1e-4)x=f;else{const S=Math.min(_/2,p);x=l(f,y,S/_)}const v=s(B,f);let T;if(v<1e-4)T=f;else{const S=Math.min(v/2,p);T=l(f,B,S/v)}h===0?i.moveTo(x.x,x.y):i.lineTo(x.x,x.y),i.quadraticCurveTo(f.x,f.y,T.x,T.y,n)}}const eR=new Re;class iR{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new pn,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,e){return this.startPoly(t,e),this}lineTo(t,e){this._ensurePoly();const n=this._currentPoly.points,s=n[n.length-2],l=n[n.length-1];return(s!==t||l!==e)&&n.push(t,e),this}arc(t,e,n,s,l,c){this._ensurePoly(!1);const h=this._currentPoly.points;return Y_(h,t,e,n,s,l,c),this}arcTo(t,e,n,s,l){this._ensurePoly();const c=this._currentPoly.points;return qT(c,t,e,n,s,l),this}arcToSvg(t,e,n,s,l,c,h){const f=this._currentPoly.points;return ZT(f,this._currentPoly.lastX,this._currentPoly.lastY,c,h,t,e,n,s,l),this}bezierCurveTo(t,e,n,s,l,c,h){this._ensurePoly();const f=this._currentPoly;return z_(this._currentPoly.points,f.lastX,f.lastY,t,e,n,s,l,c,h),this}quadraticCurveTo(t,e,n,s,l){this._ensurePoly();const c=this._currentPoly;return XT(this._currentPoly.points,c.lastX,c.lastY,t,e,n,s,l),this}closePath(){return this.endPoly(!0),this}addPath(t,e){this.endPoly(),e&&!e.isIdentity()&&(t=t.clone(!0),t.transform(e));const n=this.shapePrimitives,s=n.length;for(let l=0;l<t.instructions.length;l++){const c=t.instructions[l];this[c.action](...c.data)}if(t.checkForHoles&&n.length-s>1){let l=null;for(let c=s;c<n.length;c++){const h=n[c];if(h.shape.type==="polygon"){const f=h.shape,p=l?.shape;p&&p.containsPolygon(f)?(l.holes||(l.holes=[]),l.holes.push(h),n.copyWithin(c,c+1),n.length--,c--):l=h}}}return this}finish(t=!1){this.endPoly(t)}rect(t,e,n,s,l){return this.drawShape(new Re(t,e,n,s),l),this}circle(t,e,n,s){return this.drawShape(new f0(t,e,n),s),this}poly(t,e,n){const s=new Nd(t);return s.closePath=e,this.drawShape(s,n),this}regularPoly(t,e,n,s,l=0,c){s=Math.max(s|0,3);const h=-1*Math.PI/2+l,f=Math.PI*2/s,p=[];for(let y=0;y<s;y++){const B=h-y*f;p.push(t+n*Math.cos(B),e+n*Math.sin(B))}return this.poly(p,!0,c),this}roundPoly(t,e,n,s,l,c=0,h){if(s=Math.max(s|0,3),l<=0)return this.regularPoly(t,e,n,s,c);const f=n*Math.sin(Math.PI/s)-.001;l=Math.min(l,f);const p=-1*Math.PI/2+c,y=Math.PI*2/s,B=(s-2)*Math.PI/s/2;for(let _=0;_<s;_++){const x=_*y+p,v=t+n*Math.cos(x),T=e+n*Math.sin(x),S=x+Math.PI+B,R=x-Math.PI-B,O=v+l*Math.cos(S),D=T+l*Math.sin(S),F=v+l*Math.cos(R),j=T+l*Math.sin(R);_===0?this.moveTo(O,D):this.lineTo(O,D),this.quadraticCurveTo(v,T,F,j,h)}return this.closePath()}roundShape(t,e,n=!1,s){return t.length<3?this:(n?tR(this,t,e,s):$T(this,t,e),this.closePath())}filletRect(t,e,n,s,l){if(l===0)return this.rect(t,e,n,s);const c=Math.min(n,s)/2,h=Math.min(c,Math.max(-c,l)),f=t+n,p=e+s,y=h<0?-h:0,B=Math.abs(h);return this.moveTo(t,e+B).arcTo(t+y,e+y,t+B,e,B).lineTo(f-B,e).arcTo(f-y,e+y,f,e+B,B).lineTo(f,p-B).arcTo(f-y,p-y,t+n-B,p,B).lineTo(t+B,p).arcTo(t+y,p-y,t,p-B,B).closePath()}chamferRect(t,e,n,s,l,c){if(l<=0)return this.rect(t,e,n,s);const h=Math.min(l,Math.min(n,s)/2),f=t+n,p=e+s,y=[t+h,e,f-h,e,f,e+h,f,p-h,f-h,p,t+h,p,t,p-h,t,e+h];for(let B=y.length-1;B>=2;B-=2)y[B]===y[B-2]&&y[B-1]===y[B-3]&&y.splice(B-1,2);return this.poly(y,!0,c)}ellipse(t,e,n,s,l){return this.drawShape(new g0(t,e,n,s),l),this}roundRect(t,e,n,s,l,c){return this.drawShape(new p0(t,e,n,s,l),c),this}drawShape(t,e){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:e}),this}startPoly(t,e){let n=this._currentPoly;return n&&this.endPoly(),n=new Nd,n.points.push(t,e),this._currentPoly=n,this}endPoly(t=!1){const e=this._currentPoly;return e&&e.points.length>2&&(e.closePath=t,this.shapePrimitives.push({shape:e})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new Nd,t)){const e=this.shapePrimitives[this.shapePrimitives.length-1];if(e){let n=e.shape.x,s=e.shape.y;if(e.transform&&!e.transform.isIdentity()){const l=e.transform,c=n;n=l.a*n+l.c*s+l.tx,s=l.b*c+l.d*s+l.ty}this._currentPoly.points.push(n,s)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let e=0;e<t.instructions.length;e++){const n=t.instructions[e];this[n.action](...n.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const e=this.shapePrimitives;for(let n=0;n<e.length;n++){const s=e[n],l=s.shape.getBounds(eR);s.transform?t.addRect(l,s.transform):t.addRect(l)}return t}}class jc{constructor(t,e=!1){this.instructions=[],this.uid=Ai("graphicsPath"),this._dirty=!0,this.checkForHoles=e,typeof t=="string"?H1(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new iR(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,e){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,e]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,e,n,s,l){const c=this.instructions[this.instructions.length-1],h=this.getLastPoint(We.shared);let f=0,p=0;if(!c||c.action!=="bezierCurveTo")f=h.x,p=h.y;else{f=c.data[2],p=c.data[3];const y=h.x,B=h.y;f=y+(y-f),p=B+(B-p)}return this.instructions.push({action:"bezierCurveTo",data:[f,p,t,e,n,s,l]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,e,n){const s=this.instructions[this.instructions.length-1],l=this.getLastPoint(We.shared);let c=0,h=0;if(!s||s.action!=="quadraticCurveTo")c=l.x,h=l.y;else{c=s.data[0],h=s.data[1];const f=l.x,p=l.y;c=f+(f-c),h=p+(p-h)}return this.instructions.push({action:"quadraticCurveTo",data:[c,h,t,e,n]}),this._dirty=!0,this}rect(t,e,n,s,l){return this.instructions.push({action:"rect",data:[t,e,n,s,l]}),this._dirty=!0,this}circle(t,e,n,s){return this.instructions.push({action:"circle",data:[t,e,n,s]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,e,n,s,l,c,h){l||(l=s/2);const f=-1*Math.PI/2+c,p=n*2,y=Math.PI*2/p,B=[];for(let _=0;_<p;_++){const x=_%2?l:s,v=_*y+f;B.push(t+x*Math.cos(v),e+x*Math.sin(v))}return this.poly(B,!0,h),this}clone(t=!1){const e=new jc;if(e.checkForHoles=this.checkForHoles,!t)e.instructions=this.instructions.slice();else for(let n=0;n<this.instructions.length;n++){const s=this.instructions[n];e.instructions.push({action:s.action,data:s.data.slice()})}return e}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const e=t.a,n=t.b,s=t.c,l=t.d,c=t.tx,h=t.ty;let f=0,p=0,y=0,B=0,_=0,x=0,v=0,T=0;for(let S=0;S<this.instructions.length;S++){const R=this.instructions[S],O=R.data;switch(R.action){case"moveTo":case"lineTo":f=O[0],p=O[1],O[0]=e*f+s*p+c,O[1]=n*f+l*p+h;break;case"bezierCurveTo":y=O[0],B=O[1],_=O[2],x=O[3],f=O[4],p=O[5],O[0]=e*y+s*B+c,O[1]=n*y+l*B+h,O[2]=e*_+s*x+c,O[3]=n*_+l*x+h,O[4]=e*f+s*p+c,O[5]=n*f+l*p+h;break;case"quadraticCurveTo":y=O[0],B=O[1],f=O[2],p=O[3],O[0]=e*y+s*B+c,O[1]=n*y+l*B+h,O[2]=e*f+s*p+c,O[3]=n*f+l*p+h;break;case"arcToSvg":f=O[5],p=O[6],v=O[0],T=O[1],O[0]=e*v+s*T,O[1]=n*v+l*T,O[5]=e*f+s*p+c,O[6]=n*f+l*p+h;break;case"circle":O[4]=Ed(O[3],t);break;case"rect":O[4]=Ed(O[4],t);break;case"ellipse":O[8]=Ed(O[8],t);break;case"roundRect":O[5]=Ed(O[5],t);break;case"addPath":O[0].transform(t);break;case"poly":O[2]=Ed(O[2],t);break;default:ie("unknown transform action",R.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let e=this.instructions.length-1,n=this.instructions[e];if(!n)return t.x=0,t.y=0,t;for(;n.action==="closePath";){if(e--,e<0)return t.x=0,t.y=0,t;n=this.instructions[e]}switch(n.action){case"moveTo":case"lineTo":t.x=n.data[0],t.y=n.data[1];break;case"quadraticCurveTo":t.x=n.data[2],t.y=n.data[3];break;case"bezierCurveTo":t.x=n.data[4],t.y=n.data[5];break;case"arc":case"arcToSvg":t.x=n.data[5],t.y=n.data[6];break;case"addPath":n.data[0].getLastPoint(t);break}return t}}function Ed(i,t){return i?i.prepend(t):t.clone()}function Si(i,t,e){const n=i.getAttribute(t);return n?Number(n):e}function nR(i,t){const e=i.querySelectorAll("defs");for(let n=0;n<e.length;n++){const s=e[n];for(let l=0;l<s.children.length;l++){const c=s.children[l];switch(c.nodeName.toLowerCase()){case"lineargradient":t.defs[c.id]=aR(c);break;case"radialgradient":t.defs[c.id]=sR();break}}}}function aR(i){const t=Si(i,"x1",0),e=Si(i,"y1",0),n=Si(i,"x2",1),s=Si(i,"y2",0),l=i.getAttribute("gradientUnits")||"objectBoundingBox",c=new Ms(t,e,n,s,l==="objectBoundingBox"?"local":"global");for(let h=0;h<i.children.length;h++){const f=i.children[h],p=Si(f,"offset",0),y=Ye.shared.setValue(f.getAttribute("stop-color")).toNumber();c.addColorStop(p,y)}return c}function sR(i){return ie("[SVG Parser] Radial gradients are not yet supported"),new Ms(0,0,1,0)}function jB(i){const t=i.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const XB={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function K_(i,t){const e=i.getAttribute("style"),n={},s={},l={strokeStyle:n,fillStyle:s,useFill:!1,useStroke:!1};for(const c in XB){const h=i.getAttribute(c);h&&VB(t,l,c,h.trim())}if(e){const c=e.split(";");for(let h=0;h<c.length;h++){const f=c[h].trim(),[p,y]=f.split(":");XB[p]&&VB(t,l,p,y.trim())}}return{strokeStyle:l.useStroke?n:null,fillStyle:l.useFill?s:null,useFill:l.useFill,useStroke:l.useStroke}}function VB(i,t,e,n){switch(e){case"stroke":if(n!=="none"){if(n.startsWith("url(")){const s=jB(n);t.strokeStyle.fill=i.defs[s]}else t.strokeStyle.color=Ye.shared.setValue(n).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(n);break;case"fill":if(n!=="none"){if(n.startsWith("url(")){const s=jB(n);t.fillStyle.fill=i.defs[s]}else t.fillStyle.color=Ye.shared.setValue(n).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(n);break;case"stroke-opacity":t.strokeStyle.alpha=Number(n);break;case"opacity":t.fillStyle.alpha=Number(n),t.strokeStyle.alpha=Number(n);break}}function rR(i,t){if(typeof i=="string"){const c=document.createElement("div");c.innerHTML=i.trim(),i=c.querySelector("svg")}const e={context:t,defs:{},path:new jc};nR(i,e);const n=i.children,{fillStyle:s,strokeStyle:l}=K_(i,e);for(let c=0;c<n.length;c++){const h=n[c];h.nodeName.toLowerCase()!=="defs"&&j_(h,e,s,l)}return t}function j_(i,t,e,n){const s=i.children,{fillStyle:l,strokeStyle:c}=K_(i,t);l&&e?e={...e,...l}:l&&(e=l),c&&n?n={...n,...c}:c&&(n=c);const h=!e&&!n;h&&(e={color:0});let f,p,y,B,_,x,v,T,S,R,O,D,F,j,$,V,gt;switch(i.nodeName.toLowerCase()){case"path":j=i.getAttribute("d"),i.getAttribute("fill-rule")==="evenodd"&&ie("SVG Evenodd fill rule not supported, your svg may render incorrectly"),$=new jc(j,!0),t.context.path($),e&&t.context.fill(e),n&&t.context.stroke(n);break;case"circle":v=Si(i,"cx",0),T=Si(i,"cy",0),S=Si(i,"r",0),t.context.ellipse(v,T,S,S),e&&t.context.fill(e),n&&t.context.stroke(n);break;case"rect":f=Si(i,"x",0),p=Si(i,"y",0),V=Si(i,"width",0),gt=Si(i,"height",0),R=Si(i,"rx",0),O=Si(i,"ry",0),R||O?t.context.roundRect(f,p,V,gt,R||O):t.context.rect(f,p,V,gt),e&&t.context.fill(e),n&&t.context.stroke(n);break;case"ellipse":v=Si(i,"cx",0),T=Si(i,"cy",0),R=Si(i,"rx",0),O=Si(i,"ry",0),t.context.beginPath(),t.context.ellipse(v,T,R,O),e&&t.context.fill(e),n&&t.context.stroke(n);break;case"line":y=Si(i,"x1",0),B=Si(i,"y1",0),_=Si(i,"x2",0),x=Si(i,"y2",0),t.context.beginPath(),t.context.moveTo(y,B),t.context.lineTo(_,x),n&&t.context.stroke(n);break;case"polygon":F=i.getAttribute("points"),D=F.match(/\d+/g).map(ht=>parseInt(ht,10)),t.context.poly(D,!0),e&&t.context.fill(e),n&&t.context.stroke(n);break;case"polyline":F=i.getAttribute("points"),D=F.match(/\d+/g).map(ht=>parseInt(ht,10)),t.context.poly(D,!1),n&&t.context.stroke(n);break;case"g":case"svg":break;default:{ie(`[SVG parser] <${i.nodeName}> elements unsupported`);break}}h&&(e=null);for(let ht=0;ht<s.length;ht++)j_(s[ht],t,e,n)}function oR(i){return Ye.isColorLike(i)}function qB(i){return i instanceof Cp}function JB(i){return i instanceof Ms}function lR(i){return i instanceof Ut}function AR(i,t,e){const n=Ye.shared.setValue(t??0);return i.color=n.toNumber(),i.alpha=n.alpha===1?e.alpha:n.alpha,i.texture=Ut.WHITE,{...e,...i}}function uR(i,t,e){return i.texture=t,{...e,...i}}function WB(i,t,e){return i.fill=t,i.color=16777215,i.texture=t.texture,i.matrix=t.transform,{...e,...i}}function ZB(i,t,e){return t.buildGradient(),i.fill=t,i.color=16777215,i.texture=t.texture,i.matrix=t.transform,i.textureSpace=t.textureSpace,{...e,...i}}function cR(i,t){const e={...t,...i},n=Ye.shared.setValue(e.color);return e.alpha*=n.alpha,e.color=n.toNumber(),e}function du(i,t){if(i==null)return null;const e={},n=i;return oR(i)?AR(e,i,t):lR(i)?uR(e,i,t):qB(i)?WB(e,i,t):JB(i)?ZB(e,i,t):n.fill&&qB(n.fill)?WB(n,n.fill,t):n.fill&&JB(n.fill)?ZB(n,n.fill,t):cR(n,t)}function hp(i,t){const{width:e,alignment:n,miterLimit:s,cap:l,join:c,pixelLine:h,...f}=t,p=du(i,f);return p?{width:e,alignment:n,miterLimit:s,cap:l,join:c,pixelLine:h,...p}:null}const hR=new We,$B=new Yt,b0=class io extends as{constructor(){super(...arguments),this.uid=Ai("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new jc,this._transform=new Yt,this._fillStyle={...io.defaultFillStyle},this._strokeStyle={...io.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new pn,this._boundsDirty=!0}clone(){const t=new io;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=du(t,io.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=hp(t,io.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=du(t,io.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=du(t,io.defaultStrokeStyle),this}texture(t,e,n,s,l,c){return this.instructions.push({action:"texture",data:{image:t,dx:n||0,dy:s||0,dw:l||t.frame.width,dh:c||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:e?Ye.shared.setValue(e).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new jc,this}fill(t,e){let n;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s&&s.action==="stroke"?n=s.data.path:n=this._activePath.clone(),n?(t!=null&&(e!==void 0&&typeof t=="number"&&(ue(_e,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:e}),this._fillStyle=du(t,io.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:e}=this._activePath.getLastPoint(We.shared);this._activePath.clear(),this._activePath.moveTo(t,e)}stroke(t){let e;const n=this.instructions[this.instructions.length-1];return this._tick===0&&n&&n.action==="fill"?e=n.data.path:e=this._activePath.clone(),e?(t!=null&&(this._strokeStyle=hp(t,io.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:e}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const e=this.instructions[this.instructions.length-1-t],n=this._activePath.clone();if(e&&(e.action==="stroke"||e.action==="fill"))if(e.data.hole)e.data.hole.addPath(n);else{e.data.hole=n;break}}return this._initNextPathLocation(),this}arc(t,e,n,s,l,c){this._tick++;const h=this._transform;return this._activePath.arc(h.a*t+h.c*e+h.tx,h.b*t+h.d*e+h.ty,n,s,l,c),this}arcTo(t,e,n,s,l){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*t+c.c*e+c.tx,c.b*t+c.d*e+c.ty,c.a*n+c.c*s+c.tx,c.b*n+c.d*s+c.ty,l),this}arcToSvg(t,e,n,s,l,c,h){this._tick++;const f=this._transform;return this._activePath.arcToSvg(t,e,n,s,l,f.a*c+f.c*h+f.tx,f.b*c+f.d*h+f.ty),this}bezierCurveTo(t,e,n,s,l,c,h){this._tick++;const f=this._transform;return this._activePath.bezierCurveTo(f.a*t+f.c*e+f.tx,f.b*t+f.d*e+f.ty,f.a*n+f.c*s+f.tx,f.b*n+f.d*s+f.ty,f.a*l+f.c*c+f.tx,f.b*l+f.d*c+f.ty,h),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,e,n,s){return this._tick++,this._activePath.ellipse(t,e,n,s,this._transform.clone()),this}circle(t,e,n){return this._tick++,this._activePath.circle(t,e,n,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,e){this._tick++;const n=this._transform;return this._activePath.lineTo(n.a*t+n.c*e+n.tx,n.b*t+n.d*e+n.ty),this}moveTo(t,e){this._tick++;const n=this._transform,s=this._activePath.instructions,l=n.a*t+n.c*e+n.tx,c=n.b*t+n.d*e+n.ty;return s.length===1&&s[0].action==="moveTo"?(s[0].data[0]=l,s[0].data[1]=c,this):(this._activePath.moveTo(l,c),this)}quadraticCurveTo(t,e,n,s,l){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*t+c.c*e+c.tx,c.b*t+c.d*e+c.ty,c.a*n+c.c*s+c.tx,c.b*n+c.d*s+c.ty,l),this}rect(t,e,n,s){return this._tick++,this._activePath.rect(t,e,n,s,this._transform.clone()),this}roundRect(t,e,n,s,l){return this._tick++,this._activePath.roundRect(t,e,n,s,l,this._transform.clone()),this}poly(t,e){return this._tick++,this._activePath.poly(t,e,this._transform.clone()),this}regularPoly(t,e,n,s,l=0,c){return this._tick++,this._activePath.regularPoly(t,e,n,s,l,c),this}roundPoly(t,e,n,s,l,c){return this._tick++,this._activePath.roundPoly(t,e,n,s,l,c),this}roundShape(t,e,n,s){return this._tick++,this._activePath.roundShape(t,e,n,s),this}filletRect(t,e,n,s,l){return this._tick++,this._activePath.filletRect(t,e,n,s,l),this}chamferRect(t,e,n,s,l,c){return this._tick++,this._activePath.chamferRect(t,e,n,s,l,c),this}star(t,e,n,s,l=0,c=0){return this._tick++,this._activePath.star(t,e,n,s,l,c,this._transform.clone()),this}svg(t){return this._tick++,rR(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,e=t){return this._transform.scale(t,e),this}setTransform(t,e,n,s,l,c){return t instanceof Yt?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,e,n,s,l,c),this)}transform(t,e,n,s,l,c){return t instanceof Yt?(this._transform.append(t),this):($B.set(t,e,n,s,l,c),this._transform.append($B),this)}translate(t,e=t){return this._transform.translate(t,e),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let e=0;e<this.instructions.length;e++){const n=this.instructions[e],s=n.action;if(s==="fill"){const l=n.data;t.addBounds(l.path.bounds)}else if(s==="texture"){const l=n.data;t.addFrame(l.dx,l.dy,l.dx+l.dw,l.dy+l.dh,l.transform)}if(s==="stroke"){const l=n.data,c=l.style.alignment,h=l.style.width*(1-c),f=l.path.bounds;t.addFrame(f.minX-h,f.minY-h,f.maxX+h,f.maxY+h)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const e=this.instructions;let n=!1;for(let s=0;s<e.length;s++){const l=e[s],c=l.data,h=c.path;if(!l.action||!h)continue;const f=c.style,p=h.shapePath.shapePrimitives;for(let y=0;y<p.length;y++){const B=p[y].shape;if(!f||!B)continue;const _=p[y].transform,x=_?_.applyInverse(t,hR):t;if(l.action==="fill")n=B.contains(x.x,x.y);else{const T=f;n=B.strokeContains(x.x,x.y,T.width,T.alignment)}const v=c.hole;if(v){const T=v.shapePath?.shapePrimitives;if(T)for(let S=0;S<T.length;S++)T[S].shape.contains(x.x,x.y)&&(n=!1)}if(n)return!0}}return n}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const n=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(n),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(n)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};b0.defaultFillStyle={color:16777215,alpha:1,texture:Ut.WHITE,matrix:null,fill:null,textureSpace:"local"};b0.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Ut.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Ss=b0;const tC=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function dR(i){const t=[];let e=0;for(let n=0;n<tC.length;n++){const s=`_${tC[n]}`;t[e++]=i[s]}return e=X_(i._fill,t,e),e=gR(i._stroke,t,e),e=pR(i.dropShadow,t,e),e=fR(i.filters,t,e),t.join("-")}function fR(i,t,e){if(!i)return e;for(const n of i)t[e++]=n.uid;return e}function X_(i,t,e){return i&&(t[e++]=i.color,t[e++]=i.alpha,t[e++]=i.fill?.styleKey),e}function gR(i,t,e){return i&&(e=X_(i,t,e),t[e++]=i.width,t[e++]=i.alignment,t[e++]=i.cap,t[e++]=i.join,t[e++]=i.miterLimit),e}function pR(i,t,e){return i&&(t[e++]=i.alpha,t[e++]=i.angle,t[e++]=i.blur,t[e++]=i.distance,t[e++]=Ye.shared.setValue(i.color).toNumber()),e}const S0=class Tc extends as{constructor(t={}){super(),mR(t);const e={...Tc.defaultTextStyle,...t};for(const n in e){const s=n;this[s]=e[n]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...Tc.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...Tc.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get filters(){return this._filters}set filters(t){this._filters=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...Ss.defaultFillStyle,...t},()=>{this._fill=du({...this._originalFill},Ss.defaultFillStyle)})),this._fill=du(t===0?"black":t,Ss.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...Ss.defaultStrokeStyle,...t},()=>{this._stroke=hp({...this._originalStroke},Ss.defaultStrokeStyle)})),this._stroke=hp(t,Ss.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=dR(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=Tc.defaultTextStyle;for(const e in t)this[e]=t[e]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new Tc({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let e=0;e<this._filters.length;e++)t+=this._filters[e].padding;return Math.max(this._padding,t)}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const n=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(n),this._originalFill?.texture&&this._originalFill.texture.destroy(n),this._stroke?.texture&&this._stroke.texture.destroy(n),this._originalStroke?.texture&&this._originalStroke.texture.destroy(n)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,e){return new Proxy(t,{set:(n,s,l)=>(n[s]=l,e?.(s,l),this.update(),!0)})}_isFillStyle(t){return(t??null)!==null&&!(Ye.isColorLike(t)||t instanceof Ms||t instanceof Cp)}};S0.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};S0.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Ri=S0;function mR(i){const t=i;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const e=Ri.defaultDropShadow;i.dropShadow={alpha:t.dropShadowAlpha??e.alpha,angle:t.dropShadowAngle??e.angle,blur:t.dropShadowBlur??e.blur,color:t.dropShadowColor??e.color,distance:t.dropShadowDistance??e.distance}}if(t.strokeThickness!==void 0){ue(_e,"strokeThickness is now a part of stroke");const e=t.stroke;let n={};if(Ye.isColorLike(e))n.color=e;else if(e instanceof Ms||e instanceof Cp)n.fill=e;else if(Object.hasOwnProperty.call(e,"color")||Object.hasOwnProperty.call(e,"fill"))n=e;else throw new Error("Invalid stroke value.");i.stroke={...n,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){ue(_e,"gradient fill is now a fill pattern: `new FillGradient(...)`");let e;i.fontSize==null?i.fontSize=Ri.defaultTextStyle.fontSize:typeof i.fontSize=="string"?e=parseInt(i.fontSize,10):e=i.fontSize;const n=new Ms({start:{x:0,y:0},end:{x:0,y:(e||0)*1.7}}),s=t.fillGradientStops.map(l=>Ye.shared.setValue(l).toNumber());s.forEach((l,c)=>{const h=c/(s.length-1);n.addColorStop(h,l)}),i.fill={fill:n}}}class ER{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,e){const n=Ee.get().createCanvas();n.width=t,n.height=e;const s=n.getContext("2d");return{canvas:n,context:s}}getOptimalCanvasAndContext(t,e,n=1){t=Math.ceil(t*n-1e-6),e=Math.ceil(e*n-1e-6),t=Lc(t),e=Lc(e);const s=(t<<17)+(e<<1);this._canvasPool[s]||(this._canvasPool[s]=[]);let l=this._canvasPool[s].pop();return l||(l=this._createCanvasAndContext(t,e)),l}returnCanvasAndContext(t){const e=t.canvas,{width:n,height:s}=e,l=(n<<17)+(s<<1);t.context.clearRect(0,0,n,s),this._canvasPool[l].push(t)}clear(){this._canvasPool={}}}const nA=new ER,eC=1e5;function dp(i,t,e,n=0){if(i.texture===Ut.WHITE&&!i.fill)return Ye.shared.setValue(i.color).setAlpha(i.alpha??1).toHexa();if(i.fill){if(i.fill instanceof Cp){const s=i.fill,l=t.createPattern(s.texture.source.resource,"repeat"),c=s.transform.copyTo(Yt.shared);return c.scale(s.texture.frame.width,s.texture.frame.height),l.setTransform(c),l}else if(i.fill instanceof Ms){const s=i.fill,l=s.type==="linear",c=s.textureSpace==="local";let h=1,f=1;c&&e&&(h=e.width+n,f=e.height+n);let p,y=!1;if(l){const{start:B,end:_}=s;p=t.createLinearGradient(B.x*h,B.y*f,_.x*h,_.y*f),y=Math.abs(_.x-B.x)<Math.abs((_.y-B.y)*.1)}else{const{center:B,innerRadius:_,outerCenter:x,outerRadius:v}=s;p=t.createRadialGradient(B.x*h,B.y*f,_*h,x.x*h,x.y*f,v*h)}if(y&&c&&e){const B=e.lineHeight/f;for(let _=0;_<e.lines.length;_++){const x=(_*e.lineHeight+n/2)/f;s.colorStops.forEach(v=>{const T=x+v.offset*B;p.addColorStop(Math.floor(T*eC)/eC,Ye.shared.setValue(v.color).toHex())})}}else s.colorStops.forEach(B=>{p.addColorStop(B.offset,Ye.shared.setValue(B.color).toHex())});return p}}else{const s=t.createPattern(i.texture.source.resource,"repeat"),l=i.matrix.copyTo(Yt.shared);return l.scale(i.texture.frame.width,i.texture.frame.height),s.setTransform(l),s}return ie("FillStyle not recognised",i),"red"}const V_=class q_ extends T_{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const e={...q_.defaultOptions,...t};this._textureSize=e.textureSize,this._mipmap=e.mipmap;const n=e.style.clone();e.overrideFill&&(n._fill.color=16777215,n._fill.alpha=1,n._fill.texture=Ut.WHITE,n._fill.fill=null),this.applyFillAsTint=e.overrideFill;const s=n.fontSize;n.fontSize=this.baseMeasurementFontSize;const l=cp(n);e.overrideSize?n._stroke&&(n._stroke.width*=this.baseRenderedFontSize/s):n.fontSize=this.baseRenderedFontSize=s,this._style=n,this._skipKerning=e.skipKerning??!1,this.resolution=e.resolution??1,this._padding=e.padding??4,e.textureStyle&&(this._textureStyle=e.textureStyle instanceof $o?e.textureStyle:new $o(e.textureStyle)),this.fontMetrics=hr.measureFont(l),this.lineHeight=n.lineHeight||this.fontMetrics.fontSize||n.fontSize}ensureCharacters(t){const e=hr.graphemeSegmenter(t).filter(S=>!this._currentChars.includes(S)).filter((S,R,O)=>O.indexOf(S)===R);if(!e.length)return;this._currentChars=[...this._currentChars,...e];let n;this._currentPageIndex===-1?n=this._nextPage():n=this.pages[this._currentPageIndex];let{canvas:s,context:l}=n.canvasAndContext,c=n.texture.source;const h=this._style;let f=this._currentX,p=this._currentY,y=this._currentMaxCharHeight;const B=this.baseRenderedFontSize/this.baseMeasurementFontSize,_=this._padding*B;let x=!1;const v=s.width/this.resolution,T=s.height/this.resolution;for(let S=0;S<e.length;S++){const R=e[S],O=hr.measureText(R,h,s,!1);O.lineHeight=O.height;const D=O.width*B,F=Math.ceil((h.fontStyle==="italic"?2:1)*D),j=O.height*B,$=F+_*2,V=j+_*2;if(x=!1,R!==`
`&&R!=="\r"&&R!=="	"&&R!==" "&&(x=!0,y=Math.ceil(Math.max(V,y))),f+$>v&&(p+=y,y=V,f=0,p+y>T)){c.update();const ht=this._nextPage();s=ht.canvasAndContext.canvas,l=ht.canvasAndContext.context,c=ht.texture.source,f=0,p=0,y=0}const gt=D/B-(h.dropShadow?.distance??0)-(h._stroke?.width??0);if(this.chars[R]={id:R.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:gt,kerning:{}},x){this._drawGlyph(l,O,f+_,p+_,B,h);const ht=c.width*B,At=c.height*B,L=new Re(f/ht*c.width,p/At*c.height,$/ht*c.width,V/At*c.height);this.chars[R].texture=new Ut({source:c,frame:L}),f+=Math.ceil($)}}c.update(),this._currentX=f,this._currentY=p,this._currentMaxCharHeight=y,this._skipKerning&&this._applyKerning(e,l)}get pageTextures(){return ue(_e,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,e){const n=this._measureCache;for(let s=0;s<t.length;s++){const l=t[s];for(let c=0;c<this._currentChars.length;c++){const h=this._currentChars[c];let f=n[l];f||(f=n[l]=e.measureText(l).width);let p=n[h];p||(p=n[h]=e.measureText(h).width);let y=e.measureText(l+h).width,B=y-(f+p);B&&(this.chars[l].kerning[h]=B),y=e.measureText(l+h).width,B=y-(f+p),B&&(this.chars[h].kerning[l]=B)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,e=nA.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(e.context,this._style,t);const n=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),s=new Ut({source:new Eu({resource:e.canvas,resolution:n,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(s.source.style=this._textureStyle);const l={canvasAndContext:e,texture:s};return this.pages[this._currentPageIndex]=l,l}_setupContext(t,e,n){e.fontSize=this.baseRenderedFontSize,t.scale(n,n),t.font=cp(e),e.fontSize=this.baseMeasurementFontSize,t.textBaseline=e.textBaseline;const s=e._stroke,l=s?.width??0;if(s&&(t.lineWidth=l,t.lineJoin=s.join,t.miterLimit=s.miterLimit,t.strokeStyle=dp(s,t)),e._fill&&(t.fillStyle=dp(e._fill,t)),e.dropShadow){const c=e.dropShadow,h=Ye.shared.setValue(c.color).toArray(),f=c.blur*n,p=c.distance*n;t.shadowColor=`rgba(${h[0]*255},${h[1]*255},${h[2]*255},${c.alpha})`,t.shadowBlur=f,t.shadowOffsetX=Math.cos(c.angle)*p,t.shadowOffsetY=Math.sin(c.angle)*p}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,e,n,s,l,c){const h=e.text,f=e.fontProperties,y=(c._stroke?.width??0)*l,B=n+y/2,_=s-y/2,x=f.descent*l,v=e.lineHeight*l;c.stroke&&y&&t.strokeText(h,B,_+v-x),c._fill&&t.fillText(h,B,_+v-x)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:e,texture:n}=this.pages[t];nA.returnCanvasAndContext(e),n.destroy(!0)}this.pages=null}};V_.defaultOptions={textureSize:512,style:new Ri,mipmap:!0};let iC=V_;function J_(i,t,e,n){const s={width:0,height:0,offsetY:0,scale:t.fontSize/e.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};s.offsetY=e.baseLineOffset;let l=s.lines[0],c=null,h=!0;const f={width:0,start:0,index:0,positions:[],chars:[]},p=v=>{const T=l.width;for(let S=0;S<f.index;S++){const R=v.positions[S];l.chars.push(v.chars[S]),l.charPositions.push(R+T)}l.width+=v.width,h=!1,f.width=0,f.index=0,f.chars.length=0},y=()=>{let v=l.chars.length-1;if(n){let T=l.chars[v];for(;T===" ";)l.width-=e.chars[T].xAdvance,T=l.chars[--v]}s.width=Math.max(s.width,l.width),l={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},h=!0,s.lines.push(l),s.height+=e.lineHeight},B=e.baseMeasurementFontSize/t.fontSize,_=t.letterSpacing*B,x=t.wordWrapWidth*B;for(let v=0;v<i.length+1;v++){let T;const S=v===i.length;S||(T=i[v]);const R=e.chars[T]||e.chars[" "];if(/(?:\s)/.test(T)||T==="\r"||T===`
`||S){if(!h&&t.wordWrap&&l.width+f.width-_>x?(y(),p(f),S||l.charPositions.push(0)):(f.start=l.width,p(f),S||l.charPositions.push(0)),T==="\r"||T===`
`)l.width!==0&&y();else if(!S){const j=R.xAdvance+(R.kerning[c]||0)+_;l.width+=j,l.spaceWidth=j,l.spacesIndex.push(l.charPositions.length),l.chars.push(T)}}else{const F=R.kerning[c]||0,j=R.xAdvance+F+_;f.positions[f.index++]=f.width+F,f.chars.push(T),f.width+=j}c=T}return y(),t.align==="center"?yR(s):t.align==="right"?BR(s):t.align==="justify"&&CR(s),s}function yR(i){for(let t=0;t<i.lines.length;t++){const e=i.lines[t],n=i.width/2-e.width/2;for(let s=0;s<e.charPositions.length;s++)e.charPositions[s]+=n}}function BR(i){for(let t=0;t<i.lines.length;t++){const e=i.lines[t],n=i.width-e.width;for(let s=0;s<e.charPositions.length;s++)e.charPositions[s]+=n}}function CR(i){const t=i.width;for(let e=0;e<i.lines.length;e++){const n=i.lines[e];let s=0,l=n.spacesIndex[s++],c=0;const h=n.spacesIndex.length,p=(t-n.width)/h;for(let y=0;y<n.charPositions.length;y++)y===l&&(l=n.spacesIndex[s++],c+=p),n.charPositions[y]+=c}}function IR(i){if(i==="")return[];typeof i=="string"&&(i=[i]);const t=[];for(let e=0,n=i.length;e<n;e++){const s=i[e];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);if(s[0].length===0||s[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const l=s[0].charCodeAt(0),c=s[1].charCodeAt(0);if(c<l)throw new Error("[BitmapFont]: Invalid character range.");for(let h=l,f=c;h<=f;h++)t.push(String.fromCharCode(h))}else t.push(...Array.from(s))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}let Pg=0;class _R{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null}}getFont(t,e){let n=`${e.fontFamily}-bitmap`,s=!0;if(e._fill.fill&&!e._stroke)n+=e._fill.fill.styleKey,s=!1;else if(e._stroke||e.dropShadow){let c=e.styleKey;c=c.substring(0,c.lastIndexOf("-")),n=`${c}-bitmap`,s=!1}if(!si.has(n)){const c=new iC({style:e,overrideFill:s,overrideSize:!0,...this.defaultOptions});Pg++,Pg>50&&ie("BitmapText",`You have dynamically created ${Pg} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),c.once("destroy",()=>{Pg--,si.remove(n)}),si.set(n,c)}const l=si.get(n);return l.ensureCharacters?.(t),l}getLayout(t,e,n=!0){const s=this.getFont(t,e),l=hr.graphemeSegmenter(t);return J_(l,e,s,n)}measureText(t,e,n=!0){return this.getLayout(t,e,n)}install(...t){let e=t[0];typeof e=="string"&&(e={name:e,style:t[1],chars:t[2]?.chars,resolution:t[2]?.resolution,padding:t[2]?.padding,skipKerning:t[2]?.skipKerning},ue(_e,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const n=e?.name;if(!n)throw new Error("[BitmapFontManager] Property `name` is required.");e={...this.defaultOptions,...e};const s=e.style,l=s instanceof Ri?s:new Ri(s),c=l._fill.fill!==null&&l._fill.fill!==void 0,h=new iC({style:l,overrideFill:c,skipKerning:e.skipKerning,padding:e.padding,resolution:e.resolution,overrideSize:!1,textureStyle:e.textureStyle}),f=IR(e.chars);return h.ensureCharacters(f.join("")),si.set(`${n}-bitmap`,h),h.once("destroy",()=>si.remove(`${n}-bitmap`)),h}uninstall(t){const e=`${t}-bitmap`,n=si.get(e);n&&n.destroy()}}const HE=new _R;class W_ extends T_{constructor(t,e){super();const{textures:n,data:s}=t;Object.keys(s.pages).forEach(l=>{const c=s.pages[parseInt(l,10)],h=n[c.id];this.pages.push({texture:h})}),Object.keys(s.chars).forEach(l=>{const c=s.chars[l],{frame:h,source:f}=n[c.page],p=new Re(c.x+h.x,c.y+h.y,c.width,c.height),y=new Ut({source:f,frame:p});this.chars[l]={id:l.codePointAt(0),xOffset:c.xOffset,yOffset:c.yOffset,xAdvance:c.xAdvance,kerning:c.kerning??{},texture:y}}),this.baseRenderedFontSize=s.fontSize,this.baseMeasurementFontSize=s.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:s.fontSize},this.baseLineOffset=s.baseLineOffset,this.lineHeight=s.lineHeight,this.fontFamily=s.fontFamily,this.distanceField=s.distanceField??{type:"none",range:0},this.url=e}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:e}=this.pages[t];e.destroy(!0)}this.pages=null}static install(t){HE.install(t)}static uninstall(t){HE.uninstall(t)}}const Vm={test(i){return typeof i=="string"&&i.startsWith("info face=")},parse(i){const t=i.match(/^[a-z]+\s+.+$/gm),e={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const B in t){const _=t[B].match(/^[a-z]+/gm)[0],x=t[B].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),v={};for(const T in x){const S=x[T].split("="),R=S[0],O=S[1].replace(/"/gm,""),D=parseFloat(O),F=isNaN(D)?O:D;v[R]=F}e[_].push(v)}const n={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[s]=e.info,[l]=e.common,[c]=e.distanceField??[];c&&(n.distanceField={range:parseInt(c.distanceRange,10),type:c.fieldType}),n.fontSize=parseInt(s.size,10),n.fontFamily=s.face,n.lineHeight=parseInt(l.lineHeight,10);const h=e.page;for(let B=0;B<h.length;B++)n.pages.push({id:parseInt(h[B].id,10)||0,file:h[B].file});const f={};n.baseLineOffset=n.lineHeight-parseInt(l.base,10);const p=e.char;for(let B=0;B<p.length;B++){const _=p[B],x=parseInt(_.id,10);let v=_.letter??_.char??String.fromCharCode(x);v==="space"&&(v=" "),f[x]=v,n.chars[v]={id:x,page:parseInt(_.page,10)||0,x:parseInt(_.x,10),y:parseInt(_.y,10),width:parseInt(_.width,10),height:parseInt(_.height,10),xOffset:parseInt(_.xoffset,10),yOffset:parseInt(_.yoffset,10),xAdvance:parseInt(_.xadvance,10),kerning:{}}}const y=e.kerning||[];for(let B=0;B<y.length;B++){const _=parseInt(y[B].first,10),x=parseInt(y[B].second,10),v=parseInt(y[B].amount,10);n.chars[f[x]].kerning[f[_]]=v}return n}},nC={test(i){const t=i;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(i){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},e=i.getElementsByTagName("info")[0],n=i.getElementsByTagName("common")[0],s=i.getElementsByTagName("distanceField")[0];s&&(t.distanceField={type:s.getAttribute("fieldType"),range:parseInt(s.getAttribute("distanceRange"),10)});const l=i.getElementsByTagName("page"),c=i.getElementsByTagName("char"),h=i.getElementsByTagName("kerning");t.fontSize=parseInt(e.getAttribute("size"),10),t.fontFamily=e.getAttribute("face"),t.lineHeight=parseInt(n.getAttribute("lineHeight"),10);for(let p=0;p<l.length;p++)t.pages.push({id:parseInt(l[p].getAttribute("id"),10)||0,file:l[p].getAttribute("file")});const f={};t.baseLineOffset=t.lineHeight-parseInt(n.getAttribute("base"),10);for(let p=0;p<c.length;p++){const y=c[p],B=parseInt(y.getAttribute("id"),10);let _=y.getAttribute("letter")??y.getAttribute("char")??String.fromCharCode(B);_==="space"&&(_=" "),f[B]=_,t.chars[_]={id:B,page:parseInt(y.getAttribute("page"),10)||0,x:parseInt(y.getAttribute("x"),10),y:parseInt(y.getAttribute("y"),10),width:parseInt(y.getAttribute("width"),10),height:parseInt(y.getAttribute("height"),10),xOffset:parseInt(y.getAttribute("xoffset"),10),yOffset:parseInt(y.getAttribute("yoffset"),10),xAdvance:parseInt(y.getAttribute("xadvance"),10),kerning:{}}}for(let p=0;p<h.length;p++){const y=parseInt(h[p].getAttribute("first"),10),B=parseInt(h[p].getAttribute("second"),10),_=parseInt(h[p].getAttribute("amount"),10);t.chars[f[B]].kerning[f[y]]=_}return t}},aC={test(i){return typeof i=="string"&&i.includes("<font>")?nC.test(Ee.get().parseXML(i)):!1},parse(i){return nC.parse(Ee.get().parseXML(i))}},xR=[".xml",".fnt"],QR={extension:{type:J.CacheParser,name:"cacheBitmapFont"},test:i=>i instanceof W_,getCacheableAssets(i,t){const e={};return i.forEach(n=>{e[n]=t,e[`${n}-bitmap`]=t}),e[`${t.fontFamily}-bitmap`]=t,e}},vR={extension:{type:J.LoadParser,priority:oA.Normal},name:"loadBitmapFont",test(i){return xR.includes(Oa.extname(i).toLowerCase())},async testParse(i){return Vm.test(i)||aC.test(i)},async parse(i,t,e){const n=Vm.test(i)?Vm.parse(i):aC.parse(i),{src:s}=t,{pages:l}=n,c=[],h=n.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let B=0;B<l.length;++B){const _=l[B].file;let x=Oa.join(Oa.dirname(s),_);x=xE(x,s),c.push({src:x,data:h})}const f=await e.load(c),p=c.map(B=>f[B.src]);return new W_({data:n,textures:p},s)},async load(i,t){return await(await Ee.get().fetch(i)).text()},async unload(i,t,e){await Promise.all(i.pages.map(n=>e.unload(n.texture.source._sourceOrigin))),i.destroy()}};class bR{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(e=>{this._assetList.push(e)}),this.verbose,this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<e;n++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const SR={extension:{type:J.CacheParser,name:"cacheTextureArray"},test:i=>Array.isArray(i)&&i.every(t=>t instanceof Ut),getCacheableAssets:(i,t)=>{const e={};return i.forEach(n=>{t.forEach((s,l)=>{e[n+(l===0?"":l+1)]=s})}),e}};async function Z_(i){if("Image"in globalThis)return new Promise(t=>{const e=new Image;e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},e.src=i});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(i)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const TR={extension:{type:J.DetectionParser,priority:1},test:async()=>Z_("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async i=>[...i,"avif"],remove:async i=>i.filter(t=>t!=="avif")},sC=["png","jpg","jpeg"],RR={extension:{type:J.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async i=>[...i,...sC],remove:async i=>i.filter(t=>!sC.includes(t))},DR="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function T0(i){return DR?!1:document.createElement("video").canPlayType(i)!==""}const MR={extension:{type:J.DetectionParser,priority:0},test:async()=>T0("video/mp4"),add:async i=>[...i,"mp4","m4v"],remove:async i=>i.filter(t=>t!=="mp4"&&t!=="m4v")},wR={extension:{type:J.DetectionParser,priority:0},test:async()=>T0("video/ogg"),add:async i=>[...i,"ogv"],remove:async i=>i.filter(t=>t!=="ogv")},GR={extension:{type:J.DetectionParser,priority:0},test:async()=>T0("video/webm"),add:async i=>[...i,"webm"],remove:async i=>i.filter(t=>t!=="webm")},NR={extension:{type:J.DetectionParser,priority:0},test:async()=>Z_("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async i=>[...i,"webp"],remove:async i=>i.filter(t=>t!=="webp")};class UR{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,n)=>(this._parsersValidated=!1,t[e]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const n={promise:null,parser:null};return n.promise=(async()=>{let s=null,l=null;if(e.loadParser&&(l=this._parserHash[e.loadParser],l||ie(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!l){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&h.test?.(t,e,this)){l=h;break}}if(!l)return ie(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await l.load(t,e,this),n.parser=l;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await h.testParse?.(s,e,this)&&(s=await h.parse(s,e,this)||s,n.parser=h)}return s})(),n}async load(t,e){this._parsersValidated||this._validateParsers();let n=0;const s={},l=Ap(t),c=cr(t,p=>({alias:[p],src:p,data:{}})),h=c.length,f=c.map(async p=>{const y=Oa.toAbsolute(p.src);if(!s[p.src])try{this.promiseCache[y]||(this.promiseCache[y]=this._getLoadPromiseAndParser(y,p)),s[p.src]=await this.promiseCache[y].promise,e&&e(++n/h)}catch(B){throw delete this.promiseCache[y],delete s[p.src],new Error(`[Loader.load] Failed to load ${y}.
${B}`)}});return await Promise.all(f),l?s[c[0].src]:s}async unload(t){const n=cr(t,s=>({alias:[s],src:s})).map(async s=>{const l=Oa.toAbsolute(s.src),c=this.promiseCache[l];if(c){const h=await c.promise;delete this.promiseCache[l],await c.parser?.unload?.(h,s,this)}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,e)=>(e.name?t[e.name]&&ie(`[Assets] loadParser name conflict "${e.name}"`):ie("[Assets] loadParser should have a name"),{...t,[e.name]:e}),{})}}function $c(i,t){if(Array.isArray(t)){for(const e of t)if(i.startsWith(`data:${e}`))return!0;return!1}return i.startsWith(`data:${t}`)}function th(i,t){const e=i.split("?")[0],n=Oa.extname(e).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}const OR=".json",HR="application/json",kR={extension:{type:J.LoadParser,priority:oA.Low},name:"loadJson",test(i){return $c(i,HR)||th(i,OR)},async load(i){return await(await Ee.get().fetch(i)).json()}},LR=".txt",FR="text/plain",PR={name:"loadTxt",extension:{type:J.LoadParser,priority:oA.Low,name:"loadTxt"},test(i){return $c(i,FR)||th(i,LR)},async load(i){return await(await Ee.get().fetch(i)).text()}},zR=["normal","bold","100","200","300","400","500","600","700","800","900"],YR=[".ttf",".otf",".woff",".woff2"],KR=["font/ttf","font/otf","font/woff","font/woff2"],jR=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function XR(i){const t=Oa.extname(i),s=Oa.basename(i,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(h=>h.charAt(0).toUpperCase()+h.slice(1));let l=s.length>0;for(const h of s)if(!h.match(jR)){l=!1;break}let c=s.join(" ");return l||(c=`"${c.replace(/[\\"]/g,"\\$&")}"`),c}const VR=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function qR(i){return VR.test(i)?i:encodeURI(i)}const JR={extension:{type:J.LoadParser,priority:oA.Low},name:"loadWebFont",test(i){return $c(i,KR)||th(i,YR)},async load(i,t){const e=Ee.get().getFontFaceSet();if(e){const n=[],s=t.data?.family??XR(i),l=t.data?.weights?.filter(h=>zR.includes(h))??["normal"],c=t.data??{};for(let h=0;h<l.length;h++){const f=l[h],p=new FontFace(s,`url(${qR(i)})`,{...c,weight:f});await p.load(),e.add(p),n.push(p)}return si.set(`${s}-and-url`,{url:i,fontFaces:n}),n.length===1?n[0]:n}return ie("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(i){(Array.isArray(i)?i:[i]).forEach(t=>{si.remove(`${t.family}-and-url`),Ee.get().getFontFaceSet().delete(t)})}};function R0(i,t=1){const e=Jc.RETINA_PREFIX?.exec(i);return e?parseFloat(e[1]):t}function D0(i,t,e){i.label=e,i._sourceOrigin=e;const n=new Ut({source:i,label:e}),s=()=>{delete t.promiseCache[e],si.has(e)&&si.remove(e)};return n.source.once("destroy",()=>{t.promiseCache[e]&&(ie("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),s())}),n.once("destroy",()=>{i.destroyed||(ie("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),n}const WR=".svg",ZR="image/svg+xml",$R={extension:{type:J.LoadParser,priority:oA.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(i){return $c(i,ZR)||th(i,WR)},async load(i,t,e){return t.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext?eD(i):tD(i,t,e,this.config.crossOrigin)},unload(i){i.destroy(!0)}};async function tD(i,t,e,n){const l=await(await Ee.get().fetch(i)).blob(),c=URL.createObjectURL(l),h=new Image;h.src=c,h.crossOrigin=n,await h.decode(),URL.revokeObjectURL(c);const f=document.createElement("canvas"),p=f.getContext("2d"),y=t.data?.resolution||R0(i),B=t.data?.width??h.width,_=t.data?.height??h.height;f.width=B*y,f.height=_*y,p.drawImage(h,0,0,B*y,_*y);const{parseAsGraphicsContext:x,...v}=t.data??{},T=new Eu({resource:f,alphaMode:"premultiply-alpha-on-upload",resolution:y,...v});return D0(T,e,i)}async function eD(i){const e=await(await Ee.get().fetch(i)).text(),n=new Ss;return n.svg(e),n}const iD=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let wc=null,kE=class{constructor(){wc||(wc=URL.createObjectURL(new Blob([iD],{type:"application/javascript"}))),this.worker=new Worker(wc)}};kE.revokeObjectURL=function(){wc&&(URL.revokeObjectURL(wc),wc=null)};const nD=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Gc=null;class $_{constructor(){Gc||(Gc=URL.createObjectURL(new Blob([nD],{type:"application/javascript"}))),this.worker=new Worker(Gc)}}$_.revokeObjectURL=function(){Gc&&(URL.revokeObjectURL(Gc),Gc=null)};let rC=0,qm;class aD{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:e}=new kE;e.addEventListener("message",n=>{e.terminate(),kE.revokeObjectURL(),t(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,e){return this._run("loadImageBitmap",[t,e?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){qm===void 0&&(qm=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<qm&&(this._createdWorkers++,t=new $_().worker,t.addEventListener("message",e=>{this._complete(e.data),this._returnWorker(e.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const n=new Promise((s,l)=>{this._queue.push({id:t,arguments:e,resolve:s,reject:l})});return this._next(),n}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const e=this._queue.pop(),n=e.id;this._resolveHash[rC]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:rC++,id:n})}}const oC=new aD,sD=[".jpeg",".jpg",".png",".webp",".avif"],rD=["image/jpeg","image/png","image/webp","image/avif"];async function oD(i,t){const e=await Ee.get().fetch(i);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${i}: ${e.status} ${e.statusText}`);const n=await e.blob();return t?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(n,{premultiplyAlpha:"none"}):createImageBitmap(n)}const tx={name:"loadTextures",extension:{type:J.LoadParser,priority:oA.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(i){return $c(i,rD)||th(i,sD)},async load(i,t,e){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await oC.isImageBitmapSupported()?n=await oC.loadImageBitmap(i,t):n=await oD(i,t):n=await new Promise((l,c)=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=i,n.complete?l(n):(n.onload=()=>{l(n)},n.onerror=c)});const s=new Eu({resource:n,alphaMode:"premultiply-alpha-on-upload",resolution:t.data?.resolution||R0(i),...t.data});return D0(s,e,i)},unload(i){i.destroy(!0)}},ex=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],lD=ex.map(i=>`video/${i.substring(1)}`);function AD(i,t,e){e===void 0&&!t.startsWith("data:")?i.crossOrigin=cD(t):e!==!1&&(i.crossOrigin=typeof e=="string"?e:"anonymous")}function uD(i){return new Promise((t,e)=>{i.addEventListener("canplaythrough",n),i.addEventListener("error",s),i.load();function n(){l(),t()}function s(c){l(),e(c)}function l(){i.removeEventListener("canplaythrough",n),i.removeEventListener("error",s)}})}function cD(i,t=globalThis.location){if(i.startsWith("data:"))return"";t||(t=globalThis.location);const e=new URL(i,document.baseURI);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}const hD={name:"loadVideo",extension:{type:J.LoadParser,name:"loadVideo"},test(i){const t=$c(i,lD),e=th(i,ex);return t||e},async load(i,t,e){const n={...tp.defaultOptions,resolution:t.data?.resolution||R0(i),alphaMode:t.data?.alphaMode||await e_(),...t.data},s=document.createElement("video"),l={preload:n.autoLoad!==!1?"auto":void 0,"webkit-playsinline":n.playsinline!==!1?"":void 0,playsinline:n.playsinline!==!1?"":void 0,muted:n.muted===!0?"":void 0,loop:n.loop===!0?"":void 0,autoplay:n.autoPlay!==!1?"":void 0};Object.keys(l).forEach(f=>{const p=l[f];p!==void 0&&s.setAttribute(f,p)}),n.muted===!0&&(s.muted=!0),AD(s,i,n.crossorigin);const c=document.createElement("source");let h;if(i.startsWith("data:"))h=i.slice(5,i.indexOf(";"));else if(!i.startsWith("blob:")){const f=i.split("?")[0].slice(i.lastIndexOf(".")+1).toLowerCase();h=tp.MIME_TYPES[f]||`video/${f}`}return c.src=i,h&&(c.type=h),new Promise(f=>{const p=async()=>{const y=new tp({...n,resource:s});s.removeEventListener("canplay",p),t.data.preload&&await uD(s),f(D0(y,e,i))};n.preload&&!n.autoPlay&&s.load(),s.addEventListener("canplay",p),s.appendChild(c)})},unload(i){i.destroy(!0)}},ix={extension:{type:J.ResolveParser,name:"resolveTexture"},test:tx.test,parse:i=>({resolution:parseFloat(Jc.RETINA_PREFIX.exec(i)?.[1]??"1"),format:i.split(".").pop(),src:i})},dD={extension:{type:J.ResolveParser,priority:-2,name:"resolveJson"},test:i=>Jc.RETINA_PREFIX.test(i)&&i.endsWith(".json"),parse:ix.parse};class fD{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Jc,this.loader=new UR,this.cache=si,this._backgroundLoader=new bR(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){ie("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let l=t.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const e=t.texturePreference?.resolution??1,n=typeof e=="number"?[e]:e,s=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:n}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,e){this._initialized||await this.init();const n=Ap(t),s=cr(t).map(h=>{if(typeof h!="string"){const f=this.resolver.getAlias(h);return f.some(p=>!this.resolver.hasKey(p))&&this.add(h),Array.isArray(f)?f[0]:f}return this.resolver.hasKey(h)||this.add({alias:h,src:h}),h}),l=this.resolver.resolve(s),c=await this._mapLoadToResolve(l,e);return n?c[s[0]]:c}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let n=!1;typeof t=="string"&&(n=!0,t=[t]);const s=this.resolver.resolveBundle(t),l={},c=Object.keys(s);let h=0,f=0;const p=()=>{e?.(++h/f)},y=c.map(B=>{const _=s[B];return f+=Object.keys(_).length,this._mapLoadToResolve(_,p).then(x=>{l[B]=x})});return await Promise.all(y),n?l[t[0]]:l}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return si.get(t);const e={};for(let n=0;n<t.length;n++)e[n]=si.get(t[n]);return e}async _mapLoadToResolve(t,e){const n=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const s=await this.loader.load(n,e);this._backgroundLoader.active=!0;const l={};return n.forEach(c=>{const h=s[c.src],f=[c.src];c.alias&&f.push(...c.alias),f.forEach(p=>{l[p]=h}),si.set(f,h)}),l}async unload(t){this._initialized||await this.init();const e=cr(t).map(s=>typeof s!="string"?s.src:s),n=this.resolver.resolve(e);await this._unloadFromResolved(n)}async unloadBundle(t){this._initialized||await this.init(),t=cr(t);const e=this.resolver.resolveBundle(t),n=Object.keys(e).map(s=>this._unloadFromResolved(e[s]));await Promise.all(n)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach(n=>{si.remove(n.src)}),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const n of t.detections)t.skipDetections||await n.test()?e=await n.add(e):t.skipDetections||(e=await n.remove(e));return e=e.filter((n,s)=>e.indexOf(n)===s),e}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(n=>n in t).forEach(n=>{e.config[n]=t[n]})})}}const oo=new fD;Xt.handleByList(J.LoadParser,oo.loader.parsers).handleByList(J.ResolveParser,oo.resolver.parsers).handleByList(J.CacheParser,oo.cache.parsers).handleByList(J.DetectionParser,oo.detections);Xt.add(SR,RR,TR,NR,MR,wR,GR,kR,PR,JR,$R,tx,hD,vR,QR,ix,dD);const lC={loader:J.LoadParser,resolver:J.ResolveParser,cache:J.CacheParser,detection:J.DetectionParser};Xt.handle(J.Asset,i=>{const t=i.ref;Object.entries(lC).filter(([e])=>!!t[e]).forEach(([e,n])=>Xt.add(Object.assign(t[e],{extension:t[e].extension??n})))},i=>{const t=i.ref;Object.keys(lC).filter(e=>!!t[e]).forEach(e=>Xt.remove(t[e]))});class nx{constructor(t){this._attachedDomElements=[],this._renderer=t,this._renderer.runners.postrender.add(this),this._domElement=document.createElement("div"),this._domElement.style.position="absolute",this._domElement.style.top="0",this._domElement.style.left="0",this._domElement.style.pointerEvents="none",this._domElement.style.zIndex="1000"}addRenderable(t,e){this._attachedDomElements.includes(t)||this._attachedDomElements.push(t)}updateRenderable(t){}validateRenderable(t){return!0}postrender(){const t=this._attachedDomElements;if(t.length===0){this._domElement.remove();return}const e=this._renderer.view.canvas;this._domElement.parentNode!==e.parentNode&&e.parentNode?.appendChild(this._domElement);const n=parseFloat(e.style.width)/e.width*this._renderer.resolution,s=parseFloat(e.style.height)/e.height*this._renderer.resolution;this._domElement.style.transform=`translate(${e.offsetLeft}px, ${e.offsetTop}px) scale(${n}, ${s})`;for(let l=0;l<t.length;l++){const c=t[l],h=c.element;if(!c.parent||c.globalDisplayStatus<7)h?.remove(),t.splice(l,1),l--;else{this._domElement.contains(h)||(h.style.position="absolute",h.style.pointerEvents="auto",this._domElement.appendChild(h));const f=c.worldTransform,p=c._anchor,y=c.width*p.x,B=c.height*p.y;h.style.transformOrigin=`${y}px ${B}px`,h.style.transform=`matrix(${f.a}, ${f.b}, ${f.c}, ${f.d}, ${f.tx-y}, ${f.ty-B})`,h.style.opacity=c.groupAlpha.toString()}}}destroy(){this._renderer.runners.postrender.remove(this);for(let t=0;t<this._attachedDomElements.length;t++)this._attachedDomElements[t].element?.remove();this._attachedDomElements.length=0,this._domElement.remove(),this._renderer=null}}nx.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"dom"};class gD{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this._tickerAdded||!this.domElement||(Mn.system.add(this._tickerUpdate,this,Yc.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&(Mn.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events._rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(this.events.supportsPointerEvents?new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY,pointerType:t.pointerType,pointerId:t.pointerId}):new MouseEvent("mousemove",{clientX:t.clientX,clientY:t.clientY}))}_tickerUpdate(t){this._deltaTime+=t.deltaTime,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this._update())}}const tA=new gD;class fp extends Xd{constructor(){super(...arguments),this.client=new We,this.movement=new We,this.offset=new We,this.global=new We,this.screen=new We}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,n,s,l,c,h,f,p,y,B,_,x,v,T){throw new Error("Method not implemented.")}}class Ar extends fp{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Xc extends fp{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Xc.DOM_DELTA_PIXEL=0;Xc.DOM_DELTA_LINE=1;Xc.DOM_DELTA_PAGE=2;const pD=2048,mD=new We,yd=new We;class ED{constructor(t){this.dispatch=new as,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((n,s)=>n.priority-s.priority)}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let n=0,s=e.length;n<s;n++)e[n].fn(t);else ie(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,e){tA.pauseUpdate=!0;const s=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",l=this[s](this.rootTarget,this.rootTarget.eventMode,mD.set(t,e),this.hitTestFn,this.hitPruneFn);return l&&l[0]}propagate(t,e){if(!t.target)return;const n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let s=0,l=n.length-1;s<l;s++)if(t.currentTarget=n[s],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let s=n.length-2;s>=0;s--)if(t.currentTarget=n[s],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e,n=this._allInteractiveElements){if(n.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const s=Array.isArray(e)?e:[e];for(let l=n.length-1;l>=0;l--)s.forEach(c=>{t.currentTarget=n[l],this.notifyTarget(t,c)})}propagationPath(t){const e=[t];for(let n=0;n<pD&&t!==this.rootTarget&&t.parent;n++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,n,s,l,c=!1){let h=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(tA.pauseUpdate=!1),t.interactiveChildren&&t.children){const y=t.children;for(let B=y.length-1;B>=0;B--){const _=y[B],x=this.hitTestMoveRecursive(_,this._isInteractive(e)?e:_.eventMode,n,s,l,c||l(t,n));if(x){if(x.length>0&&!x[x.length-1].parent)continue;const v=t.isInteractive();(x.length>0||v)&&(v&&this._allInteractiveElements.push(t),x.push(t)),this._hitElements.length===0&&(this._hitElements=x),h=!0}}}const f=this._isInteractive(e),p=t.isInteractive();return p&&p&&this._allInteractiveElements.push(t),c||this._hitElements.length>0?null:h?this._hitElements:f&&!l(t,n)&&s(t,n)?p?[t]:[]:null}hitTestRecursive(t,e,n,s,l){if(this._interactivePrune(t)||l(t,n))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(tA.pauseUpdate=!1),t.interactiveChildren&&t.children){const f=t.children,p=n;for(let y=f.length-1;y>=0;y--){const B=f[y],_=this.hitTestRecursive(B,this._isInteractive(e)?e:B.eventMode,p,s,l);if(_){if(_.length>0&&!_[_.length-1].parent)continue;const x=t.isInteractive();return(_.length>0||x)&&_.push(t),_}}}const c=this._isInteractive(e),h=t.isInteractive();return c&&s(t,n)?h?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!t||!t.visible||!t.renderable||!t.measurable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren}hitPruneFn(t,e){if(t.hitArea&&(t.worldTransform.applyInverse(e,yd),!t.hitArea.contains(yd.x,yd.y)))return!0;if(t.effects&&t.effects.length)for(let n=0;n<t.effects.length;n++){const s=t.effects[n];if(s.containsPoint&&!s.containsPoint(e,this.hitTestFn))return!0}return!1}hitTestFn(t,e){return t.hitArea?!0:t?.containsPoint?(t.worldTransform.applyInverse(e,yd),t.containsPoint(yd)):!1}notifyTarget(t,e){if(!t.currentTarget.isInteractive())return;e??(e=t.type);const n=`on${e}`;t.currentTarget[n]?.(t);const s=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this._notifyListeners(t,s),t.eventPhase===t.AT_TARGET&&this._notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof Ar)){ie("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),e.pointerType==="touch")this.dispatchEvent(e,"touchstart");else if(e.pointerType==="mouse"||e.pointerType==="pen"){const s=e.button===2;this.dispatchEvent(e,s?"rightdown":"mousedown")}const n=this.trackingData(t.pointerId);n.pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){if(!(t instanceof Ar)){ie("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const e=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const n=e.pointerType==="mouse"||e.pointerType==="pen",s=this.trackingData(t.pointerId),l=this.findMountedTarget(s.overTargets);if(s.overTargets?.length>0&&l!==e.target){const f=t.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(t,f,l);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!e.composedPath().includes(l)){const y=this.createPointerEvent(t,"pointerleave",l);for(y.eventPhase=y.AT_TARGET;y.target&&!e.composedPath().includes(y.target);)y.currentTarget=y.target,this.notifyTarget(y),n&&this.notifyTarget(y,"mouseleave"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(p)}if(l!==e.target){const f=t.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(e,f);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let y=l?.parent;for(;y&&y!==this.rootTarget.parent&&y!==e.target;)y=y.parent;if(!y||y===this.rootTarget.parent){const _=this.clonePointerEvent(e,"pointerenter");for(_.eventPhase=_.AT_TARGET;_.target&&_.target!==l&&_.target!==this.rootTarget.parent;)_.currentTarget=_.target,this.notifyTarget(_),n&&this.notifyTarget(_,"mouseenter"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(p)}const c=[],h=this.enableGlobalMoveEvents??!0;this.moveOnAll?c.push("pointermove"):this.dispatchEvent(e,"pointermove"),h&&c.push("globalpointermove"),e.pointerType==="touch"&&(this.moveOnAll?c.splice(1,0,"touchmove"):this.dispatchEvent(e,"touchmove"),h&&c.push("globaltouchmove")),n&&(this.moveOnAll?c.splice(1,0,"mousemove"):this.dispatchEvent(e,"mousemove"),h&&c.push("globalmousemove"),this.cursor=e.target?.cursor),c.length>0&&this.all(e,c),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=e.composedPath(),this.freeEvent(e)}mapPointerOver(t){if(!(t instanceof Ar)){ie("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),n=this.createPointerEvent(t),s=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),s&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=n.target?.cursor);const l=this.clonePointerEvent(n,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==this.rootTarget.parent;)l.currentTarget=l.target,this.notifyTarget(l),s&&this.notifyTarget(l,"mouseenter"),l.target=l.target.parent;e.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(l)}mapPointerOut(t){if(!(t instanceof Ar)){ie("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId);if(e.overTargets){const n=t.pointerType==="mouse"||t.pointerType==="pen",s=this.findMountedTarget(e.overTargets),l=this.createPointerEvent(t,"pointerout",s);this.dispatchEvent(l),n&&this.dispatchEvent(l,"mouseout");const c=this.createPointerEvent(t,"pointerleave",s);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),n&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;e.overTargets=null,this.freeEvent(l),this.freeEvent(c)}this.cursor=null}mapPointerUp(t){if(!(t instanceof Ar)){ie("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=performance.now(),n=this.createPointerEvent(t);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const h=n.button===2;this.dispatchEvent(n,h?"rightup":"mouseup")}const s=this.trackingData(t.pointerId),l=this.findMountedTarget(s.pressTargetsByButton[t.button]);let c=l;if(l&&!n.composedPath().includes(l)){let h=l;for(;h&&!n.composedPath().includes(h);){if(n.currentTarget=h,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const f=n.button===2;this.notifyTarget(n,f?"rightupoutside":"mouseupoutside")}h=h.parent}delete s.pressTargetsByButton[t.button],c=h}if(c){const h=this.clonePointerEvent(n,"click");h.target=c,h.path=null,s.clicksByButton[t.button]||(s.clicksByButton[t.button]={clickCount:0,target:h.target,timeStamp:e});const f=s.clicksByButton[t.button];if(f.target===h.target&&e-f.timeStamp<200?++f.clickCount:f.clickCount=1,f.target=h.target,f.timeStamp=e,h.detail=f.clickCount,h.pointerType==="mouse"){const p=h.button===2;this.dispatchEvent(h,p?"rightclick":"click")}else h.pointerType==="touch"&&this.dispatchEvent(h,"tap");this.dispatchEvent(h,"pointertap"),this.freeEvent(h)}this.freeEvent(n)}mapPointerUpOutside(t){if(!(t instanceof Ar)){ie("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),n=this.findMountedTarget(e.pressTargetsByButton[t.button]),s=this.createPointerEvent(t);if(n){let l=n;for(;l;)s.currentTarget=l,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),l=l.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(s)}mapWheel(t){if(!(t instanceof Xc)){ie("EventBoundary cannot map a non-wheel event as a wheel event");return}const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let n=1;n<t.length&&t[n].parent===e;n++)e=t[n];return e}createPointerEvent(t,e,n){const s=this.allocateEvent(Ar);return this.copyPointerData(t,s),this.copyMouseData(t,s),this.copyData(t,s),s.nativeEvent=t.nativeEvent,s.originalEvent=t,s.target=n??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],typeof e=="string"&&(s.type=e),s}createWheelEvent(t){const e=this.allocateEvent(Xc);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const n=this.allocateEvent(Ar);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=e??n.type,n}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof Ar&&e instanceof Ar&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof fp&&e instanceof fp&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.defaultPrevented=!1,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}_notifyListeners(t,e){const n=t.currentTarget._events[e];if(n)if("fn"in n)n.once&&t.currentTarget.removeListener(e,n.fn,void 0,!0),n.fn.call(n.context,t);else for(let s=0,l=n.length;s<l&&!t.propagationImmediatelyStopped;s++)n[s].once&&t.currentTarget.removeListener(e,n[s].fn,void 0,!0),n[s].fn.call(n[s].context,t)}}const yD=1,BD={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},M0=class LE{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new ED(null),tA.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new Ar(null),this._rootWheelEvent=new Xc(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...LE.defaultEventFeatures},{set:(e,n,s)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),e[n]=s,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{canvas:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n,LE._defaultEventMode=t.eventMode??"passive",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(t){t||(t="default");let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this._currentCursor===t)return;this._currentCursor=t;const n=this.cursorStyles[t];if(n)switch(typeof n){case"string":e&&(this.domElement.style.cursor=n);break;case"function":n(t);break;case"object":e&&Object.assign(this.domElement.style,n);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this._rootPointerEvent}_onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this._normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let n=0,s=e.length;n<s;n++){const l=e[n],c=this._bootstrapEvent(this._rootPointerEvent,l);this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,tA.pointerMoved();const e=this._normalizeToPointerData(t);for(let n=0,s=e.length;n<s;n++){const l=this._bootstrapEvent(this._rootPointerEvent,e[n]);this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const n=e!==this.domElement?"outside":"",s=this._normalizeToPointerData(t);for(let l=0,c=s.length;l<c;l++){const h=this._bootstrapEvent(this._rootPointerEvent,s[l]);h.type+=n,this.rootBoundary.mapEvent(h)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this._normalizeToPointerData(t);for(let n=0,s=e.length;n<s;n++){const l=this._bootstrapEvent(this._rootPointerEvent,e[n]);this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this._removeEvents(),this.domElement=t,tA.domElement=t,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;tA.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;tA.removeTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(t,e,n){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},l=1/this.resolution;t.x=(e-s.left)*(this.domElement.width/s.width)*l,t.y=(n-s.top)*(this.domElement.height/s.height)*l}_normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let n=0,s=t.changedTouches.length;n<s;n++){const l=t.changedTouches[n];typeof l.button>"u"&&(l.button=0),typeof l.buttons>"u"&&(l.buttons=1),typeof l.isPrimary>"u"&&(l.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof l.width>"u"&&(l.width=l.radiusX||1),typeof l.height>"u"&&(l.height=l.radiusY||1),typeof l.tiltX>"u"&&(l.tiltX=0),typeof l.tiltY>"u"&&(l.tiltY=0),typeof l.pointerType>"u"&&(l.pointerType="touch"),typeof l.pointerId>"u"&&(l.pointerId=l.identifier||0),typeof l.pressure>"u"&&(l.pressure=l.force||.5),typeof l.twist>"u"&&(l.twist=0),typeof l.tangentialPressure>"u"&&(l.tangentialPressure=0),typeof l.layerX>"u"&&(l.layerX=l.offsetX=l.clientX),typeof l.layerY>"u"&&(l.layerY=l.offsetY=l.clientY),l.isNormalized=!0,l.type=t.type,e.push(l)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const n=t;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=yD),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,e.push(n)}else e.push(t);return e}normalizeWheelEvent(t){const e=this._rootWheelEvent;return this._transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}_bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this._transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=BD[t.type]||t.type),t}_transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};M0.extension={name:"events",type:[J.WebGLSystem,J.CanvasSystem,J.WebGPUSystem],priority:-1};M0.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let ax=M0;const CD={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return this.eventMode==="dynamic"||this.eventMode==="static"},set interactive(i){this.eventMode=i?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??ax.defaultEventMode},set eventMode(i){this._internalEventMode=i},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(i,t,e){const n=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,s=typeof e=="object"?e.signal:void 0,l=typeof e=="object"?e.once===!0:!1,c=typeof t=="function"?void 0:t;i=n?`${i}capture`:i;const h=typeof t=="function"?t:t.handleEvent,f=this;s&&s.addEventListener("abort",()=>{f.off(i,h,c)}),l?f.once(i,h,c):f.on(i,h,c)},removeEventListener(i,t,e){const n=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,s=typeof t=="function"?void 0:t;i=n?`${i}capture`:i,t=typeof t=="function"?t:t.handleEvent,this.off(i,t,s)},dispatchEvent(i){if(!(i instanceof Xd))throw new Error("Container cannot propagate events outside of the Federated Events API");return i.defaultPrevented=!1,i.path=null,i.target=this,i.manager.dispatchEvent(i),!i.defaultPrevented}};class sx{constructor(t){this._renderer=t}push(t,e,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:e,filterEffect:t})}pop(t,e,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(t){t.action==="pushFilter"?this._renderer.filter.push(t):t.action==="popFilter"&&this._renderer.filter.pop()}destroy(){this._renderer=null}}sx.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"filter"};function ID(i,t){t.clear();const e=t.matrix;for(let n=0;n<i.length;n++){const s=i[n];s.globalDisplayStatus<7||(t.matrix=s.worldTransform,t.addBounds(s.bounds))}return t.matrix=e,t}const _D=new Zc({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:2*4,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class xD{constructor(){this.skip=!1,this.inputTexture=null,this.backTexture=null,this.filters=null,this.bounds=new pn,this.container=null,this.blendRequired=!1,this.outputRenderSurface=null,this.outputOffset={x:0,y:0},this.globalFrame={x:0,y:0,width:0,height:0}}}class rx{constructor(t){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new pa({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new Jo({}),this.renderer=t}get activeBackTexture(){return this._activeFilterData?.backTexture}push(t){const e=this.renderer,n=t.filterEffect.filters,s=this._pushFilterData();s.skip=!1,s.filters=n,s.container=t.container,s.outputRenderSurface=e.renderTarget.renderSurface;const l=e.renderTarget.renderTarget.colorTexture.source,c=l.resolution,h=l.antialias;if(n.length===0){s.skip=!0;return}const f=s.bounds;if(t.renderables?ID(t.renderables,f):t.filterEffect.filterArea?(f.clear(),f.addRect(t.filterEffect.filterArea),f.applyMatrix(t.container.worldTransform)):t.container.getFastGlobalBounds(!0,f),t.container){const T=(t.container.renderGroup||t.container.parentRenderGroup).cacheToLocalTransform;T&&f.applyMatrix(T)}if(this._calculateFilterBounds(s,e.renderTarget.rootViewPort,h,c,1),s.skip)return;const p=this._getPreviousFilterData();let y=c,B=0,_=0;p&&(B=p.bounds.minX,_=p.bounds.minY,y=p.inputTexture.source._resolution),s.outputOffset.x=f.minX-B,s.outputOffset.y=f.minY-_;const x=s.globalFrame;if(x.x=B*y,x.y=_*y,x.width=l.width*y,x.height=l.height*y,s.backTexture=Ut.EMPTY,s.blendRequired){e.renderTarget.finishRenderPass();const v=e.renderTarget.getRenderTarget(s.outputRenderSurface);s.backTexture=this.getBackTexture(v,f,p?.bounds)}s.inputTexture=qn.getOptimalTexture(f.width,f.height,s.resolution,s.antialias),e.renderTarget.bind(s.inputTexture,!0),e.globalUniforms.push({offset:f})}generateFilteredTexture({texture:t,filters:e}){const n=this._pushFilterData();this._activeFilterData=n,n.skip=!1,n.filters=e;const s=t.source,l=s.resolution,c=s.antialias;if(e.length===0)return n.skip=!0,t;const h=n.bounds;if(h.addRect(t.frame),this._calculateFilterBounds(n,h.rectangle,c,l,0),n.skip)return t;const f=l,p=0,y=0;n.outputOffset.x=-h.minX,n.outputOffset.y=-h.minY;const B=n.globalFrame;B.x=p*f,B.y=y*f,B.width=s.width*f,B.height=s.height*f,n.outputRenderSurface=qn.getOptimalTexture(h.width,h.height,n.resolution,n.antialias),n.backTexture=Ut.EMPTY,n.inputTexture=t,this.renderer.renderTarget.finishRenderPass(),this._applyFiltersToTexture(n,!0);const x=n.outputRenderSurface;return x.source.alphaMode="premultiplied-alpha",x}pop(){const t=this.renderer,e=this._popFilterData();e.skip||(t.globalUniforms.pop(),t.renderTarget.finishRenderPass(),this._activeFilterData=e,this._applyFiltersToTexture(e,!1),e.blendRequired&&qn.returnTexture(e.backTexture),qn.returnTexture(e.inputTexture))}getBackTexture(t,e,n){const s=t.colorTexture.source._resolution,l=qn.getOptimalTexture(e.width,e.height,s,!1);let c=e.minX,h=e.minY;n&&(c-=n.minX,h-=n.minY),c=Math.floor(c*s),h=Math.floor(h*s);const f=Math.ceil(e.width*s),p=Math.ceil(e.height*s);return this.renderer.renderTarget.copyToTexture(t,l,{x:c,y:h},{width:f,height:p},{x:0,y:0}),l}applyFilter(t,e,n,s){const l=this.renderer,c=this._activeFilterData,h=c.outputRenderSurface,f=this._filterGlobalUniforms,p=f.uniforms,y=p.uOutputFrame,B=p.uInputSize,_=p.uInputPixel,x=p.uInputClamp,v=p.uGlobalFrame,T=p.uOutputTexture;h===n?(y[0]=c.outputOffset.x,y[1]=c.outputOffset.y):(y[0]=0,y[1]=0),y[2]=e.frame.width,y[3]=e.frame.height,B[0]=e.source.width,B[1]=e.source.height,B[2]=1/B[0],B[3]=1/B[1],_[0]=e.source.pixelWidth,_[1]=e.source.pixelHeight,_[2]=1/_[0],_[3]=1/_[1],x[0]=.5*_[2],x[1]=.5*_[3],x[2]=e.frame.width*B[2]-.5*_[2],x[3]=e.frame.height*B[3]-.5*_[3],v[0]=c.globalFrame.x,v[1]=c.globalFrame.y,v[2]=c.globalFrame.width,v[3]=c.globalFrame.height,n instanceof Ut&&(n.source.resource=null);const S=this.renderer.renderTarget.getRenderTarget(n);if(l.renderTarget.bind(n,!!s),n instanceof Ut?(T[0]=n.frame.width,T[1]=n.frame.height):(T[0]=S.width,T[1]=S.height),T[2]=S.isRoot?-1:1,f.update(),l.renderPipes.uniformBatch){const R=l.renderPipes.uniformBatch.getUboResource(f);this._globalFilterBindGroup.setResource(R,0)}else this._globalFilterBindGroup.setResource(f,0);this._globalFilterBindGroup.setResource(e.source,1),this._globalFilterBindGroup.setResource(e.source.style,2),t.groups[0]=this._globalFilterBindGroup,l.encoder.draw({geometry:_D,shader:t,state:t._state,topology:"triangle-list"}),l.type===dr.WEBGL&&l.renderTarget.finishRenderPass()}calculateSpriteMatrix(t,e){const n=this._activeFilterData,s=t.set(n.inputTexture._source.width,0,0,n.inputTexture._source.height,n.bounds.minX,n.bounds.minY),l=e.worldTransform.copyTo(Yt.shared),c=e.renderGroup||e.parentRenderGroup;return c&&c.cacheToLocalTransform&&l.prepend(c.cacheToLocalTransform),l.invert(),s.prepend(l),s.scale(1/e.texture.frame.width,1/e.texture.frame.height),s.translate(e.anchor.x,e.anchor.y),s}destroy(){}_applyFiltersToTexture(t,e){const n=t.inputTexture,s=t.bounds,l=t.filters;if(this._globalFilterBindGroup.setResource(n.source.style,2),this._globalFilterBindGroup.setResource(t.backTexture.source,3),l.length===1)l[0].apply(this,n,t.outputRenderSurface,e);else{let c=t.inputTexture;const h=qn.getOptimalTexture(s.width,s.height,c.source._resolution,!1);let f=h,p=0;for(p=0;p<l.length-1;++p){l[p].apply(this,c,f,!0);const B=c;c=f,f=B}l[p].apply(this,c,t.outputRenderSurface,e),qn.returnTexture(h)}}_calculateFilterBounds(t,e,n,s,l){const c=this.renderer,h=t.bounds,f=t.filters;let p=1/0,y=0,B=!0,_=!1,x=!1,v=!0;for(let T=0;T<f.length;T++){const S=f[T];if(p=Math.min(p,S.resolution==="inherit"?s:S.resolution),y+=S.padding,S.antialias==="off"?B=!1:S.antialias==="inherit"&&B&&(B=n),S.clipToViewport||(v=!1),!!!(S.compatibleRenderers&c.type)){x=!1;break}if(S.blendRequired&&!(c.backBuffer?.useBackBuffer??!0)){ie("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),x=!1;break}x=S.enabled||x,_||(_=S.blendRequired)}if(!x){t.skip=!0;return}if(v&&h.fitBounds(0,e.width/s,0,e.height/s),h.scale(p).ceil().scale(1/p).pad((y|0)*l),!h.isPositive){t.skip=!0;return}t.antialias=B,t.resolution=p,t.blendRequired=_}_popFilterData(){return this._filterStackIndex--,this._filterStack[this._filterStackIndex]}_getPreviousFilterData(){let t,e=this._filterStackIndex-1;for(;e>1&&(e--,t=this._filterStack[e],!!t.skip););return t}_pushFilterData(){let t=this._filterStack[this._filterStackIndex];return t||(t=this._filterStack[this._filterStackIndex]=new xD),this._filterStackIndex++,t}}rx.extension={type:[J.WebGLSystem,J.WebGPUSystem],name:"filter"};var QD=`in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;
uniform float uInverse;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha;
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    float a = alphaMul * masky.r * npmAlpha * clip;

    if (uInverse == 1.0) {
        a = 1.0 - a;
    }

    finalColor = original * a;
}
`,vD=`in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`,AC=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
  uInverse:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;
    var uAlpha = filterUniforms.uAlpha;

    var clip = step(3.5,
      step(maskClamp.x, filterUv.x) +
      step(maskClamp.y, filterUv.y) +
      step(filterUv.x, maskClamp.z) +
      step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);

    var a: f32 = alphaMul * mask.r * uAlpha * clip;

    if (filterUniforms.uInverse == 1.0) {
        a = 1.0 - a;
    }

    return source * a;
}
`;class bD extends lA{constructor(t){const{sprite:e,...n}=t,s=new OI(e.texture),l=new pa({uFilterMatrix:{value:new Yt,type:"mat3x3<f32>"},uMaskClamp:{value:s.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:t.inverse?1:0,type:"f32"}}),c=Bu.from({vertex:{source:AC,entryPoint:"mainVertex"},fragment:{source:AC,entryPoint:"mainFragment"}}),h=Wc.from({vertex:vD,fragment:QD,name:"mask-filter"});super({...n,gpuProgram:c,glProgram:h,resources:{filterUniforms:l,uMaskTexture:e.texture.source}}),this.sprite=e,this._textureMatrix=s}set inverse(t){this.resources.filterUniforms.uniforms.uInverse=t?1:0}get inverse(){return this.resources.filterUniforms.uniforms.uInverse===1}apply(t,e,n,s){this._textureMatrix.texture=this.sprite.texture,t.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,t.applyFilter(this,e,n,s)}}function uC(i,t,e,n,s,l,c,h){const f=c-e,p=h-n,y=s-e,B=l-n,_=i-e,x=t-n,v=f*f+p*p,T=f*y+p*B,S=f*_+p*x,R=y*y+B*B,O=y*_+B*x,D=1/(v*R-T*T),F=(R*S-T*O)*D,j=(v*O-T*S)*D;return F>=0&&j>=0&&F+j<1}let uo=class FE extends rA{constructor(t){t instanceof Ss&&(t={context:t});const{context:e,roundPixels:n,...s}=t||{};super({label:"Graphics",...s}),this.renderPipeId="graphics",e?this._context=e:this._context=this._ownedContext=new Ss,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=n??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||t?.context===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,e){return this.context[t](...e),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new FE(this._context.clone()):(this._ownedContext=null,new FE(this._context))}lineStyle(t,e,n){ue(_e,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const s={};return t&&(s.width=t),e&&(s.color=e),n&&(s.alpha=n),this.context.strokeStyle=s,this}beginFill(t,e){ue(_e,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const n={};return t!==void 0&&(n.color=t),e!==void 0&&(n.alpha=e),this.context.fillStyle=n,this}endFill(){ue(_e,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Ss.defaultStrokeStyle.width||t.color!==Ss.defaultStrokeStyle.color||t.alpha!==Ss.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return ue(_e,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return ue(_e,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return ue(_e,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return ue(_e,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return ue(_e,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return ue(_e,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}};const ox=class lx extends Zc{constructor(...t){let e=t[0]??{};e instanceof Float32Array&&(ue(_e,"use new MeshGeometry({ positions, uvs, indices }) instead"),e={positions:e,uvs:t[1],indices:t[2]}),e={...lx.defaultOptions,...e};const n=e.positions||new Float32Array([0,0,1,0,1,1,0,1]);let s=e.uvs;s||(e.positions?s=new Float32Array(n.length):s=new Float32Array([0,0,1,0,1,1,0,1]));const l=e.indices||new Uint32Array([0,1,2,0,2,3]),c=e.shrinkBuffersToFit,h=new ns({data:n,label:"attribute-mesh-positions",shrinkToFit:c,usage:Te.VERTEX|Te.COPY_DST}),f=new ns({data:s,label:"attribute-mesh-uvs",shrinkToFit:c,usage:Te.VERTEX|Te.COPY_DST}),p=new ns({data:l,label:"index-mesh-buffer",shrinkToFit:c,usage:Te.INDEX|Te.COPY_DST});super({attributes:{aPosition:{buffer:h,format:"float32x2",stride:2*4,offset:0},aUV:{buffer:f,format:"float32x2",stride:2*4,offset:0}},indexBuffer:p,topology:e.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(t){this.attributes.aPosition.buffer.data=t}get uvs(){return this.attributes.aUV.buffer.data}set uvs(t){this.attributes.aUV.buffer.data=t}get indices(){return this.indexBuffer.data}set indices(t){this.indexBuffer.data=t}};ox.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let Zd=ox,Ax=class extends rA{constructor(...t){let e=t[0];e instanceof Zc&&(ue(_e,"Mesh: use new Mesh({ geometry, shader }) instead"),e={geometry:e,shader:t[1]},t[3]&&(ue(_e,"Mesh: drawMode argument has been removed, use geometry.topology instead"),e.geometry.topology=t[3]));const{geometry:n,shader:s,texture:l,roundPixels:c,state:h,...f}=e;super({label:"Mesh",...f}),this.renderPipeId="mesh",this._shader=null,this.allowChildren=!1,this.shader=s??null,this.texture=l??s?.texture??Ut.WHITE,this.state=h??Ds.for2d(),this._geometry=n,this._geometry.on("update",this.onViewUpdate,this),this.roundPixels=c??!1}get material(){return ue(_e,"mesh.material property has been removed, use mesh.shader instead"),this._shader}set shader(t){this._shader!==t&&(this._shader=t,this.onViewUpdate())}get shader(){return this._shader}set geometry(t){this._geometry!==t&&(this._geometry?.off("update",this.onViewUpdate,this),t.on("update",this.onViewUpdate,this),this._geometry=t,this.onViewUpdate())}get geometry(){return this._geometry}set texture(t){t||(t=Ut.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this.shader&&(this.shader.texture=t),this._texture=t,this.onViewUpdate())}get texture(){return this._texture}get batched(){return this._shader||(this.state.data&12)!==0?!1:this._geometry instanceof Zd?this._geometry.batchMode==="auto"?this._geometry.positions.length/2<=100:this._geometry.batchMode==="batch":!1}get bounds(){return this._geometry.bounds}updateBounds(){this._bounds=this._geometry.bounds}containsPoint(t){const{x:e,y:n}=t;if(!this.bounds.containsPoint(e,n))return!1;const s=this.geometry.getBuffer("aPosition").data,l=this.geometry.topology==="triangle-strip"?3:1;if(this.geometry.getIndex()){const c=this.geometry.getIndex().data,h=c.length;for(let f=0;f+2<h;f+=l){const p=c[f]*2,y=c[f+1]*2,B=c[f+2]*2;if(uC(e,n,s[p],s[p+1],s[y],s[y+1],s[B],s[B+1]))return!0}}else{const c=s.length/2;for(let h=0;h+2<c;h+=l){const f=h*2,p=(h+1)*2,y=(h+2)*2;if(uC(e,n,s[f],s[f+1],s[p],s[p+1],s[y],s[y+1]))return!0}}return!1}destroy(t){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const n=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(n)}this._geometry?.off("update",this.onViewUpdate,this),this._texture=null,this._geometry=null,this._shader=null,this._gpuData=null}};class SD{constructor({matrix:t,observer:e}={}){this.dirty=!0,this._matrix=t??new Yt,this.observer=e,this.position=new Ji(this,0,0),this.scale=new Ji(this,1,1),this.pivot=new Ji(this,0,0),this.skew=new Ji(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const t=this._matrix;return this.dirty&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this.dirty=!1),t}_onUpdate(t){this.dirty=!0,t===this.skew&&this.updateSkew(),this.observer?._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return`[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}setFromMatrix(t){t.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this.skew))}}const ux=class ep extends rA{constructor(...t){let e=t[0]||{};e instanceof Ut&&(e={texture:e}),t.length>1&&(ue(_e,"use new TilingSprite({ texture, width:100, height:100 }) instead"),e.width=t[1],e.height=t[2]),e={...ep.defaultOptions,...e};const{texture:n,anchor:s,tilePosition:l,tileScale:c,tileRotation:h,width:f,height:p,applyAnchorToTexture:y,roundPixels:B,..._}=e??{};super({label:"TilingSprite",..._}),this.renderPipeId="tilingSprite",this.batched=!0,this.allowChildren=!1,this._anchor=new Ji({_onUpdate:()=>{this.onViewUpdate()}}),this.applyAnchorToTexture=y,this.texture=n,this._width=f??n.width,this._height=p??n.height,this._tileTransform=new SD({observer:{_onUpdate:()=>this.onViewUpdate()}}),s&&(this.anchor=s),this.tilePosition=l,this.tileScale=c,this.tileRotation=h,this.roundPixels=B??!1}static from(t,e={}){return typeof t=="string"?new ep({texture:si.get(t),...e}):new ep({texture:t,...e})}get uvRespectAnchor(){return ie("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture}set uvRespectAnchor(t){ie("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture=t}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(t){this._texture.textureMatrix.clampMargin=t}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get tilePosition(){return this._tileTransform.position}set tilePosition(t){this._tileTransform.position.copyFrom(t)}get tileScale(){return this._tileTransform.scale}set tileScale(t){typeof t=="number"?this._tileTransform.scale.set(t):this._tileTransform.scale.copyFrom(t)}set tileRotation(t){this._tileTransform.rotation=t}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}set texture(t){t||(t=Ut.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this.onViewUpdate())}get texture(){return this._texture}set width(t){this._width=t,this.onViewUpdate()}get width(){return this._width}set height(t){this._height=t,this.onViewUpdate()}get height(){return this._height}setSize(t,e){typeof t=="object"&&(e=t.height??t.width,t=t.width),this._width=t,this._height=e??t,this.onViewUpdate()}getSize(t){return t||(t={}),t.width=this._width,t.height=this._height,t}updateBounds(){const t=this._bounds,e=this._anchor,n=this._width,s=this._height;t.minX=-e._x*n,t.maxX=t.minX+n,t.minY=-e._y*s,t.maxY=t.minY+s}containsPoint(t){const e=this._width,n=this._height,s=-e*this._anchor._x;let l=0;return t.x>=s&&t.x<=s+e&&(l=-n*this._anchor._y,t.y>=l&&t.y<=l+n)}destroy(t=!1){if(super.destroy(t),this._anchor=null,this._tileTransform=null,this._bounds=null,typeof t=="boolean"?t:t?.texture){const n=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(n)}this._texture=null}};ux.defaultOptions={texture:Ut.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1};let TD=ux;class _p extends rA{constructor(t,e){const{text:n,resolution:s,style:l,anchor:c,width:h,height:f,roundPixels:p,...y}=t;super({...y}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=e,this.text=n??"",this.style=l,this.resolution=s??null,this.allowChildren=!1,this._anchor=new Ji({_onUpdate:()=>{this.onViewUpdate()}}),c&&(this.anchor=c),this.roundPixels=p??!1,h!==void 0&&(this.width=h),f!==void 0&&(this.height=f)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}set resolution(t){this._autoResolution=t===null,this._resolution=t,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(t){t||(t={}),this._style?.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,e){typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,this.bounds.width),e!==void 0&&this._setHeight(e,this.bounds.height)}containsPoint(t){const e=this.bounds.width,n=this.bounds.height,s=-e*this.anchor.x;let l=0;return t.x>=s&&t.x<=s+e&&(l=-n*this.anchor.y,t.y>=l&&t.y<=l+n)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,(typeof t=="boolean"?t:t?.style)&&this._style.destroy(t),this._style=null,this._text=null}}function RD(i,t){let e=i[0]??{};return(typeof e=="string"||i[1])&&(ue(_e,`use new ${t}({ text: "hi!", style }) instead`),e={text:e,style:i[1]}),e}let ru=null,Vo=null;function DD(i,t){ru||(ru=Ee.get().createCanvas(256,128),Vo=ru.getContext("2d",{willReadFrequently:!0}),Vo.globalCompositeOperation="copy",Vo.globalAlpha=1),(ru.width<i||ru.height<t)&&(ru.width=Lc(i),ru.height=Lc(t))}function cC(i,t,e){for(let n=0,s=4*e*t;n<t;++n,s+=4)if(i[s+3]!==0)return!1;return!0}function hC(i,t,e,n,s){const l=4*t;for(let c=n,h=n*l+4*e;c<=s;++c,h+=l)if(i[h+3]!==0)return!1;return!0}function MD(...i){let t=i[0];t.canvas||(t={canvas:i[0],resolution:i[1]});const{canvas:e}=t,n=Math.min(t.resolution??1,1),s=t.width??e.width,l=t.height??e.height;let c=t.output;if(DD(s,l),!Vo)throw new TypeError("Failed to get canvas 2D context");Vo.drawImage(e,0,0,s,l,0,0,s*n,l*n);const f=Vo.getImageData(0,0,s,l).data;let p=0,y=0,B=s-1,_=l-1;for(;y<l&&cC(f,s,y);)++y;if(y===l)return Re.EMPTY;for(;cC(f,s,_);)--_;for(;hC(f,s,p,y,_);)++p;for(;hC(f,s,B,y,_);)--B;return++B,++_,Vo.globalCompositeOperation="source-over",Vo.strokeRect(p,y,B-p,_-y),Vo.globalCompositeOperation="copy",c??(c=new Re),c.set(p/n,y/n,(B-p)/n,(_-y)/n),c}const dC=new Re;class wD{getCanvasAndContext(t){const{text:e,style:n,resolution:s=1}=t,l=n._getFinalPadding(),c=hr.measureText(e||" ",n),h=Math.ceil(Math.ceil(Math.max(1,c.width)+l*2)*s),f=Math.ceil(Math.ceil(Math.max(1,c.height)+l*2)*s),p=nA.getOptimalCanvasAndContext(h,f);this._renderTextToCanvas(e,n,l,s,p);const y=n.trim?MD({canvas:p.canvas,width:h,height:f,resolution:1,output:dC}):dC.set(0,0,h,f);return{canvasAndContext:p,frame:y}}returnCanvasAndContext(t){nA.returnCanvasAndContext(t)}_renderTextToCanvas(t,e,n,s,l){const{canvas:c,context:h}=l,f=cp(e),p=hr.measureText(t||" ",e),y=p.lines,B=p.lineHeight,_=p.lineWidths,x=p.maxLineWidth,v=p.fontProperties,T=c.height;if(h.resetTransform(),h.scale(s,s),h.textBaseline=e.textBaseline,e._stroke?.width){const D=e._stroke;h.lineWidth=D.width,h.miterLimit=D.miterLimit,h.lineJoin=D.join,h.lineCap=D.cap}h.font=f;let S,R;const O=e.dropShadow?2:1;for(let D=0;D<O;++D){const F=e.dropShadow&&D===0,j=F?Math.ceil(Math.max(1,T)+n*2):0,$=j*s;if(F){h.fillStyle="black",h.strokeStyle="black";const ht=e.dropShadow,At=ht.color,L=ht.alpha;h.shadowColor=Ye.shared.setValue(At).setAlpha(L).toRgbaString();const Dt=ht.blur*s,Ot=ht.distance*s;h.shadowBlur=Dt,h.shadowOffsetX=Math.cos(ht.angle)*Ot,h.shadowOffsetY=Math.sin(ht.angle)*Ot+$}else{if(h.fillStyle=e._fill?dp(e._fill,h,p):null,e._stroke?.width){const ht=e._stroke.width*e._stroke.alignment;h.strokeStyle=dp(e._stroke,h,p,ht)}h.shadowColor="black"}let V=(B-v.fontSize)/2;B-v.fontSize<0&&(V=0);const gt=e._stroke?.width??0;for(let ht=0;ht<y.length;ht++)S=gt/2,R=gt/2+ht*B+v.ascent+V,e.align==="right"?S+=x-_[ht]:e.align==="center"&&(S+=(x-_[ht])/2),e._stroke?.width&&this._drawLetterSpacing(y[ht],e,l,S+n,R+n-j,!0),e._fill!==void 0&&this._drawLetterSpacing(y[ht],e,l,S+n,R+n-j)}}_drawLetterSpacing(t,e,n,s,l,c=!1){const{context:h}=n,f=e.letterSpacing;let p=!1;if(hr.experimentalLetterSpacingSupported&&(hr.experimentalLetterSpacing?(h.letterSpacing=`${f}px`,h.textLetterSpacing=`${f}px`,p=!0):(h.letterSpacing="0px",h.textLetterSpacing="0px")),f===0||p){c?h.strokeText(t,s,l):h.fillText(t,s,l);return}let y=s;const B=hr.graphemeSegmenter(t);let _=h.measureText(t).width,x=0;for(let v=0;v<B.length;++v){const T=B[v];c?h.strokeText(T,y,l):h.fillText(T,y,l);let S="";for(let R=v+1;R<B.length;++R)S+=B[R];x=h.measureText(S).width,y+=_-x+f,_=x}}}const Od=new wD;let w0=class extends _p{constructor(...t){const e=RD(t,"Text");super(e,Ri),this.renderPipeId="text",e.textureStyle&&(this.textureStyle=e.textureStyle instanceof $o?e.textureStyle:new $o(e.textureStyle))}updateBounds(){const t=this._bounds,e=this._anchor;let n=0,s=0;if(this._style.trim){const{frame:l,canvasAndContext:c}=Od.getCanvasAndContext({text:this.text,style:this._style,resolution:1});Od.returnCanvasAndContext(c),n=l.width,s=l.height}else{const l=hr.measureText(this._text,this._style);n=l.width,s=l.height}t.minX=-e._x*n,t.maxX=t.minX+n,t.minY=-e._y*s,t.maxY=t.minY+s}};function GD(i){const t=i._stroke,e=i._fill,s=[`div { ${[`color: ${Ye.shared.setValue(e.color).toHex()}`,`font-size: ${i.fontSize}px`,`font-family: ${i.fontFamily}`,`font-weight: ${i.fontWeight}`,`font-style: ${i.fontStyle}`,`font-variant: ${i.fontVariant}`,`letter-spacing: ${i.letterSpacing}px`,`text-align: ${i.align}`,`padding: ${i.padding}px`,`white-space: ${i.whiteSpace==="pre"&&i.wordWrap?"pre-wrap":i.whiteSpace}`,...i.lineHeight?[`line-height: ${i.lineHeight}px`]:[],...i.wordWrap?[`word-wrap: ${i.breakWords?"break-all":"break-word"}`,`max-width: ${i.wordWrapWidth}px`]:[],...t?[hx(t)]:[],...i.dropShadow?[cx(i.dropShadow)]:[],...i.cssOverrides].join(";")} }`];return ND(i.tagStyles,s),s.join(" ")}function cx(i){const t=Ye.shared.setValue(i.color).setAlpha(i.alpha).toHexa(),e=Math.round(Math.cos(i.angle)*i.distance),n=Math.round(Math.sin(i.angle)*i.distance),s=`${e}px ${n}px`;return i.blur>0?`text-shadow: ${s} ${i.blur}px ${t}`:`text-shadow: ${s} ${t}`}function hx(i){return[`-webkit-text-stroke-width: ${i.width}px`,`-webkit-text-stroke-color: ${Ye.shared.setValue(i.color).toHex()}`,`text-stroke-width: ${i.width}px`,`text-stroke-color: ${Ye.shared.setValue(i.color).toHex()}`,"paint-order: stroke"].join(";")}const fC={fontSize:"font-size: {{VALUE}}px",fontFamily:"font-family: {{VALUE}}",fontWeight:"font-weight: {{VALUE}}",fontStyle:"font-style: {{VALUE}}",fontVariant:"font-variant: {{VALUE}}",letterSpacing:"letter-spacing: {{VALUE}}px",align:"text-align: {{VALUE}}",padding:"padding: {{VALUE}}px",whiteSpace:"white-space: {{VALUE}}",lineHeight:"line-height: {{VALUE}}px",wordWrapWidth:"max-width: {{VALUE}}px"},gC={fill:i=>`color: ${Ye.shared.setValue(i).toHex()}`,breakWords:i=>`word-wrap: ${i?"break-all":"break-word"}`,stroke:hx,dropShadow:cx};function ND(i,t){for(const e in i){const n=i[e],s=[];for(const l in n)gC[l]?s.push(gC[l](n[l])):fC[l]&&s.push(fC[l].replace("{{VALUE}}",n[l]));t.push(`${e} { ${s.join(";")} }`)}}class G0 extends Ri{constructor(t={}){super(t),this._cssOverrides=[],this.cssOverrides=t.cssOverrides??[],this.tagStyles=t.tagStyles??{}}set cssOverrides(t){this._cssOverrides=t instanceof Array?t:[t],this.update()}get cssOverrides(){return this._cssOverrides}update(){this._cssStyle=null,super.update()}clone(){return new G0({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow?{...this.dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides,tagStyles:{...this.tagStyles}})}get cssStyle(){return this._cssStyle||(this._cssStyle=GD(this)),this._cssStyle}addOverride(...t){const e=t.filter(n=>!this.cssOverrides.includes(n));e.length>0&&(this.cssOverrides.push(...e),this.update())}removeOverride(...t){const e=t.filter(n=>this.cssOverrides.includes(n));e.length>0&&(this.cssOverrides=this.cssOverrides.filter(n=>!e.includes(n)),this.update())}set fill(t){typeof t!="string"&&typeof t!="number"&&ie("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=t}set stroke(t){t&&typeof t!="string"&&typeof t!="number"&&ie("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=t}}const pC="http://www.w3.org/2000/svg",mC="http://www.w3.org/1999/xhtml";class dx{constructor(){this.svgRoot=document.createElementNS(pC,"svg"),this.foreignObject=document.createElementNS(pC,"foreignObject"),this.domElement=document.createElementNS(mC,"div"),this.styleElement=document.createElementNS(mC,"style"),this.image=new Image;const{foreignObject:t,svgRoot:e,styleElement:n,domElement:s}=this;t.setAttribute("width","10000"),t.setAttribute("height","10000"),t.style.overflow="hidden",e.appendChild(t),t.appendChild(n),t.appendChild(s)}}let EC;function UD(i,t,e,n){n||(n=EC||(EC=new dx));const{domElement:s,styleElement:l,svgRoot:c}=n;s.innerHTML=`<style>${t.cssStyle};</style><div style='padding:0'>${i}</div>`,s.setAttribute("style","transform-origin: top left; display: inline-block"),e&&(l.textContent=e),document.body.appendChild(c);const h=s.getBoundingClientRect();c.remove();const f=t.padding*2;return{width:h.width-f,height:h.height-f}}class fx{constructor(){this._tempState=Ds.for2d(),this._didUploadHash={}}init(t){t.renderer.runners.contextChange.add(this)}contextChange(){this._didUploadHash={}}start(t,e,n){const s=t.renderer,l=this._didUploadHash[n.uid];s.shader.bind(n,l),l||(this._didUploadHash[n.uid]=!0),s.shader.updateUniformGroup(s.globalUniforms.uniformGroup),s.geometry.bind(e,n.glProgram)}execute(t,e){const n=t.renderer;this._tempState.blendMode=e.blendMode,n.state.set(this._tempState);const s=e.textures.textures;for(let l=0;l<e.textures.count;l++)n.texture.bind(s[l],l);n.geometry.draw(e.topology,e.size,e.start)}}fx.extension={type:[J.WebGLPipesAdaptor],name:"batch"};const zg=Ds.for2d();class gx{start(t,e,n){const s=t.renderer,l=s.encoder,c=n.gpuProgram;this._shader=n,this._geometry=e,l.setGeometry(e,c),zg.blendMode="normal",s.pipeline.getPipeline(e,c,zg);const h=s.globalUniforms.bindGroup;l.resetBindGroup(1),l.setBindGroup(0,h,c)}execute(t,e){const n=this._shader.gpuProgram,s=t.renderer,l=s.encoder;if(!e.bindGroup){const f=e.textures;e.bindGroup=m0(f.textures,f.count,s.limits.maxBatchableTextures)}zg.blendMode=e.blendMode;const c=s.bindGroup.getBindGroup(e.bindGroup,n,1),h=s.pipeline.getPipeline(this._geometry,n,zg,e.topology);e.bindGroup._touch(s.textureGC.count),l.setPipeline(h),l.renderPassEncoder.setBindGroup(1,c),l.renderPassEncoder.drawIndexed(e.size,1,e.start)}}gx.extension={type:[J.WebGPUPipesAdaptor],name:"batch"};const N0=class px{constructor(t,e){this.state=Ds.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=t,this._adaptor=e,this._adaptor.init?.(this)}static getBatcher(t){return new this._availableBatchers[t]}buildStart(t){let e=this._batchersByInstructionSet[t.uid];e||(e=this._batchersByInstructionSet[t.uid]=Object.create(null),e.default||(e.default=new _0({maxTextures:this.renderer.limits.maxBatchableTextures}))),this._activeBatches=e,this._activeBatch=this._activeBatches.default;for(const n in this._activeBatches)this._activeBatches[n].begin()}addToBatch(t,e){if(this._activeBatch.name!==t.batcherName){this._activeBatch.break(e);let n=this._activeBatches[t.batcherName];n||(n=this._activeBatches[t.batcherName]=px.getBatcher(t.batcherName),n.begin()),this._activeBatch=n}this._activeBatch.add(t)}break(t){this._activeBatch.break(t)}buildEnd(t){this._activeBatch.break(t);const e=this._activeBatches;for(const n in e){const s=e[n],l=s.geometry;l.indexBuffer.setDataWithSize(s.indexBuffer,s.indexSize,!0),l.buffers[0].setDataWithSize(s.attributeBuffer.float32View,s.attributeSize,!1)}}upload(t){const e=this._batchersByInstructionSet[t.uid];for(const n in e){const s=e[n],l=s.geometry;s.dirty&&(s.dirty=!1,l.buffers[0].update(s.attributeSize*4))}}execute(t){if(t.action==="startBatch"){const e=t.batcher,n=e.geometry,s=e.shader;this._adaptor.start(this,n,s)}this._adaptor.execute(this,t)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const t in this._activeBatches)this._activeBatches[t].destroy();this._activeBatches=null}};N0.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"batch"};N0._availableBatchers=Object.create(null);let mx=N0;Xt.handleByMap(J.Batcher,mx._availableBatchers);Xt.add(_0);const Hd={name:"local-uniform-bit",vertex:{header:`

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `}},OD={...Hd,vertex:{...Hd.vertex,header:Hd.vertex.header.replace("group(1)","group(2)")}},U0={name:"local-uniform-bit",vertex:{header:`

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `}},HD={name:"texture-bit",vertex:{header:`

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,main:`
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;


        `,main:`
            outColor = textureSample(uTexture, uSampler, vUV);
        `}},kD={name:"texture-bit",vertex:{header:`
            uniform mat3 uTextureMatrix;
        `,main:`
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
        uniform sampler2D uTexture;


        `,main:`
            outColor = texture(uTexture, vUV);
        `}},LD=new pn;class FD extends rp{constructor(){super(),this.filters=[new bD({sprite:new zc(Ut.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(t){this.filters[0].sprite=t}get inverse(){return this.filters[0].inverse}set inverse(t){this.filters[0].inverse=t}}class Ex{constructor(t){this._activeMaskStage=[],this._renderer=t}push(t,e,n){const s=this._renderer;if(s.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:t,inverse:e._maskOptions.inverse,canBundle:!1,maskedContainer:e}),t.inverse=e._maskOptions.inverse,t.renderMaskToTexture){const l=t.mask;l.includeInBuild=!0,l.collectRenderables(n,s,null),l.includeInBuild=!1}s.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:t,maskedContainer:e,inverse:e._maskOptions.inverse,canBundle:!1})}pop(t,e,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:t,inverse:e._maskOptions.inverse,canBundle:!1})}execute(t){const e=this._renderer,n=t.mask.renderMaskToTexture;if(t.action==="pushMaskBegin"){const s=ln.get(FD);if(s.inverse=t.inverse,n){t.mask.mask.measurable=!0;const l=l0(t.mask.mask,!0,LD);t.mask.mask.measurable=!1,l.ceil();const c=e.renderTarget.renderTarget.colorTexture.source,h=qn.getOptimalTexture(l.width,l.height,c._resolution,c.antialias);e.renderTarget.push(h,!0),e.globalUniforms.push({offset:l,worldColor:4294967295});const f=s.sprite;f.texture=h,f.worldTransform.tx=l.minX,f.worldTransform.ty=l.minY,this._activeMaskStage.push({filterEffect:s,maskedContainer:t.maskedContainer,filterTexture:h})}else s.sprite=t.mask.mask,this._activeMaskStage.push({filterEffect:s,maskedContainer:t.maskedContainer})}else if(t.action==="pushMaskEnd"){const s=this._activeMaskStage[this._activeMaskStage.length-1];n&&(e.type===dr.WEBGL&&e.renderTarget.finishRenderPass(),e.renderTarget.pop(),e.globalUniforms.pop()),e.filter.push({renderPipeId:"filter",action:"pushFilter",container:s.maskedContainer,filterEffect:s.filterEffect,canBundle:!1})}else if(t.action==="popMaskEnd"){e.filter.pop();const s=this._activeMaskStage.pop();n&&qn.returnTexture(s.filterTexture),ln.return(s.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}Ex.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"alphaMask"};class yx{constructor(t){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=t}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(t,e,n){this._renderer.renderPipes.batch.break(n);const l=this._colorStack;l[this._colorStackIndex]=l[this._colorStackIndex-1]&t.mask;const c=this._colorStack[this._colorStackIndex];c!==this._currentColor&&(this._currentColor=c,n.add({renderPipeId:"colorMask",colorMask:c,canBundle:!1})),this._colorStackIndex++}pop(t,e,n){this._renderer.renderPipes.batch.break(n);const l=this._colorStack;this._colorStackIndex--;const c=l[this._colorStackIndex-1];c!==this._currentColor&&(this._currentColor=c,n.add({renderPipeId:"colorMask",colorMask:c,canBundle:!1}))}execute(t){this._renderer.colorMask.setMask(t.colorMask)}destroy(){this._colorStack=null}}yx.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"colorMask"};class Bx{constructor(t){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=t}push(t,e,n){var s;const l=t,c=this._renderer;c.renderPipes.batch.break(n),c.renderPipes.blendMode.setBlendMode(l.mask,"none",n),n.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:t,inverse:e._maskOptions.inverse,canBundle:!1});const h=l.mask;h.includeInBuild=!0,this._maskHash.has(l)||this._maskHash.set(l,{instructionsStart:0,instructionsLength:0});const f=this._maskHash.get(l);f.instructionsStart=n.instructionSize,h.collectRenderables(n,c,null),h.includeInBuild=!1,c.renderPipes.batch.break(n),n.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:t,inverse:e._maskOptions.inverse,canBundle:!1});const p=n.instructionSize-f.instructionsStart-1;f.instructionsLength=p;const y=c.renderTarget.renderTarget.uid;(s=this._maskStackHash)[y]??(s[y]=0)}pop(t,e,n){const s=t,l=this._renderer;l.renderPipes.batch.break(n),l.renderPipes.blendMode.setBlendMode(s.mask,"none",n),n.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:e._maskOptions.inverse,canBundle:!1});const c=this._maskHash.get(t);for(let h=0;h<c.instructionsLength;h++)n.instructions[n.instructionSize++]=n.instructions[c.instructionsStart++];n.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(t){var e;const n=this._renderer,s=n.renderTarget.renderTarget.uid;let l=(e=this._maskStackHash)[s]??(e[s]=0);t.action==="pushMaskBegin"?(n.renderTarget.ensureDepthStencil(),n.stencil.setStencilMode(Li.RENDERING_MASK_ADD,l),l++,n.colorMask.setMask(0)):t.action==="pushMaskEnd"?(t.inverse?n.stencil.setStencilMode(Li.INVERSE_MASK_ACTIVE,l):n.stencil.setStencilMode(Li.MASK_ACTIVE,l),n.colorMask.setMask(15)):t.action==="popMaskBegin"?(n.colorMask.setMask(0),l!==0?n.stencil.setStencilMode(Li.RENDERING_MASK_REMOVE,l):(n.renderTarget.clear(null,is.STENCIL),n.stencil.setStencilMode(Li.DISABLED,l)),l--):t.action==="popMaskEnd"&&(t.inverse?n.stencil.setStencilMode(Li.INVERSE_MASK_ACTIVE,l):n.stencil.setStencilMode(Li.MASK_ACTIVE,l),n.colorMask.setMask(15)),this._maskStackHash[s]=l}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}Bx.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"stencilMask"};var ip=(i=>(i[i.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",i[i.ARRAY_BUFFER=34962]="ARRAY_BUFFER",i[i.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",i))(ip||{});class PD{constructor(t,e){this._lastBindBaseLocation=-1,this._lastBindCallId=-1,this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.type=e}}class Cx{constructor(t){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._minBaseLocation=0,this._nextBindBaseIndex=this._minBaseLocation,this._bindCallId=0,this._renderer=t,this._renderer.renderableGC.addManagedHash(this,"_gpuBuffers")}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){this._gl=this._renderer.gl,this._gpuBuffers=Object.create(null),this._maxBindings=this._renderer.limits.maxUniformBindings}getGlBuffer(t){return this._gpuBuffers[t.uid]||this.createGLBuffer(t)}bind(t){const{_gl:e}=this,n=this.getGlBuffer(t);e.bindBuffer(n.type,n.buffer)}bindBufferBase(t,e){const{_gl:n}=this;this._boundBufferBases[e]!==t&&(this._boundBufferBases[e]=t,t._lastBindBaseLocation=e,n.bindBufferBase(n.UNIFORM_BUFFER,e,t.buffer))}nextBindBase(t){this._bindCallId++,this._minBaseLocation=0,t&&(this._boundBufferBases[0]=null,this._minBaseLocation=1,this._nextBindBaseIndex<1&&(this._nextBindBaseIndex=1))}freeLocationForBufferBase(t){let e=this.getLastBindBaseLocation(t);if(e>=this._minBaseLocation)return t._lastBindCallId=this._bindCallId,e;let n=0,s=this._nextBindBaseIndex;for(;n<2;){s>=this._maxBindings&&(s=this._minBaseLocation,n++);const l=this._boundBufferBases[s];if(l&&l._lastBindCallId===this._bindCallId){s++;continue}break}return e=s,this._nextBindBaseIndex=s+1,n>=2?-1:(t._lastBindCallId=this._bindCallId,this._boundBufferBases[e]=null,e)}getLastBindBaseLocation(t){const e=t._lastBindBaseLocation;return this._boundBufferBases[e]===t?e:-1}bindBufferRange(t,e,n,s){const{_gl:l}=this;n||(n=0),e||(e=0),this._boundBufferBases[e]=null,l.bindBufferRange(l.UNIFORM_BUFFER,e||0,t.buffer,n*256,s||256)}updateBuffer(t){const{_gl:e}=this,n=this.getGlBuffer(t);if(t._updateID===n.updateID)return n;n.updateID=t._updateID,e.bindBuffer(n.type,n.buffer);const s=t.data,l=t.descriptor.usage&Te.STATIC?e.STATIC_DRAW:e.DYNAMIC_DRAW;return s?n.byteLength>=s.byteLength?e.bufferSubData(n.type,0,s,0,t._updateSize/s.BYTES_PER_ELEMENT):(n.byteLength=s.byteLength,e.bufferData(n.type,s,l)):(n.byteLength=t.descriptor.size,e.bufferData(n.type,n.byteLength,l)),n}destroyAll(){const t=this._gl;for(const e in this._gpuBuffers)t.deleteBuffer(this._gpuBuffers[e].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(t,e){const n=this._gpuBuffers[t.uid],s=this._gl;e||s.deleteBuffer(n.buffer),this._gpuBuffers[t.uid]=null}createGLBuffer(t){const{_gl:e}=this;let n=ip.ARRAY_BUFFER;t.descriptor.usage&Te.INDEX?n=ip.ELEMENT_ARRAY_BUFFER:t.descriptor.usage&Te.UNIFORM&&(n=ip.UNIFORM_BUFFER);const s=new PD(e.createBuffer(),n);return this._gpuBuffers[t.uid]=s,t.on("destroy",this.onBufferDestroy,this),s}resetState(){this._boundBufferBases=Object.create(null)}}Cx.extension={type:[J.WebGLSystem],name:"buffer"};const O0=class Ix{constructor(t){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=t,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this._renderer.gl=t}init(t){t={...Ix.defaultOptions,...t};let e=this.multiView=t.multiView;if(t.context&&e&&(ie("Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."),e=!1),e?this.canvas=Ee.get().createCanvas(this._renderer.canvas.width,this._renderer.canvas.height):this.canvas=this._renderer.view.canvas,t.context)this.initFromContext(t.context);else{const n=this._renderer.background.alpha<1,s=t.premultipliedAlpha??!0,l=t.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(t.preferWebGLVersion,{alpha:n,premultipliedAlpha:s,antialias:l,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference??"default"})}}ensureCanvasSize(t){if(!this.multiView){t!==this.canvas&&ie("multiView is disabled, but targetCanvas is not the main canvas");return}const{canvas:e}=this;(e.width<t.width||e.height<t.height)&&(e.width=Math.max(t.width,t.width),e.height=Math.max(t.height,t.height))}initFromContext(t){this.gl=t,this.webGLVersion=t instanceof Ee.get().getWebGLRenderingContext()?1:2,this.getExtensions(),this.validateContext(t),this._renderer.runners.contextChange.emit(t);const e=this._renderer.view.canvas;e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(t,e){let n;const s=this.canvas;if(t===2&&(n=s.getContext("webgl2",e)),!n&&(n=s.getContext("webgl",e),!n))throw new Error("This browser does not support WebGL. Try using the canvas renderer");this.gl=n,this.initFromContext(this.gl)}getExtensions(){const{gl:t}=this,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc"),rgtc:t.getExtension("EXT_texture_compression_rgtc"),loseContext:t.getExtension("WEBGL_lose_context")};if(this.webGLVersion===1)this.extensions={...e,drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:t.getExtension("ANGLE_instanced_arrays"),srgb:t.getExtension("EXT_sRGB")};else{this.extensions={...e,colorBufferFloat:t.getExtension("EXT_color_buffer_float")};const n=t.getExtension("WEBGL_provoking_vertex");n&&n.provokingVertexWEBGL(n.FIRST_VERTEX_CONVENTION_WEBGL)}}handleContextLost(t){t.preventDefault(),this._contextLossForced&&(this._contextLossForced=!1,setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext?.restoreContext()},0))}handleContextRestored(){this.getExtensions(),this._renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this._renderer.view.canvas;this._renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext?.loseContext()}forceContextLoss(){this.extensions.loseContext?.loseContext(),this._contextLossForced=!0}validateContext(t){const e=t.getContextAttributes();e&&!e.stencil&&ie("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=this.supports,s=this.webGLVersion===2,l=this.extensions;n.uint32Indices=s||!!l.uint32ElementIndex,n.uniformBufferObject=s,n.vertexArrayObject=s||!!l.vertexArrayObject,n.srgbTextures=s||!!l.srgb,n.nonPowOf2wrapping=s,n.nonPowOf2mipmaps=s,n.msaa=s,n.uint32Indices||ie("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}};O0.extension={type:[J.WebGLSystem],name:"context"};O0.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2,multiView:!1};let zD=O0;function _x(i,t){for(const e in i.attributes){const n=i.attributes[e],s=t[e];s?(n.format??(n.format=s.format),n.offset??(n.offset=s.offset),n.instance??(n.instance=s.instance)):ie(`Attribute ${e} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}YD(i)}function YD(i){const{buffers:t,attributes:e}=i,n={},s={};for(const l in t){const c=t[l];n[c.uid]=0,s[c.uid]=0}for(const l in e){const c=e[l];n[c.buffer.uid]+=iA(c.format).stride}for(const l in e){const c=e[l];c.stride??(c.stride=n[c.buffer.uid]),c.start??(c.start=s[c.buffer.uid]),s[c.buffer.uid]+=iA(c.format).stride}}var PE=(i=>(i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.RG=33319]="RG",i[i.RED=6403]="RED",i[i.RGBA_INTEGER=36249]="RGBA_INTEGER",i[i.RGB_INTEGER=36248]="RGB_INTEGER",i[i.RG_INTEGER=33320]="RG_INTEGER",i[i.RED_INTEGER=36244]="RED_INTEGER",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL",i))(PE||{}),xx=(i=>(i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",i))(xx||{}),Ne=(i=>(i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.UNSIGNED_INT=5125]="UNSIGNED_INT",i[i.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",i[i.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",i[i.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",i[i.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",i[i.BYTE=5120]="BYTE",i[i.SHORT=5122]="SHORT",i[i.INT=5124]="INT",i[i.FLOAT=5126]="FLOAT",i[i.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",i[i.HALF_FLOAT=36193]="HALF_FLOAT",i))(Ne||{});const yC={uint8x2:Ne.UNSIGNED_BYTE,uint8x4:Ne.UNSIGNED_BYTE,sint8x2:Ne.BYTE,sint8x4:Ne.BYTE,unorm8x2:Ne.UNSIGNED_BYTE,unorm8x4:Ne.UNSIGNED_BYTE,snorm8x2:Ne.BYTE,snorm8x4:Ne.BYTE,uint16x2:Ne.UNSIGNED_SHORT,uint16x4:Ne.UNSIGNED_SHORT,sint16x2:Ne.SHORT,sint16x4:Ne.SHORT,unorm16x2:Ne.UNSIGNED_SHORT,unorm16x4:Ne.UNSIGNED_SHORT,snorm16x2:Ne.SHORT,snorm16x4:Ne.SHORT,float16x2:Ne.HALF_FLOAT,float16x4:Ne.HALF_FLOAT,float32:Ne.FLOAT,float32x2:Ne.FLOAT,float32x3:Ne.FLOAT,float32x4:Ne.FLOAT,uint32:Ne.UNSIGNED_INT,uint32x2:Ne.UNSIGNED_INT,uint32x3:Ne.UNSIGNED_INT,uint32x4:Ne.UNSIGNED_INT,sint32:Ne.INT,sint32x2:Ne.INT,sint32x3:Ne.INT,sint32x4:Ne.INT};function KD(i){return yC[i]??yC.float32}const jD={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};class Qx{constructor(t){this._geometryVaoHash=Object.create(null),this._renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this._renderer.renderableGC.addManagedHash(this,"_geometryVaoHash")}contextChange(){const t=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw new Error("[PixiJS] Vertex Array Objects are not supported on this device");const e=this._renderer.context.extensions.vertexArrayObject;e&&(t.createVertexArray=()=>e.createVertexArrayOES(),t.bindVertexArray=s=>e.bindVertexArrayOES(s),t.deleteVertexArray=s=>e.deleteVertexArrayOES(s));const n=this._renderer.context.extensions.vertexAttribDivisorANGLE;n&&(t.drawArraysInstanced=(s,l,c,h)=>{n.drawArraysInstancedANGLE(s,l,c,h)},t.drawElementsInstanced=(s,l,c,h,f)=>{n.drawElementsInstancedANGLE(s,l,c,h,f)},t.vertexAttribDivisor=(s,l)=>n.vertexAttribDivisorANGLE(s,l)),this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(t,e){const n=this.gl;this._activeGeometry=t;const s=this.getVao(t,e);this._activeVao!==s&&(this._activeVao=s,n.bindVertexArray(s)),this.updateBuffers()}resetState(){this.unbind()}updateBuffers(){const t=this._activeGeometry,e=this._renderer.buffer;for(let n=0;n<t.buffers.length;n++){const s=t.buffers[n];e.updateBuffer(s)}}checkCompatibility(t,e){const n=t.attributes,s=e._attributeData;for(const l in s)if(!n[l])throw new Error(`shader and geometry incompatible, geometry missing the "${l}" attribute`)}getSignature(t,e){const n=t.attributes,s=e._attributeData,l=["g",t.uid];for(const c in n)s[c]&&l.push(c,s[c].location);return l.join("-")}getVao(t,e){return this._geometryVaoHash[t.uid]?.[e._key]||this.initGeometryVao(t,e)}initGeometryVao(t,e,n=!0){const s=this._renderer.gl,l=this._renderer.buffer;this._renderer.shader._getProgramData(e),this.checkCompatibility(t,e);const c=this.getSignature(t,e);this._geometryVaoHash[t.uid]||(this._geometryVaoHash[t.uid]=Object.create(null),t.on("destroy",this.onGeometryDestroy,this));const h=this._geometryVaoHash[t.uid];let f=h[c];if(f)return h[e._key]=f,f;_x(t,e._attributeData);const p=t.buffers;f=s.createVertexArray(),s.bindVertexArray(f);for(let y=0;y<p.length;y++){const B=p[y];l.bind(B)}return this.activateVao(t,e),h[e._key]=f,h[c]=f,s.bindVertexArray(null),f}onGeometryDestroy(t,e){const n=this._geometryVaoHash[t.uid],s=this.gl;if(n){if(e)for(const l in n)this._activeVao!==n[l]&&this.unbind(),s.deleteVertexArray(n[l]);this._geometryVaoHash[t.uid]=null}}destroyAll(t=!1){const e=this.gl;for(const n in this._geometryVaoHash){if(t)for(const s in this._geometryVaoHash[n]){const l=this._geometryVaoHash[n];this._activeVao!==l&&this.unbind(),e.deleteVertexArray(l[s])}this._geometryVaoHash[n]=null}}activateVao(t,e){const n=this._renderer.gl,s=this._renderer.buffer,l=t.attributes;t.indexBuffer&&s.bind(t.indexBuffer);let c=null;for(const h in l){const f=l[h],p=f.buffer,y=s.getGlBuffer(p),B=e._attributeData[h];if(B){c!==y&&(s.bind(p),c=y);const _=B.location;n.enableVertexAttribArray(_);const x=iA(f.format),v=KD(f.format);if(B.format?.substring(1,4)==="int"?n.vertexAttribIPointer(_,x.size,v,f.stride,f.offset):n.vertexAttribPointer(_,x.size,v,x.normalised,f.stride,f.offset),f.instance)if(this.hasInstance){const T=f.divisor??1;n.vertexAttribDivisor(_,T)}else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,e,n,s){const{gl:l}=this._renderer,c=this._activeGeometry,h=jD[t||c.topology];if(s??(s=c.instanceCount),c.indexBuffer){const f=c.indexBuffer.data.BYTES_PER_ELEMENT,p=f===2?l.UNSIGNED_SHORT:l.UNSIGNED_INT;s>1?l.drawElementsInstanced(h,e||c.indexBuffer.data.length,p,(n||0)*f,s):l.drawElements(h,e||c.indexBuffer.data.length,p,(n||0)*f)}else s>1?l.drawArraysInstanced(h,n||0,e||c.getSize(),s):l.drawArrays(h,n||0,e||c.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null}}Qx.extension={type:[J.WebGLSystem],name:"geometry"};const XD=new Zc({attributes:{aPosition:[-1,-1,3,-1,-1,3]}}),H0=class vx{constructor(t){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=t}init(t={}){const{useBackBuffer:e,antialias:n}={...vx.defaultOptions,...t};this.useBackBuffer=e,this._antialias=n,this._renderer.context.supports.msaa||(ie("antialiasing, is not supported on when using the back buffer"),this._antialias=!1),this._state=Ds.for2d();const s=new Wc({vertex:`
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,fragment:`
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,name:"big-triangle"});this._bigTriangleShader=new ws({glProgram:s,resources:{uTexture:Ut.WHITE.source}})}renderStart(t){const e=this._renderer.renderTarget.getRenderTarget(t.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!e.isRoot,this._useBackBufferThisRender){const n=this._renderer.renderTarget.getRenderTarget(t.target);this._targetTexture=n.colorTexture,t.target=this._getBackBufferTexture(n.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){const t=this._renderer;t.renderTarget.finishRenderPass(),this._useBackBufferThisRender&&(t.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,t.encoder.draw({geometry:XD,shader:this._bigTriangleShader,state:this._state}))}_getBackBufferTexture(t){return this._backBufferTexture=this._backBufferTexture||new Ut({source:new on({width:t.width,height:t.height,resolution:t._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(t.width,t.height,t._resolution),this._backBufferTexture}destroy(){this._backBufferTexture&&(this._backBufferTexture.destroy(),this._backBufferTexture=null)}};H0.extension={type:[J.WebGLSystem],name:"backBuffer",priority:1};H0.defaultOptions={useBackBuffer:!1};let VD=H0;class bx{constructor(t){this._colorMaskCache=15,this._renderer=t}setMask(t){this._colorMaskCache!==t&&(this._colorMaskCache=t,this._renderer.gl.colorMask(!!(t&8),!!(t&4),!!(t&2),!!(t&1)))}}bx.extension={type:[J.WebGLSystem],name:"colorMask"};class Sx{constructor(t){this.commandFinished=Promise.resolve(),this._renderer=t}setGeometry(t,e){this._renderer.geometry.bind(t,e.glProgram)}finishRenderPass(){}draw(t){const e=this._renderer,{geometry:n,shader:s,state:l,skipSync:c,topology:h,size:f,start:p,instanceCount:y}=t;e.shader.bind(s,c),e.geometry.bind(n,e.shader._activeProgram),l&&e.state.set(l),e.geometry.draw(h,f,p,y??n.instanceCount)}destroy(){this._renderer=null}}Sx.extension={type:[J.WebGLSystem],name:"encoder"};class Tx{constructor(t){this._renderer=t}contextChange(){const t=this._renderer.gl;this.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.maxBatchableTextures=D_(this.maxTextures,t),this.maxUniformBindings=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS)}destroy(){}}Tx.extension={type:[J.WebGLSystem],name:"limits"};class qD{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}const AA=[];AA[Li.NONE]=void 0;AA[Li.DISABLED]={stencilWriteMask:0,stencilReadMask:0};AA[Li.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}};AA[Li.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}};AA[Li.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}};AA[Li.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"keep"},stencilBack:{compare:"not-equal",passOp:"keep"}};class Rx{constructor(t){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:Li.NONE},this._renderTargetStencilState=Object.create(null),t.renderTarget.onRenderTargetChange.add(this)}contextChange(t){this._gl=t,this._comparisonFuncMapping={always:t.ALWAYS,never:t.NEVER,equal:t.EQUAL,"not-equal":t.NOTEQUAL,less:t.LESS,"less-equal":t.LEQUAL,greater:t.GREATER,"greater-equal":t.GEQUAL},this._stencilOpsMapping={keep:t.KEEP,zero:t.ZERO,replace:t.REPLACE,invert:t.INVERT,"increment-clamp":t.INCR,"decrement-clamp":t.DECR,"increment-wrap":t.INCR_WRAP,"decrement-wrap":t.DECR_WRAP},this.resetState()}onRenderTargetChange(t){if(this._activeRenderTarget===t)return;this._activeRenderTarget=t;let e=this._renderTargetStencilState[t.uid];e||(e=this._renderTargetStencilState[t.uid]={stencilMode:Li.DISABLED,stencilReference:0}),this.setStencilMode(e.stencilMode,e.stencilReference)}resetState(){this._stencilCache.enabled=!1,this._stencilCache.stencilMode=Li.NONE,this._stencilCache.stencilReference=0}setStencilMode(t,e){const n=this._renderTargetStencilState[this._activeRenderTarget.uid],s=this._gl,l=AA[t],c=this._stencilCache;if(n.stencilMode=t,n.stencilReference=e,t===Li.DISABLED){this._stencilCache.enabled&&(this._stencilCache.enabled=!1,s.disable(s.STENCIL_TEST));return}this._stencilCache.enabled||(this._stencilCache.enabled=!0,s.enable(s.STENCIL_TEST)),(t!==c.stencilMode||c.stencilReference!==e)&&(c.stencilMode=t,c.stencilReference=e,s.stencilFunc(this._comparisonFuncMapping[l.stencilBack.compare],e,255),s.stencilOp(s.KEEP,s.KEEP,this._stencilOpsMapping[l.stencilBack.passOp]))}}Rx.extension={type:[J.WebGLSystem],name:"stencil"};class Dx{constructor(t){this._syncFunctionHash=Object.create(null),this._adaptor=t,this._systemCheck()}_systemCheck(){if(!g_())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(t){const e=this.getUniformGroupData(t);t.buffer||(t.buffer=new ns({data:new Float32Array(e.layout.size/4),usage:Te.UNIFORM|Te.COPY_DST}))}getUniformGroupData(t){return this._syncFunctionHash[t._signature]||this._initUniformGroup(t)}_initUniformGroup(t){const e=t._signature;let n=this._syncFunctionHash[e];if(!n){const s=Object.keys(t.uniformStructures).map(h=>t.uniformStructures[h]),l=this._adaptor.createUboElements(s),c=this._generateUboSync(l.uboElements);n=this._syncFunctionHash[e]={layout:l,syncFunction:c}}return this._syncFunctionHash[e]}_generateUboSync(t){return this._adaptor.generateUboSync(t)}syncUniformGroup(t,e,n){const s=this.getUniformGroupData(t);t.buffer||(t.buffer=new ns({data:new Float32Array(s.layout.size/4),usage:Te.UNIFORM|Te.COPY_DST}));let l=null;return e||(e=t.buffer.data,l=t.buffer.dataInt32),n||(n=0),s.syncFunction(t.uniforms,e,l,n),!0}updateUniformGroup(t){if(t.isStatic&&!t._dirtyId)return!1;t._dirtyId=0;const e=this.syncUniformGroup(t);return t.buffer.update(),e}destroy(){this._syncFunctionHash=null}}const Mx={f32:4,i32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"vec2<i32>":8,"vec3<i32>":12,"vec4<i32>":16,"mat2x2<f32>":16*2,"mat3x3<f32>":16*3,"mat4x4<f32>":16*4};function JD(i){const t=i.map(l=>({data:l,offset:0,size:0})),e=16;let n=0,s=0;for(let l=0;l<t.length;l++){const c=t[l];if(n=Mx[c.data.type],!n)throw new Error(`Unknown type ${c.data.type}`);c.data.size>1&&(n=Math.max(n,e)*c.data.size);const h=n===12?16:n;c.size=n;const f=s%e;f>0&&e-f<h?s+=(e-f)%16:s+=(n-f%n)%n,c.offset=s,s+=n}return s=Math.ceil(s/16)*16,{uboElements:t,size:s}}const fu=[{type:"mat3x3<f32>",test:i=>i.value.a!==void 0,ubo:`
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,uniform:`
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `},{type:"vec4<f32>",test:i=>i.type==="vec4<f32>"&&i.size===1&&i.value.width!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `},{type:"vec2<f32>",test:i=>i.type==="vec2<f32>"&&i.size===1&&i.value.x!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `},{type:"vec4<f32>",test:i=>i.type==="vec4<f32>"&&i.size===1&&i.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `},{type:"vec3<f32>",test:i=>i.type==="vec3<f32>"&&i.size===1&&i.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `}];function wx(i,t,e,n){const s=[`
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `];let l=0;for(let h=0;h<i.length;h++){const f=i[h],p=f.data.name;let y=!1,B=0;for(let _=0;_<fu.length;_++)if(fu[_].test(f.data)){B=f.offset/4,s.push(`name = "${p}";`,`offset += ${B-l};`,fu[_][t]||fu[_].ubo),y=!0;break}if(!y)if(f.data.size>1)B=f.offset/4,s.push(e(f,B-l));else{const _=n[f.data.type];B=f.offset/4,s.push(`
                    v = uv.${p};
                    offset += ${B-l};
                    ${_};
                `)}l=B}const c=s.join(`
`);return new Function("uv","data","dataInt32","offset",c)}function xc(i,t){return`
        for (let i = 0; i < ${i*t}; i++) {
            data[offset + (((i / ${i})|0) * 4) + (i % ${i})] = v[i];
        }
    `}const Gx={f32:`
        data[offset] = v;`,i32:`
        dataInt32[offset] = v;`,"vec2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];`,"vec3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,"vec4<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,"vec2<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];`,"vec3<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];`,"vec4<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];
        dataInt32[offset + 3] = v[3];`,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,"mat3x3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,"mat4x4<f32>":`
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,"mat3x2<f32>":xc(3,2),"mat4x2<f32>":xc(4,2),"mat2x3<f32>":xc(2,3),"mat4x3<f32>":xc(4,3),"mat2x4<f32>":xc(2,4),"mat3x4<f32>":xc(3,4)},WD={...Gx,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `};function ZD(i,t){const e=Math.max(Mx[i.data.type]/16,1),n=i.data.value.length/i.data.size,s=(4-n%4)%4,l=i.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
        v = uv.${i.data.name};
        offset += ${t};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${i.data.size*e}; i++)
        {
            for(var j = 0; j < ${n}; j++)
            {
                ${l}[arrayOffset++] = v[t++];
            }
            ${s!==0?`arrayOffset += ${s};`:""}
        }
    `}function $D(i){return wx(i,"uboStd40",ZD,Gx)}class Nx extends Dx{constructor(){super({createUboElements:JD,generateUboSync:$D})}}Nx.extension={type:[J.WebGLSystem],name:"ubo"};class t2{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new Re}init(t,e){this._renderer=t,this._renderTargetSystem=e,t.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new Re}copyToTexture(t,e,n,s,l){const c=this._renderTargetSystem,h=this._renderer,f=c.getGpuRenderTarget(t),p=h.gl;return this.finishRenderPass(t),p.bindFramebuffer(p.FRAMEBUFFER,f.resolveTargetFramebuffer),h.texture.bind(e,0),p.copyTexSubImage2D(p.TEXTURE_2D,0,l.x,l.y,n.x,n.y,s.width,s.height),e}startRenderPass(t,e=!0,n,s){const l=this._renderTargetSystem,c=t.colorTexture,h=l.getGpuRenderTarget(t);let f=s.y;t.isRoot&&(f=c.pixelHeight-s.height),t.colorTextures.forEach(B=>{this._renderer.texture.unbind(B)});const p=this._renderer.gl;p.bindFramebuffer(p.FRAMEBUFFER,h.framebuffer);const y=this._viewPortCache;(y.x!==s.x||y.y!==f||y.width!==s.width||y.height!==s.height)&&(y.x=s.x,y.y=f,y.width=s.width,y.height=s.height,p.viewport(s.x,f,s.width,s.height)),!h.depthStencilRenderBuffer&&(t.stencil||t.depth)&&this._initStencil(h),this.clear(t,e,n)}finishRenderPass(t){const n=this._renderTargetSystem.getGpuRenderTarget(t);if(!n.msaa)return;const s=this._renderer.gl;s.bindFramebuffer(s.FRAMEBUFFER,n.resolveTargetFramebuffer),s.bindFramebuffer(s.READ_FRAMEBUFFER,n.framebuffer),s.blitFramebuffer(0,0,n.width,n.height,0,0,n.width,n.height,s.COLOR_BUFFER_BIT,s.NEAREST),s.bindFramebuffer(s.FRAMEBUFFER,n.framebuffer)}initGpuRenderTarget(t){const n=this._renderer.gl,s=new qD;return t.colorTexture instanceof Ao?(this._renderer.context.ensureCanvasSize(t.colorTexture.resource),s.framebuffer=null,s):(this._initColor(t,s),n.bindFramebuffer(n.FRAMEBUFFER,null),s)}destroyGpuRenderTarget(t){const e=this._renderer.gl;t.framebuffer&&(e.deleteFramebuffer(t.framebuffer),t.framebuffer=null),t.resolveTargetFramebuffer&&(e.deleteFramebuffer(t.resolveTargetFramebuffer),t.resolveTargetFramebuffer=null),t.depthStencilRenderBuffer&&(e.deleteRenderbuffer(t.depthStencilRenderBuffer),t.depthStencilRenderBuffer=null),t.msaaRenderBuffer.forEach(n=>{e.deleteRenderbuffer(n)}),t.msaaRenderBuffer=null}clear(t,e,n){if(!e)return;const s=this._renderTargetSystem;typeof e=="boolean"&&(e=e?is.ALL:is.NONE);const l=this._renderer.gl;if(e&is.COLOR){n??(n=s.defaultClearColor);const c=this._clearColorCache,h=n;(c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||c[3]!==h[3])&&(c[0]=h[0],c[1]=h[1],c[2]=h[2],c[3]=h[3],l.clearColor(h[0],h[1],h[2],h[3]))}l.clear(e)}resizeGpuRenderTarget(t){if(t.isRoot)return;const n=this._renderTargetSystem.getGpuRenderTarget(t);this._resizeColor(t,n),(t.stencil||t.depth)&&this._resizeStencil(n)}_initColor(t,e){const n=this._renderer,s=n.gl,l=s.createFramebuffer();if(e.resolveTargetFramebuffer=l,s.bindFramebuffer(s.FRAMEBUFFER,l),e.width=t.colorTexture.source.pixelWidth,e.height=t.colorTexture.source.pixelHeight,t.colorTextures.forEach((c,h)=>{const f=c.source;f.antialias&&(n.context.supports.msaa?e.msaa=!0:ie("[RenderTexture] Antialiasing on textures is not supported in WebGL1")),n.texture.bindSource(f,0);const y=n.texture.getGlSource(f).texture;s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+h,3553,y,0)}),e.msaa){const c=s.createFramebuffer();e.framebuffer=c,s.bindFramebuffer(s.FRAMEBUFFER,c),t.colorTextures.forEach((h,f)=>{const p=s.createRenderbuffer();e.msaaRenderBuffer[f]=p})}else e.framebuffer=l;this._resizeColor(t,e)}_resizeColor(t,e){const n=t.colorTexture.source;if(e.width=n.pixelWidth,e.height=n.pixelHeight,t.colorTextures.forEach((s,l)=>{l!==0&&s.source.resize(n.width,n.height,n._resolution)}),e.msaa){const s=this._renderer,l=s.gl,c=e.framebuffer;l.bindFramebuffer(l.FRAMEBUFFER,c),t.colorTextures.forEach((h,f)=>{const p=h.source;s.texture.bindSource(p,0);const B=s.texture.getGlSource(p).internalFormat,_=e.msaaRenderBuffer[f];l.bindRenderbuffer(l.RENDERBUFFER,_),l.renderbufferStorageMultisample(l.RENDERBUFFER,4,B,p.pixelWidth,p.pixelHeight),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0+f,l.RENDERBUFFER,_)})}}_initStencil(t){if(t.framebuffer===null)return;const e=this._renderer.gl,n=e.createRenderbuffer();t.depthStencilRenderBuffer=n,e.bindRenderbuffer(e.RENDERBUFFER,n),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,n),this._resizeStencil(t)}_resizeStencil(t){const e=this._renderer.gl;e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilRenderBuffer),t.msaa?e.renderbufferStorageMultisample(e.RENDERBUFFER,4,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,this._renderer.context.webGLVersion===2?e.DEPTH24_STENCIL8:e.DEPTH_STENCIL,t.width,t.height)}prerender(t){const e=t.colorTexture.resource;this._renderer.context.multiView&&Ao.test(e)&&this._renderer.context.ensureCanvasSize(e)}postrender(t){if(this._renderer.context.multiView&&Ao.test(t.colorTexture.resource)){const e=this._renderer.context.canvas,n=t.colorTexture;n.context2D.drawImage(e,0,n.pixelHeight-e.height)}}}function e2(i,t,e,n,s,l){const c=l?1:-1;return i.identity(),i.a=1/n*2,i.d=c*(1/s*2),i.tx=-1-t*i.a,i.ty=-c-e*i.d,i}const Bd=new Map;function Ux(i,t){if(!Bd.has(i)){const e=new Ut({source:new Ao({resource:i,...t})}),n=()=>{Bd.get(i)===e&&Bd.delete(i)};e.once("destroy",n),e.source.once("destroy",n),Bd.set(i,e)}return Bd.get(i)}function i2(i){const t=i.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement&&document.body.contains(t)}const Ox=class Hx{constructor(t={}){if(this.uid=Ai("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,t={...Hx.defaultOptions,...t},this.stencil=t.stencil,this.depth=t.depth,this.isRoot=t.isRoot,typeof t.colorTextures=="number"){this._managedColorTextures=!0;for(let e=0;e<t.colorTextures;e++)this.colorTextures.push(new on({width:t.width,height:t.height,resolution:t.resolution,antialias:t.antialias}))}else{this.colorTextures=[...t.colorTextures.map(n=>n.source)];const e=this.colorTexture.source;this.resize(e.width,e.height,e._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(t.depthStencilTexture||this.stencil)&&(t.depthStencilTexture instanceof Ut||t.depthStencilTexture instanceof on?this.depthStencilTexture=t.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const t=this._size;return t[0]=this.pixelWidth,t[1]=this.pixelHeight,t}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(t){this.resize(t.width,t.height,t._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new on({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(t,e,n=this.resolution,s=!1){this.dirtyId++,this.colorTextures.forEach((l,c)=>{s&&c===0||l.source.resize(t,e,n)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(t,e,n)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach(t=>{t.destroy()}),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};Ox.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let zE=Ox;class kx{constructor(t){this.rootViewPort=new Re,this.viewport=new Re,this.onRenderTargetChange=new B_("onRenderTargetChange"),this.projectionMatrix=new Yt,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:t,clear:e,clearColor:n,frame:s}){this._renderTargetStack.length=0,this.push(t,e,n,s),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=i2(this.rootRenderTarget),this.adaptor.prerender?.(this.rootRenderTarget)}postrender(){this.adaptor.postrender?.(this.rootRenderTarget)}bind(t,e=!0,n,s){const l=this.getRenderTarget(t),c=this.renderTarget!==l;this.renderTarget=l,this.renderSurface=t;const h=this.getGpuRenderTarget(l);(l.pixelWidth!==h.width||l.pixelHeight!==h.height)&&(this.adaptor.resizeGpuRenderTarget(l),h.width=l.pixelWidth,h.height=l.pixelHeight);const f=l.colorTexture,p=this.viewport,y=f.pixelWidth,B=f.pixelHeight;if(!s&&t instanceof Ut&&(s=t.frame),s){const _=f._resolution;p.x=s.x*_+.5|0,p.y=s.y*_+.5|0,p.width=s.width*_+.5|0,p.height=s.height*_+.5|0}else p.x=0,p.y=0,p.width=y,p.height=B;return e2(this.projectionMatrix,0,0,p.width/f.resolution,p.height/f.resolution,!l.isRoot),this.adaptor.startRenderPass(l,e,n,p),c&&this.onRenderTargetChange.emit(l),l}clear(t,e=is.ALL,n){e&&(t&&(t=this.getRenderTarget(t)),this.adaptor.clear(t||this.renderTarget,e,n,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(t,e=is.ALL,n,s){const l=this.bind(t,e,n,s);return this._renderTargetStack.push({renderTarget:l,frame:s}),l}pop(){this._renderTargetStack.pop();const t=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(t.renderTarget,!1,null,t.frame)}getRenderTarget(t){return t.isTexture&&(t=t.source),this._renderSurfaceToRenderTargetHash.get(t)??this._initRenderTarget(t)}copyToTexture(t,e,n,s,l){n.x<0&&(s.width+=n.x,l.x-=n.x,n.x=0),n.y<0&&(s.height+=n.y,l.y-=n.y,n.y=0);const{pixelWidth:c,pixelHeight:h}=t;return s.width=Math.min(s.width,c-n.x),s.height=Math.min(s.height,h-n.y),this.adaptor.copyToTexture(t,e,n,s,l)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((t,e)=>{t!==e&&t.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(t){let e=null;return Ao.test(t)&&(t=Ux(t).source),t instanceof zE?e=t:t instanceof on&&(e=new zE({colorTextures:[t]}),t.source instanceof Ao&&(e.isRoot=!0),t.once("destroy",()=>{e.destroy(),this._renderSurfaceToRenderTargetHash.delete(t);const n=this._gpuRenderTargetHash[e.uid];n&&(this._gpuRenderTargetHash[e.uid]=null,this.adaptor.destroyGpuRenderTarget(n))})),this._renderSurfaceToRenderTargetHash.set(t,e),e}getGpuRenderTarget(t){return this._gpuRenderTargetHash[t.uid]||(this._gpuRenderTargetHash[t.uid]=this.adaptor.initGpuRenderTarget(t))}resetState(){this.renderTarget=null,this.renderSurface=null}}class Lx extends kx{constructor(t){super(t),this.adaptor=new t2,this.adaptor.init(t,this)}}Lx.extension={type:[J.WebGLSystem],name:"renderTarget"};class k0 extends as{constructor({buffer:t,offset:e,size:n}){super(),this.uid=Ai("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=Ai("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=t,this.offset=e|0,this.size=n,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=Ai("resource"),this.emit("change",this)}destroy(t=!1){this.destroyed=!0,t&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}function n2(i,t){const e=[],n=[`
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `];let s=!1,l=0;const c=t._getProgramData(i.glProgram);for(const f in i.groups){const p=i.groups[f];e.push(`
            resources = g[${f}].resources;
        `);for(const y in p.resources){const B=p.resources[y];if(B instanceof pa)if(B.ubo){const _=i._uniformBindMap[f][Number(y)];e.push(`
                        sS.bindUniformBlock(
                            resources[${y}],
                            '${_}',
                            ${i.glProgram._uniformBlockData[_].index}
                        );
                    `)}else e.push(`
                        ugS.updateUniformGroup(resources[${y}], p, sD);
                    `);else if(B instanceof k0){const _=i._uniformBindMap[f][Number(y)];e.push(`
                    sS.bindUniformBlock(
                        resources[${y}],
                        '${_}',
                        ${i.glProgram._uniformBlockData[_].index}
                    );
                `)}else if(B instanceof on){const _=i._uniformBindMap[f][y],x=c.uniformData[_];x&&(s||(s=!0,n.push(`
                        var tS = r.texture;
                        `)),t._gl.uniform1i(x.location,l),e.push(`
                        tS.bind(resources[${y}], ${l});
                    `),l++)}}}const h=[...n,...e].join(`
`);return new Function("r","s","sD",h)}class a2{constructor(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}function BC(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}function Jm(i){const t=new Array(i);for(let e=0;e<t.length;e++)t[e]=!1;return t}function Fx(i,t){switch(i){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Jm(2*t);case"bvec3":return Jm(3*t);case"bvec4":return Jm(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}let Yg=null;const CC={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},s2={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"};function Px(i,t){if(!Yg){const e=Object.keys(CC);Yg={};for(let n=0;n<e.length;++n){const s=e[n];Yg[i[s]]=CC[s]}}return Yg[t]}function r2(i,t){const e=Px(i,t);return s2[e]||"float32"}function o2(i,t,e=!1){const n={},s=t.getProgramParameter(i,t.ACTIVE_ATTRIBUTES);for(let c=0;c<s;c++){const h=t.getActiveAttrib(i,c);if(h.name.startsWith("gl_"))continue;const f=r2(t,h.type);n[h.name]={location:0,format:f,stride:iA(f).stride,offset:0,instance:!1,start:0}}const l=Object.keys(n);if(e){l.sort((c,h)=>c>h?1:-1);for(let c=0;c<l.length;c++)n[l[c]].location=c,t.bindAttribLocation(i,c,l[c]);t.linkProgram(i)}else for(let c=0;c<l.length;c++)n[l[c]].location=t.getAttribLocation(i,l[c]);return n}function l2(i,t){if(!t.ACTIVE_UNIFORM_BLOCKS)return{};const e={},n=t.getProgramParameter(i,t.ACTIVE_UNIFORM_BLOCKS);for(let s=0;s<n;s++){const l=t.getActiveUniformBlockName(i,s),c=t.getUniformBlockIndex(i,l),h=t.getActiveUniformBlockParameter(i,s,t.UNIFORM_BLOCK_DATA_SIZE);e[l]={name:l,index:c,size:h}}return e}function A2(i,t){const e={},n=t.getProgramParameter(i,t.ACTIVE_UNIFORMS);for(let s=0;s<n;s++){const l=t.getActiveUniform(i,s),c=l.name.replace(/\[.*?\]$/,""),h=!!l.name.match(/\[.*?\]$/),f=Px(t,l.type);e[c]={name:c,index:s,type:f,size:l.size,isArray:h,value:Fx(f,l.size)}}return e}function IC(i,t){const e=i.getShaderSource(t).split(`
`).map((p,y)=>`${y}: ${p}`),s=i.getShaderInfoLog(t).split(`
`),l={},c=s.map(p=>parseFloat(p.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(p=>p&&!l[p]?(l[p]=!0,!0):!1),h=[""];c.forEach(p=>{e[p-1]=`%c${e[p-1]}%c`,h.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const f=e.join(`
`);h[0]=f}function u2(i,t,e,n){i.getProgramParameter(t,i.LINK_STATUS)||(i.getShaderParameter(e,i.COMPILE_STATUS)||IC(i,e),i.getShaderParameter(n,i.COMPILE_STATUS)||IC(i,n),i.getProgramInfoLog(t))}function c2(i,t){const e=BC(i,i.VERTEX_SHADER,t.vertex),n=BC(i,i.FRAGMENT_SHADER,t.fragment),s=i.createProgram();i.attachShader(s,e),i.attachShader(s,n);const l=t.transformFeedbackVaryings;l&&(typeof i.transformFeedbackVaryings!="function"?ie("TransformFeedback is not supported but TransformFeedbackVaryings are given."):i.transformFeedbackVaryings(s,l.names,l.bufferMode==="separate"?i.SEPARATE_ATTRIBS:i.INTERLEAVED_ATTRIBS)),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)||u2(i,s,e,n),t._attributeData=o2(s,i,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertex)),t._uniformData=A2(s,i),t._uniformBlockData=l2(s,i),i.deleteShader(e),i.deleteShader(n);const c={};for(const f in t._uniformData){const p=t._uniformData[f];c[f]={location:i.getUniformLocation(s,f),value:Fx(p.type,p.size)}}return new a2(s,c)}const Kg={textureCount:0,blockIndex:0};class zx{constructor(t){this._activeProgram=null,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=t,this._renderer.renderableGC.addManagedHash(this,"_programDataHash")}contextChange(t){this._gl=t,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._activeProgram=null}bind(t,e){if(this._setProgram(t.glProgram),e)return;Kg.textureCount=0,Kg.blockIndex=0;let n=this._shaderSyncFunctions[t.glProgram._key];n||(n=this._shaderSyncFunctions[t.glProgram._key]=this._generateShaderSync(t,this)),this._renderer.buffer.nextBindBase(!!t.glProgram.transformFeedbackVaryings),n(this._renderer,t,Kg)}updateUniformGroup(t){this._renderer.uniformGroup.updateUniformGroup(t,this._activeProgram,Kg)}bindUniformBlock(t,e,n=0){const s=this._renderer.buffer,l=this._getProgramData(this._activeProgram),c=t._bufferResource;c||this._renderer.ubo.updateUniformGroup(t);const h=t.buffer,f=s.updateBuffer(h),p=s.freeLocationForBufferBase(f);if(c){const{offset:B,size:_}=t;B===0&&_===h.data.byteLength?s.bindBufferBase(f,p):s.bindBufferRange(f,p,B)}else s.getLastBindBaseLocation(f)!==p&&s.bindBufferBase(f,p);const y=this._activeProgram._uniformBlockData[e].index;l.uniformBlockBindings[n]!==p&&(l.uniformBlockBindings[n]=p,this._renderer.gl.uniformBlockBinding(l.program,y,p))}_setProgram(t){if(this._activeProgram===t)return;this._activeProgram=t;const e=this._getProgramData(t);this._gl.useProgram(e.program)}_getProgramData(t){return this._programDataHash[t._key]||this._createProgramData(t)}_createProgramData(t){const e=t._key;return this._programDataHash[e]=c2(this._gl,t),this._programDataHash[e]}destroy(){for(const t of Object.keys(this._programDataHash))this._programDataHash[t].destroy(),this._programDataHash[t]=null;this._programDataHash=null}_generateShaderSync(t,e){return n2(t,e)}resetState(){this._activeProgram=null}}zx.extension={type:[J.WebGLSystem],name:"shader"};const h2={f32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,"vec2<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,"vec3<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,"vec4<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,i32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,u32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,"vec2<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,"vec3<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,"vec4<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,bool:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,"mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},d2={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"};function f2(i,t){const e=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `];for(const n in i.uniforms){if(!t[n]){i.uniforms[n]instanceof pa?i.uniforms[n].ubo?e.push(`
                        renderer.shader.bindUniformBlock(uv.${n}, "${n}");
                    `):e.push(`
                        renderer.shader.updateUniformGroup(uv.${n});
                    `):i.uniforms[n]instanceof k0&&e.push(`
                        renderer.shader.bindBufferResource(uv.${n}, "${n}");
                    `);continue}const s=i.uniformStructures[n];let l=!1;for(let c=0;c<fu.length;c++){const h=fu[c];if(s.type===h.type&&h.test(s)){e.push(`name = "${n}";`,fu[c].uniform),l=!0;break}}if(!l){const h=(s.size===1?h2:d2)[s.type].replace("location",`ud["${n}"].location`);e.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",e.join(`
`))}class Yx{constructor(t){this._cache={},this._uniformGroupSyncHash={},this._renderer=t,this.gl=null,this._cache={}}contextChange(t){this.gl=t}updateUniformGroup(t,e,n){const s=this._renderer.shader._getProgramData(e);(!t.isStatic||t._dirtyId!==s.uniformDirtyGroups[t.uid])&&(s.uniformDirtyGroups[t.uid]=t._dirtyId,this._getUniformSyncFunction(t,e)(s.uniformData,t.uniforms,this._renderer,n))}_getUniformSyncFunction(t,e){return this._uniformGroupSyncHash[t._signature]?.[e._key]||this._createUniformSyncFunction(t,e)}_createUniformSyncFunction(t,e){const n=this._uniformGroupSyncHash[t._signature]||(this._uniformGroupSyncHash[t._signature]={}),s=this._getSignature(t,e._uniformData,"u");return this._cache[s]||(this._cache[s]=this._generateUniformsSync(t,e._uniformData)),n[e._key]=this._cache[s],n[e._key]}_generateUniformsSync(t,e){return f2(t,e)}_getSignature(t,e,n){const s=t.uniforms,l=[`${n}-`];for(const c in s)l.push(c),e[c]&&l.push(e[c].type);return l.join("-")}destroy(){this._renderer=null,this._cache=null}}Yx.extension={type:[J.WebGLSystem],name:"uniformGroup"};function g2(i){const t={};if(t.normal=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t.add=[i.ONE,i.ONE],t.multiply=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],t.screen=[i.ONE,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],t.none=[0,0],t["normal-npm"]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],t["add-npm"]=[i.SRC_ALPHA,i.ONE,i.ONE,i.ONE],t["screen-npm"]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],t.erase=[i.ZERO,i.ONE_MINUS_SRC_ALPHA],!(i instanceof Ee.get().getWebGLRenderingContext()))t.min=[i.ONE,i.ONE,i.ONE,i.ONE,i.MIN,i.MIN],t.max=[i.ONE,i.ONE,i.ONE,i.ONE,i.MAX,i.MAX];else{const n=i.getExtension("EXT_blend_minmax");n&&(t.min=[i.ONE,i.ONE,i.ONE,i.ONE,n.MIN_EXT,n.MIN_EXT],t.max=[i.ONE,i.ONE,i.ONE,i.ONE,n.MAX_EXT,n.MAX_EXT])}return t}const p2=0,m2=1,E2=2,y2=3,B2=4,C2=5,Kx=class YE{constructor(t){this._invertFrontFace=!1,this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[p2]=this.setBlend,this.map[m2]=this.setOffset,this.map[E2]=this.setCullFace,this.map[y2]=this.setDepthTest,this.map[B2]=this.setFrontFace,this.map[C2]=this.setDepthMask,this.checks=[],this.defaultState=Ds.for2d(),t.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(t){this._invertFrontFace=!t.isRoot,this._cullFace?this.setFrontFace(this._frontFace):this._frontFaceDirty=!0}contextChange(t){this.gl=t,this.blendModesMap=g2(t),this.resetState()}set(t){if(t||(t=this.defaultState),this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e>>=1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t||(t=this.defaultState);for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this._updateCheck(YE._checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this._updateCheck(YE._checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this._cullFace=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE),this._cullFace&&this._frontFaceDirty&&this.setFrontFace(this._frontFace)}setFrontFace(t){this._frontFace=t,this._frontFaceDirty=!1;const e=this._invertFrontFace?!t:t;this._glFrontFace!==e&&(this._glFrontFace=e,this.gl.frontFace(this.gl[e?"CW":"CCW"]))}setBlendMode(t){if(this.blendModesMap[t]||(t="normal"),t===this.blendMode)return;this.blendMode=t;const e=this.blendModesMap[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}resetState(){this._glFrontFace=!1,this._frontFace=!1,this._cullFace=!1,this._frontFaceDirty=!1,this._invertFrontFace=!1,this.gl.frontFace(this.gl.CCW),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static _checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static _checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}};Kx.extension={type:[J.WebGLSystem],name:"state"};let I2=Kx;class _2{constructor(t){this.target=xx.TEXTURE_2D,this.texture=t,this.width=-1,this.height=-1,this.type=Ne.UNSIGNED_BYTE,this.internalFormat=PE.RGBA,this.format=PE.RGBA,this.samplerType=0}}const x2={id:"buffer",upload(i,t,e){t.width===i.width||t.height===i.height?e.texSubImage2D(e.TEXTURE_2D,0,0,0,i.width,i.height,t.format,t.type,i.resource):e.texImage2D(t.target,0,t.internalFormat,i.width,i.height,0,t.format,t.type,i.resource),t.width=i.width,t.height=i.height}},Q2={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},v2={id:"compressed",upload(i,t,e){e.pixelStorei(e.UNPACK_ALIGNMENT,4);let n=i.pixelWidth,s=i.pixelHeight;const l=!!Q2[i.format];for(let c=0;c<i.resource.length;c++){const h=i.resource[c];l?e.compressedTexImage2D(e.TEXTURE_2D,c,t.internalFormat,n,s,0,h):e.texImage2D(e.TEXTURE_2D,c,t.internalFormat,n,s,0,t.format,t.type,h),n=Math.max(n>>1,1),s=Math.max(s>>1,1)}}},jx={id:"image",upload(i,t,e,n){const s=t.width,l=t.height,c=i.pixelWidth,h=i.pixelHeight,f=i.resourceWidth,p=i.resourceHeight;f<c||p<h?((s!==c||l!==h)&&e.texImage2D(t.target,0,t.internalFormat,c,h,0,t.format,t.type,null),n===2?e.texSubImage2D(e.TEXTURE_2D,0,0,0,f,p,t.format,t.type,i.resource):e.texSubImage2D(e.TEXTURE_2D,0,0,0,t.format,t.type,i.resource)):s===c&&l===h?e.texSubImage2D(e.TEXTURE_2D,0,0,0,t.format,t.type,i.resource):n===2?e.texImage2D(t.target,0,t.internalFormat,c,h,0,t.format,t.type,i.resource):e.texImage2D(t.target,0,t.internalFormat,t.format,t.type,i.resource),t.width=c,t.height=h}},b2={id:"video",upload(i,t,e,n){if(!i.isValid){e.texImage2D(t.target,0,t.internalFormat,1,1,0,t.format,t.type,null);return}jx.upload(i,t,e,n)}},_C={linear:9729,nearest:9728},S2={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},Wm={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},T2={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519};function xC(i,t,e,n,s,l,c,h){const f=l;if(!h||i.addressModeU!=="repeat"||i.addressModeV!=="repeat"||i.addressModeW!=="repeat"){const p=Wm[c?"clamp-to-edge":i.addressModeU],y=Wm[c?"clamp-to-edge":i.addressModeV],B=Wm[c?"clamp-to-edge":i.addressModeW];t[s](f,t.TEXTURE_WRAP_S,p),t[s](f,t.TEXTURE_WRAP_T,y),t.TEXTURE_WRAP_R&&t[s](f,t.TEXTURE_WRAP_R,B)}if((!h||i.magFilter!=="linear")&&t[s](f,t.TEXTURE_MAG_FILTER,_C[i.magFilter]),e){if(!h||i.mipmapFilter!=="linear"){const p=S2[i.minFilter][i.mipmapFilter];t[s](f,t.TEXTURE_MIN_FILTER,p)}}else t[s](f,t.TEXTURE_MIN_FILTER,_C[i.minFilter]);if(n&&i.maxAnisotropy>1){const p=Math.min(i.maxAnisotropy,t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));t[s](f,n.TEXTURE_MAX_ANISOTROPY_EXT,p)}i.compare&&t[s](f,t.TEXTURE_COMPARE_FUNC,T2[i.compare])}function R2(i){return{r8unorm:i.RED,r8snorm:i.RED,r8uint:i.RED,r8sint:i.RED,r16uint:i.RED,r16sint:i.RED,r16float:i.RED,rg8unorm:i.RG,rg8snorm:i.RG,rg8uint:i.RG,rg8sint:i.RG,r32uint:i.RED,r32sint:i.RED,r32float:i.RED,rg16uint:i.RG,rg16sint:i.RG,rg16float:i.RG,rgba8unorm:i.RGBA,"rgba8unorm-srgb":i.RGBA,rgba8snorm:i.RGBA,rgba8uint:i.RGBA,rgba8sint:i.RGBA,bgra8unorm:i.RGBA,"bgra8unorm-srgb":i.RGBA,rgb9e5ufloat:i.RGB,rgb10a2unorm:i.RGBA,rg11b10ufloat:i.RGB,rg32uint:i.RG,rg32sint:i.RG,rg32float:i.RG,rgba16uint:i.RGBA,rgba16sint:i.RGBA,rgba16float:i.RGBA,rgba32uint:i.RGBA,rgba32sint:i.RGBA,rgba32float:i.RGBA,stencil8:i.STENCIL_INDEX8,depth16unorm:i.DEPTH_COMPONENT,depth24plus:i.DEPTH_COMPONENT,"depth24plus-stencil8":i.DEPTH_STENCIL,depth32float:i.DEPTH_COMPONENT,"depth32float-stencil8":i.DEPTH_STENCIL}}function D2(i,t){let e={},n=i.RGBA;return i instanceof Ee.get().getWebGLRenderingContext()?t.srgb&&(e={"rgba8unorm-srgb":t.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":t.srgb.SRGB8_ALPHA8_EXT}):(e={"rgba8unorm-srgb":i.SRGB8_ALPHA8,"bgra8unorm-srgb":i.SRGB8_ALPHA8},n=i.RGBA8),{r8unorm:i.R8,r8snorm:i.R8_SNORM,r8uint:i.R8UI,r8sint:i.R8I,r16uint:i.R16UI,r16sint:i.R16I,r16float:i.R16F,rg8unorm:i.RG8,rg8snorm:i.RG8_SNORM,rg8uint:i.RG8UI,rg8sint:i.RG8I,r32uint:i.R32UI,r32sint:i.R32I,r32float:i.R32F,rg16uint:i.RG16UI,rg16sint:i.RG16I,rg16float:i.RG16F,rgba8unorm:i.RGBA,...e,rgba8snorm:i.RGBA8_SNORM,rgba8uint:i.RGBA8UI,rgba8sint:i.RGBA8I,bgra8unorm:n,rgb9e5ufloat:i.RGB9_E5,rgb10a2unorm:i.RGB10_A2,rg11b10ufloat:i.R11F_G11F_B10F,rg32uint:i.RG32UI,rg32sint:i.RG32I,rg32float:i.RG32F,rgba16uint:i.RGBA16UI,rgba16sint:i.RGBA16I,rgba16float:i.RGBA16F,rgba32uint:i.RGBA32UI,rgba32sint:i.RGBA32I,rgba32float:i.RGBA32F,stencil8:i.STENCIL_INDEX8,depth16unorm:i.DEPTH_COMPONENT16,depth24plus:i.DEPTH_COMPONENT24,"depth24plus-stencil8":i.DEPTH24_STENCIL8,depth32float:i.DEPTH_COMPONENT32F,"depth32float-stencil8":i.DEPTH32F_STENCIL8,...t.s3tc?{"bc1-rgba-unorm":t.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":t.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":t.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{},...t.s3tc_sRGB?{"bc1-rgba-unorm-srgb":t.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":t.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":t.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{},...t.rgtc?{"bc4-r-unorm":t.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":t.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":t.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":t.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{},...t.bptc?{"bc6h-rgb-float":t.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":t.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":t.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":t.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{},...t.etc?{"etc2-rgb8unorm":t.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":t.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":t.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":t.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":t.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":t.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":t.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":t.etc.COMPRESSED_SIGNED_RG11_EAC}:{},...t.astc?{"astc-4x4-unorm":t.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":t.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":t.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":t.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":t.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":t.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":t.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":t.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":t.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":t.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":t.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":t.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":t.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":t.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{}}}function M2(i){return{r8unorm:i.UNSIGNED_BYTE,r8snorm:i.BYTE,r8uint:i.UNSIGNED_BYTE,r8sint:i.BYTE,r16uint:i.UNSIGNED_SHORT,r16sint:i.SHORT,r16float:i.HALF_FLOAT,rg8unorm:i.UNSIGNED_BYTE,rg8snorm:i.BYTE,rg8uint:i.UNSIGNED_BYTE,rg8sint:i.BYTE,r32uint:i.UNSIGNED_INT,r32sint:i.INT,r32float:i.FLOAT,rg16uint:i.UNSIGNED_SHORT,rg16sint:i.SHORT,rg16float:i.HALF_FLOAT,rgba8unorm:i.UNSIGNED_BYTE,"rgba8unorm-srgb":i.UNSIGNED_BYTE,rgba8snorm:i.BYTE,rgba8uint:i.UNSIGNED_BYTE,rgba8sint:i.BYTE,bgra8unorm:i.UNSIGNED_BYTE,"bgra8unorm-srgb":i.UNSIGNED_BYTE,rgb9e5ufloat:i.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:i.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:i.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:i.UNSIGNED_INT,rg32sint:i.INT,rg32float:i.FLOAT,rgba16uint:i.UNSIGNED_SHORT,rgba16sint:i.SHORT,rgba16float:i.HALF_FLOAT,rgba32uint:i.UNSIGNED_INT,rgba32sint:i.INT,rgba32float:i.FLOAT,stencil8:i.UNSIGNED_BYTE,depth16unorm:i.UNSIGNED_SHORT,depth24plus:i.UNSIGNED_INT,"depth24plus-stencil8":i.UNSIGNED_INT_24_8,depth32float:i.FLOAT,"depth32float-stencil8":i.FLOAT_32_UNSIGNED_INT_24_8_REV}}const w2=4;class Xx{constructor(t){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:jx,buffer:x2,video:b2,compressed:v2},this._premultiplyAlpha=!1,this._useSeparateSamplers=!1,this._renderer=t,this._renderer.renderableGC.addManagedHash(this,"_glTextures"),this._renderer.renderableGC.addManagedHash(this,"_glSamplers")}contextChange(t){this._gl=t,this._mapFormatToInternalFormat||(this._mapFormatToInternalFormat=D2(t,this._renderer.context.extensions),this._mapFormatToType=M2(t),this._mapFormatToFormat=R2(t)),this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null),this._premultiplyAlpha=!1;for(let e=0;e<16;e++)this.bind(Ut.EMPTY,e)}initSource(t){this.bind(t)}bind(t,e=0){const n=t.source;t?(this.bindSource(n,e),this._useSeparateSamplers&&this._bindSampler(n.style,e)):(this.bindSource(null,e),this._useSeparateSamplers&&this._bindSampler(null,e))}bindSource(t,e=0){const n=this._gl;if(t._touched=this._renderer.textureGC.count,this._boundTextures[e]!==t){this._boundTextures[e]=t,this._activateLocation(e),t||(t=Ut.EMPTY.source);const s=this.getGlSource(t);n.bindTexture(s.target,s.texture)}}_bindSampler(t,e=0){const n=this._gl;if(!t){this._boundSamplers[e]=null,n.bindSampler(e,null);return}const s=this._getGlSampler(t);this._boundSamplers[e]!==s&&(this._boundSamplers[e]=s,n.bindSampler(e,s))}unbind(t){const e=t.source,n=this._boundTextures,s=this._gl;for(let l=0;l<n.length;l++)if(n[l]===e){this._activateLocation(l);const c=this.getGlSource(e);s.bindTexture(c.target,null),n[l]=null}}_activateLocation(t){this._activeTextureLocation!==t&&(this._activeTextureLocation=t,this._gl.activeTexture(this._gl.TEXTURE0+t))}_initSource(t){const e=this._gl,n=new _2(e.createTexture());if(n.type=this._mapFormatToType[t.format],n.internalFormat=this._mapFormatToInternalFormat[t.format],n.format=this._mapFormatToFormat[t.format],t.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||t.isPowerOfTwo)){const s=Math.max(t.width,t.height);t.mipLevelCount=Math.floor(Math.log2(s))+1}return this._glTextures[t.uid]=n,this.managedTextures.includes(t)||(t.on("update",this.onSourceUpdate,this),t.on("resize",this.onSourceUpdate,this),t.on("styleChange",this.onStyleChange,this),t.on("destroy",this.onSourceDestroy,this),t.on("unload",this.onSourceUnload,this),t.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(t)),this.onSourceUpdate(t),this.updateStyle(t,!1),n}onStyleChange(t){this.updateStyle(t,!1)}updateStyle(t,e){const n=this._gl,s=this.getGlSource(t);n.bindTexture(n.TEXTURE_2D,s.texture),this._boundTextures[this._activeTextureLocation]=t,xC(t.style,n,t.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",n.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!t.isPowerOfTwo,e)}onSourceUnload(t){const e=this._glTextures[t.uid];e&&(this.unbind(t),this._glTextures[t.uid]=null,this._gl.deleteTexture(e.texture))}onSourceUpdate(t){const e=this._gl,n=this.getGlSource(t);e.bindTexture(e.TEXTURE_2D,n.texture),this._boundTextures[this._activeTextureLocation]=t;const s=t.alphaMode==="premultiply-alpha-on-upload";this._premultiplyAlpha!==s&&(this._premultiplyAlpha=s,e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s)),this._uploads[t.uploadMethodId]?this._uploads[t.uploadMethodId].upload(t,n,e,this._renderer.context.webGLVersion):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.pixelWidth,t.pixelHeight,0,e.RGBA,e.UNSIGNED_BYTE,null),t.autoGenerateMipmaps&&t.mipLevelCount>1&&this.onUpdateMipmaps(t,!1)}onUpdateMipmaps(t,e=!0){e&&this.bindSource(t,0);const n=this.getGlSource(t);this._gl.generateMipmap(n.target)}onSourceDestroy(t){t.off("destroy",this.onSourceDestroy,this),t.off("update",this.onSourceUpdate,this),t.off("resize",this.onSourceUpdate,this),t.off("unload",this.onSourceUnload,this),t.off("styleChange",this.onStyleChange,this),t.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(t),1),this.onSourceUnload(t)}_initSampler(t){const e=this._gl,n=this._gl.createSampler();return this._glSamplers[t._resourceId]=n,xC(t,e,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",n,!1,!0),this._glSamplers[t._resourceId]}_getGlSampler(t){return this._glSamplers[t._resourceId]||this._initSampler(t)}getGlSource(t){return this._glTextures[t.uid]||this._initSource(t)}generateCanvas(t){const{pixels:e,width:n,height:s}=this.getPixels(t),l=Ee.get().createCanvas();l.width=n,l.height=s;const c=l.getContext("2d");if(c){const h=c.createImageData(n,s);h.data.set(e),c.putImageData(h,0,0)}return l}getPixels(t){const e=t.source.resolution,n=t.frame,s=Math.max(Math.round(n.width*e),1),l=Math.max(Math.round(n.height*e),1),c=new Uint8Array(w2*s*l),h=this._renderer,f=h.renderTarget.getRenderTarget(t),p=h.renderTarget.getGpuRenderTarget(f),y=h.gl;return y.bindFramebuffer(y.FRAMEBUFFER,p.resolveTargetFramebuffer),y.readPixels(Math.round(n.x*e),Math.round(n.y*e),s,l,y.RGBA,y.UNSIGNED_BYTE,c),{pixels:new Uint8ClampedArray(c.buffer),width:s,height:l}}destroy(){this.managedTextures.slice().forEach(t=>this.onSourceDestroy(t)),this.managedTextures=null,this._renderer=null}resetState(){this._activeTextureLocation=-1,this._boundTextures.fill(Ut.EMPTY.source),this._boundSamplers=Object.create(null);const t=this._gl;this._premultiplyAlpha=!1,t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha)}}Xx.extension={type:[J.WebGLSystem],name:"texture"};class Vx{contextChange(t){const e=new pa({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new Yt,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),n=t.limits.maxBatchableTextures,s=qd({name:"graphics",bits:[y0,C0(n),U0,Wd]});this.shader=new ws({glProgram:s,resources:{localUniforms:e,batchSamplers:I0(n)}})}execute(t,e){const n=e.context,s=n.customShader||this.shader,l=t.renderer,c=l.graphicsContext,{batcher:h,instructions:f}=c.getContextRenderData(n);s.groups[0]=l.globalUniforms.bindGroup,l.state.set(t.state),l.shader.bind(s),l.geometry.bind(h.geometry,s.glProgram);const p=f.instructions;for(let y=0;y<f.instructionSize;y++){const B=p[y];if(B.size){for(let _=0;_<B.textures.count;_++)l.texture.bind(B.textures.textures[_],_);l.geometry.draw(B.topology,B.size,B.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}Vx.extension={type:[J.WebGLPipesAdaptor],name:"graphics"};class qx{init(){const t=qd({name:"mesh",bits:[U0,kD,Wd]});this._shader=new ws({glProgram:t,resources:{uTexture:Ut.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new Yt}}}})}execute(t,e){const n=t.renderer;let s=e._shader;if(s){if(!s.glProgram){ie("Mesh shader has no glProgram",e.shader);return}}else{s=this._shader;const l=e.texture,c=l.source;s.resources.uTexture=c,s.resources.uSampler=c.style,s.resources.textureUniforms.uniforms.uTextureMatrix=l.textureMatrix.mapCoord}s.groups[100]=n.globalUniforms.bindGroup,s.groups[101]=t.localUniformsBindGroup,n.encoder.draw({geometry:e._geometry,shader:s,state:e.state})}destroy(){this._shader.destroy(!0),this._shader=null}}qx.extension={type:[J.WebGLPipesAdaptor],name:"mesh"};class Jx{constructor(t){this._renderer=t}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(t,e){this._renderer.renderPipes.batch.break(e),e.add(t)}execute(t){t.isRenderable&&t.render(this._renderer)}destroy(){this._renderer=null}}Jx.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"customRender"};class xp{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}function KE(i,t){const e=i.instructionSet,n=e.instructions;for(let s=0;s<e.instructionSize;s++){const l=n[s];t[l.renderPipeId].execute(l)}}const G2=new Yt;class Wx{constructor(t){this._renderer=t}addRenderGroup(t,e){t.isCachedAsTexture?this._addRenderableCacheAsTexture(t,e):this._addRenderableDirect(t,e)}execute(t){t.isRenderable&&(t.isCachedAsTexture?this._executeCacheAsTexture(t):this._executeDirect(t))}destroy(){this._renderer=null}_addRenderableDirect(t,e){this._renderer.renderPipes.batch.break(e),t._batchableRenderGroup&&(ln.return(t._batchableRenderGroup),t._batchableRenderGroup=null),e.add(t)}_addRenderableCacheAsTexture(t,e){const n=t._batchableRenderGroup??(t._batchableRenderGroup=ln.get(xp));n.renderable=t.root,n.transform=t.root.relativeGroupTransform,n.texture=t.texture,n.bounds=t._textureBounds,e.add(t),this._renderer.renderPipes.batch.addToBatch(n,e)}_executeCacheAsTexture(t){if(t.textureNeedsUpdate){t.textureNeedsUpdate=!1;const e=G2.identity().translate(-t._textureBounds.x,-t._textureBounds.y);this._renderer.renderTarget.push(t.texture,!0,null,t.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:e,worldColor:4294967295}),KE(t,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}t._batchableRenderGroup._batcher.updateElement(t._batchableRenderGroup),t._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(t){this._renderer.globalUniforms.push({worldTransformMatrix:t.inverseParentTextureTransform,worldColor:t.worldColorAlpha}),KE(t,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}Wx.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"renderGroup"};function jE(i,t){t||(t=0);for(let e=t;e<i.length&&i[e];e++)i[e]=null}const N2=new He,QC=Gd|lp|c0;function Zx(i,t=!1){U2(i);const e=i.childrenToUpdate,n=i.updateTick++;for(const s in e){const l=Number(s),c=e[s],h=c.list,f=c.index;for(let p=0;p<f;p++){const y=h[p];y.parentRenderGroup===i&&y.relativeRenderGroupDepth===l&&$x(y,n,0)}jE(h,f),c.index=0}if(t)for(let s=0;s<i.renderGroupChildren.length;s++)Zx(i.renderGroupChildren[s],t)}function U2(i){const t=i.root;let e;if(i.renderGroupParent){const n=i.renderGroupParent;i.worldTransform.appendFrom(t.relativeGroupTransform,n.worldTransform),i.worldColor=op(t.groupColor,n.worldColor),e=t.groupAlpha*n.worldAlpha}else i.worldTransform.copyFrom(t.localTransform),i.worldColor=t.localColor,e=t.localAlpha;e=e<0?0:e>1?1:e,i.worldAlpha=e,i.worldColorAlpha=i.worldColor+((e*255|0)<<24)}function $x(i,t,e){if(t===i.updateTick)return;i.updateTick=t,i.didChange=!1;const n=i.localTransform;i.updateLocalTransform();const s=i.parent;if(s&&!s.renderGroup?(e|=i._updateFlags,i.relativeGroupTransform.appendFrom(n,s.relativeGroupTransform),e&QC&&vC(i,s,e)):(e=i._updateFlags,i.relativeGroupTransform.copyFrom(n),e&QC&&vC(i,N2,e)),!i.renderGroup){const l=i.children,c=l.length;for(let p=0;p<c;p++)$x(l[p],t,e);const h=i.parentRenderGroup,f=i;f.renderPipeId&&!h.structureDidChange&&h.updateRenderable(f)}}function vC(i,t,e){if(e&lp){i.groupColor=op(i.localColor,t.groupColor);let n=i.localAlpha*t.groupAlpha;n=n<0?0:n>1?1:n,i.groupAlpha=n,i.groupColorAlpha=i.groupColor+((n*255|0)<<24)}e&c0&&(i.groupBlendMode=i.localBlendMode==="inherit"?t.groupBlendMode:i.localBlendMode),e&Gd&&(i.globalDisplayStatus=i.localDisplayStatus&t.globalDisplayStatus),i._updateFlags=0}function O2(i,t){const{list:e,index:n}=i.childrenRenderablesToUpdate;let s=!1;for(let l=0;l<n;l++){const c=e[l];if(s=t[c.renderPipeId].validateRenderable(c),s)break}return i.structureDidChange=s,s}const H2=new Yt;class tQ{constructor(t){this._renderer=t}render({container:t,transform:e}){const n=t.parent,s=t.renderGroup.renderGroupParent;t.parent=null,t.renderGroup.renderGroupParent=null;const l=this._renderer;let c=H2;e&&(c=c.copyFrom(t.renderGroup.localTransform),t.renderGroup.localTransform.copyFrom(e));const h=l.renderPipes;this._updateCachedRenderGroups(t.renderGroup,null),this._updateRenderGroups(t.renderGroup),l.globalUniforms.start({worldTransformMatrix:e?t.renderGroup.localTransform:t.renderGroup.worldTransform,worldColor:t.renderGroup.worldColorAlpha}),KE(t.renderGroup,h),h.uniformBatch&&h.uniformBatch.renderEnd(),e&&t.renderGroup.localTransform.copyFrom(c),t.parent=n,t.renderGroup.renderGroupParent=s}destroy(){this._renderer=null}_updateCachedRenderGroups(t,e){if(t.isCachedAsTexture){if(!t.updateCacheTexture)return;e=t}t._parentCacheAsTextureRenderGroup=e;for(let n=t.renderGroupChildren.length-1;n>=0;n--)this._updateCachedRenderGroups(t.renderGroupChildren[n],e);if(t.invalidateMatrices(),t.isCachedAsTexture){if(t.textureNeedsUpdate){const n=t.root.getLocalBounds();n.ceil();const s=t.texture;t.texture&&qn.returnTexture(t.texture);const l=this._renderer,c=t.textureOptions.resolution||l.view.resolution,h=t.textureOptions.antialias??l.view.antialias;t.texture=qn.getOptimalTexture(n.width,n.height,c,h),t._textureBounds||(t._textureBounds=new pn),t._textureBounds.copyFrom(n),s!==t.texture&&t.renderGroupParent&&(t.renderGroupParent.structureDidChange=!0)}}else t.texture&&(qn.returnTexture(t.texture),t.texture=null)}_updateRenderGroups(t){const e=this._renderer,n=e.renderPipes;if(t.runOnRender(e),t.instructionSet.renderPipes=n,t.structureDidChange?jE(t.childrenRenderablesToUpdate.list,0):O2(t,n),Zx(t),t.structureDidChange?(t.structureDidChange=!1,this._buildInstructions(t,e)):this._updateRenderables(t),t.childrenRenderablesToUpdate.index=0,e.renderPipes.batch.upload(t.instructionSet),!(t.isCachedAsTexture&&!t.textureNeedsUpdate))for(let s=0;s<t.renderGroupChildren.length;s++)this._updateRenderGroups(t.renderGroupChildren[s])}_updateRenderables(t){const{list:e,index:n}=t.childrenRenderablesToUpdate;for(let s=0;s<n;s++){const l=e[s];l.didViewUpdate&&t.updateRenderable(l)}jE(e,n)}_buildInstructions(t,e){const n=t.root,s=t.instructionSet;s.reset();const l=e.renderPipes?e:e.batch.renderer,c=l.renderPipes;c.batch.buildStart(s),c.blendMode.buildStart(),c.colorMask.buildStart(),n.sortableChildren&&n.sortChildren(),n.collectRenderablesWithEffects(s,l,null),c.batch.buildEnd(s),c.blendMode.buildEnd(s)}}tQ.extension={type:[J.WebGLSystem,J.WebGPUSystem,J.CanvasSystem],name:"renderGroup"};class eQ{constructor(t){this._renderer=t}addRenderable(t,e){const n=this._getGpuSprite(t);t.didViewUpdate&&this._updateBatchableSprite(t,n),this._renderer.renderPipes.batch.addToBatch(n,e)}updateRenderable(t){const e=this._getGpuSprite(t);t.didViewUpdate&&this._updateBatchableSprite(t,e),e._batcher.updateElement(e)}validateRenderable(t){const e=this._getGpuSprite(t);return!e._batcher.checkAndUpdateTexture(e,t._texture)}_updateBatchableSprite(t,e){e.bounds=t.visualBounds,e.texture=t._texture}_getGpuSprite(t){return t._gpuData[this._renderer.uid]||this._initGPUSprite(t)}_initGPUSprite(t){const e=new xp;return e.renderable=t,e.transform=t.groupTransform,e.texture=t._texture,e.bounds=t.visualBounds,e.roundPixels=this._renderer._roundPixels|t._roundPixels,t._gpuData[this._renderer.uid]=e,e}destroy(){this._renderer=null}}eQ.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"sprite"};const L0=class iQ{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ye(0),this.color=this._backgroundColor,this.alpha=1}init(t){t={...iQ.defaultOptions,...t},this.clearBeforeRender=t.clearBeforeRender,this.color=t.background||t.backgroundColor||this._backgroundColor,this.alpha=t.backgroundAlpha,this._backgroundColor.setAlpha(t.backgroundAlpha)}get color(){return this._backgroundColor}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};L0.extension={type:[J.WebGLSystem,J.WebGPUSystem,J.CanvasSystem],name:"background",priority:0};L0.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let k2=L0;const kd={};Xt.handle(J.BlendMode,i=>{if(!i.name)throw new Error("BlendMode extension must have a name property");kd[i.name]=i.ref},i=>{delete kd[i.name]});class nQ{constructor(t){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=t,this._renderer.runners.prerender.add(this)}prerender(){this._activeBlendMode="normal",this._isAdvanced=!1}setBlendMode(t,e,n){if(this._activeBlendMode===e){this._isAdvanced&&this._renderableList.push(t);return}this._activeBlendMode=e,this._isAdvanced&&this._endAdvancedBlendMode(n),this._isAdvanced=!!kd[e],this._isAdvanced&&(this._beginAdvancedBlendMode(n),this._renderableList.push(t))}_beginAdvancedBlendMode(t){this._renderer.renderPipes.batch.break(t);const e=this._activeBlendMode;if(!kd[e]){ie(`Unable to assign BlendMode: '${e}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);return}let n=this._filterHash[e];n||(n=this._filterHash[e]=new rp,n.filters=[new kd[e]]);const s={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:n,canBundle:!1};this._renderableList=s.renderables,t.add(s)}_endAdvancedBlendMode(t){this._renderableList=null,this._renderer.renderPipes.batch.break(t),t.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(t){this._isAdvanced&&this._endAdvancedBlendMode(t)}destroy(){this._renderer=null,this._renderableList=null;for(const t in this._filterHash)this._filterHash[t].destroy();this._filterHash=null}}nQ.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"blendMode"};const Zm={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},F0=class aQ{constructor(t){this._renderer=t}_normalizeOptions(t,e={}){return t instanceof He||t instanceof Ut?{target:t,...e}:{...e,...t}}async image(t){const e=new Image;return e.src=await this.base64(t),e}async base64(t){t=this._normalizeOptions(t,aQ.defaultImageOptions);const{format:e,quality:n}=t,s=this.canvas(t);if(s.toBlob!==void 0)return new Promise((l,c)=>{s.toBlob(h=>{if(!h){c(new Error("ICanvas.toBlob failed!"));return}const f=new FileReader;f.onload=()=>l(f.result),f.onerror=c,f.readAsDataURL(h)},Zm[e],n)});if(s.toDataURL!==void 0)return s.toDataURL(Zm[e],n);if(s.convertToBlob!==void 0){const l=await s.convertToBlob({type:Zm[e],quality:n});return new Promise((c,h)=>{const f=new FileReader;f.onload=()=>c(f.result),f.onerror=h,f.readAsDataURL(l)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t){t=this._normalizeOptions(t);const e=t.target,n=this._renderer;if(e instanceof Ut)return n.texture.generateCanvas(e);const s=n.textureGenerator.generateTexture(t),l=n.texture.generateCanvas(s);return s.destroy(!0),l}pixels(t){t=this._normalizeOptions(t);const e=t.target,n=this._renderer,s=e instanceof Ut?e:n.textureGenerator.generateTexture(t),l=n.texture.getPixels(s);return e instanceof He&&s.destroy(!0),l}texture(t){return t=this._normalizeOptions(t),t.target instanceof Ut?t.target:this._renderer.textureGenerator.generateTexture(t)}download(t){t=this._normalizeOptions(t);const e=this.canvas(t),n=document.createElement("a");n.download=t.filename??"image.png",n.href=e.toDataURL("image/png"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}log(t){const e=t.width??200;t=this._normalizeOptions(t);const s=this.canvas(t).toDataURL(),l=["font-size: 1px;",`padding: ${e}px 300px;`,`background: url(${s}) no-repeat;`,"background-size: contain;"].join(" ")}destroy(){this._renderer=null}};F0.extension={type:[J.WebGLSystem,J.WebGPUSystem],name:"extract"};F0.defaultImageOptions={format:"png",quality:1};let L2=F0;class P0 extends Ut{static create(t){return new P0({source:new on(t)})}resize(t,e,n){return this.source.resize(t,e,n),this}}const F2=new Re,P2=new pn,z2=[0,0,0,0];class sQ{constructor(t){this._renderer=t}generateTexture(t){t instanceof He&&(t={target:t,frame:void 0,textureSourceOptions:{},resolution:void 0});const e=t.resolution||this._renderer.resolution,n=t.antialias||this._renderer.view.antialias,s=t.target;let l=t.clearColor;l?l=Array.isArray(l)&&l.length===4?l:Ye.shared.setValue(l).toArray():l=z2;const c=t.frame?.copyTo(F2)||u0(s,P2).rectangle;c.width=Math.max(c.width,1/e)|0,c.height=Math.max(c.height,1/e)|0;const h=P0.create({...t.textureSourceOptions,width:c.width,height:c.height,resolution:e,antialias:n}),f=Yt.shared.translate(-c.x,-c.y);return this._renderer.render({container:s,transform:f,target:h,clearColor:l}),h.source.updateMipmaps(),h}destroy(){this._renderer=null}}sQ.extension={type:[J.WebGLSystem,J.WebGPUSystem],name:"textureGenerator"};function $d(i,t,e){const n=(i>>24&255)/255;t[e++]=(i&255)/255*n,t[e++]=(i>>8&255)/255*n,t[e++]=(i>>16&255)/255*n,t[e++]=n}class rQ{constructor(t){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=t}reset(){this._stackIndex=0;for(let t=0;t<this._activeUniforms.length;t++)this._uniformsPool.push(this._activeUniforms[t]);for(let t=0;t<this._activeBindGroups.length;t++)this._bindGroupPool.push(this._activeBindGroups[t]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(t){this.reset(),this.push(t)}bind({size:t,projectionMatrix:e,worldTransformMatrix:n,worldColor:s,offset:l}){const c=this._renderer.renderTarget.renderTarget,h=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{worldTransformMatrix:new Yt,worldColor:4294967295,offset:new We},f={projectionMatrix:e||this._renderer.renderTarget.projectionMatrix,resolution:t||c.size,worldTransformMatrix:n||h.worldTransformMatrix,worldColor:s||h.worldColor,offset:l||h.offset,bindGroup:null},p=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(p);const y=p.uniforms;y.uProjectionMatrix=f.projectionMatrix,y.uResolution=f.resolution,y.uWorldTransformMatrix.copyFrom(f.worldTransformMatrix),y.uWorldTransformMatrix.tx-=f.offset.x,y.uWorldTransformMatrix.ty-=f.offset.y,$d(f.worldColor,y.uWorldColorAlpha,0),p.update();let B;this._renderer.renderPipes.uniformBatch?B=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(p,!1):(B=this._bindGroupPool.pop()||new Jo,this._activeBindGroups.push(B),B.setResource(p,0)),f.bindGroup=B,this._currentGlobalUniformData=f}push(t){this.bind(t),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===dr.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new pa({uProjectionMatrix:{value:new Yt,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new Yt,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}rQ.extension={type:[J.WebGLSystem,J.WebGPUSystem,J.CanvasSystem],name:"globalUniforms"};let Y2=1;class oQ{constructor(){this._tasks=[],this._offset=0}init(){Mn.system.add(this._update,this)}repeat(t,e,n=!0){const s=Y2++;let l=0;return n&&(this._offset+=1e3,l=this._offset),this._tasks.push({func:t,duration:e,start:performance.now(),offset:l,last:performance.now(),repeat:!0,id:s}),s}cancel(t){for(let e=0;e<this._tasks.length;e++)if(this._tasks[e].id===t){this._tasks.splice(e,1);return}}_update(){const t=performance.now();for(let e=0;e<this._tasks.length;e++){const n=this._tasks[e];if(t-n.offset-n.last>=n.duration){const s=t-n.start;n.func(s),n.last=t}}}destroy(){Mn.system.remove(this._update,this),this._tasks.length=0}}oQ.extension={type:[J.WebGLSystem,J.WebGPUSystem,J.CanvasSystem],name:"scheduler",priority:0};let bC=!1;function K2(i){if(!bC){if(Ee.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const t=[`%c  %c  %c  %c  %c PixiJS %c v${up} (${i}) http://www.pixijs.com/

`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...t)}else globalThis.console&&globalThis.console.log(`PixiJS ${up} - ${i} - http://www.pixijs.com/`);bC=!0}}class z0{constructor(t){this._renderer=t}init(t){if(t.hello){let e=this._renderer.name;this._renderer.type===dr.WEBGL&&(e+=` ${this._renderer.context.webGLVersion}`),K2(e)}}}z0.extension={type:[J.WebGLSystem,J.WebGPUSystem,J.CanvasSystem],name:"hello",priority:-2};z0.defaultOptions={hello:!1};function j2(i){let t=!1;for(const n in i)if(i[n]==null){t=!0;break}if(!t)return i;const e=Object.create(null);for(const n in i){const s=i[n];s&&(e[n]=s)}return e}function X2(i){let t=0;for(let e=0;e<i.length;e++)i[e]==null?t++:i[e-t]=i[e];return i.length-=t,i}let V2=0;const Y0=class lQ{constructor(t){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=t}init(t){t={...lQ.defaultOptions,...t},this.maxUnusedTime=t.renderableGCMaxUnusedTime,this._frequency=t.renderableGCFrequency,this.enabled=t.renderableGCActive}get enabled(){return!!this._handler}set enabled(t){this.enabled!==t&&(t?(this._handler=this._renderer.scheduler.repeat(()=>this.run(),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat(()=>{for(const e of this._managedHashes)e.context[e.hash]=j2(e.context[e.hash])},this._frequency),this._arrayHandler=this._renderer.scheduler.repeat(()=>{for(const e of this._managedArrays)X2(e.context[e.hash])},this._frequency)):(this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)))}addManagedHash(t,e){this._managedHashes.push({context:t,hash:e})}addManagedArray(t,e){this._managedArrays.push({context:t,hash:e})}prerender({container:t}){this._now=performance.now(),t.renderGroup.gcTick=V2++,this._updateInstructionGCTick(t.renderGroup,t.renderGroup.gcTick)}addRenderable(t){this.enabled&&(t._lastUsed===-1&&(this._managedRenderables.push(t),t.once("destroyed",this._removeRenderable,this)),t._lastUsed=this._now)}run(){const t=this._now,e=this._managedRenderables,n=this._renderer.renderPipes;let s=0;for(let l=0;l<e.length;l++){const c=e[l];if(c===null){s++;continue}const h=c.renderGroup??c.parentRenderGroup,f=h?.instructionSet?.gcTick??-1;if((h?.gcTick??0)===f&&(c._lastUsed=t),t-c._lastUsed>this.maxUnusedTime){if(!c.destroyed){const p=n;h&&(h.structureDidChange=!0),p[c.renderPipeId].destroyRenderable(c)}c._lastUsed=-1,s++,c.off("destroyed",this._removeRenderable,this)}else e[l-s]=c}e.length-=s}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(t){const e=this._managedRenderables.indexOf(t);e>=0&&(t.off("destroyed",this._removeRenderable,this),this._managedRenderables[e]=null)}_updateInstructionGCTick(t,e){t.instructionSet.gcTick=e;for(const n of t.renderGroupChildren)this._updateInstructionGCTick(n,e)}};Y0.extension={type:[J.WebGLSystem,J.WebGPUSystem],name:"renderableGC",priority:0};Y0.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:6e4,renderableGCFrequency:3e4};let q2=Y0;const K0=class AQ{constructor(t){this._renderer=t,this.count=0,this.checkCount=0}init(t){t={...AQ.defaultOptions,...t},this.checkCountMax=t.textureGCCheckCountMax,this.maxIdle=t.textureGCAMaxIdle??t.textureGCMaxIdle,this.active=t.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this._renderer.texture.managedTextures;for(let e=0;e<t.length;e++){const n=t[e];n.autoGarbageCollect&&n.resource&&n._touched>-1&&this.count-n._touched>this.maxIdle&&(n._touched=-1,n.unload())}}destroy(){this._renderer=null}};K0.extension={type:[J.WebGLSystem,J.WebGPUSystem],name:"textureGC"};K0.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:60*60,textureGCCheckCountMax:600};let J2=K0;const j0=class uQ{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(t){this.texture.source.autoDensity=t}get resolution(){return this.texture.source._resolution}set resolution(t){this.texture.source.resize(this.texture.source.width,this.texture.source.height,t)}init(t){t={...uQ.defaultOptions,...t},t.view&&(ue(_e,"ViewSystem.view has been renamed to ViewSystem.canvas"),t.canvas=t.view),this.screen=new Re(0,0,t.width,t.height),this.canvas=t.canvas||Ee.get().createCanvas(),this.antialias=!!t.antialias,this.texture=Ux(this.canvas,t),this.renderTarget=new zE({colorTextures:[this.texture],depth:!!t.depth,isRoot:!0}),this.texture.source.transparent=t.backgroundAlpha<1,this.resolution=t.resolution}resize(t,e,n){this.texture.source.resize(t,e,n),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(t=!1){(typeof t=="boolean"?t:!!t?.removeView)&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};j0.extension={type:[J.WebGLSystem,J.WebGPUSystem,J.CanvasSystem],name:"view",priority:0};j0.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};let W2=j0;const cQ=[k2,rQ,z0,W2,tQ,J2,sQ,L2,x_,q2,oQ],hQ=[nQ,mx,eQ,Wx,Ex,Bx,yx,Jx],Z2=[...cQ,Nx,VD,zD,Tx,Cx,Xx,Lx,Qx,Yx,zx,Sx,I2,Rx,bx],$2=[...hQ],tM=[fx,qx,Vx],dQ=[],fQ=[],gQ=[];Xt.handleByNamedList(J.WebGLSystem,dQ);Xt.handleByNamedList(J.WebGLPipes,fQ);Xt.handleByNamedList(J.WebGLPipesAdaptor,gQ);Xt.add(...Z2,...$2,...tM);class eM extends Bp{constructor(){const t={name:"webgl",type:dr.WEBGL,systems:dQ,renderPipes:fQ,renderPipeAdaptors:gQ};super(t)}}const iM=Object.freeze(Object.defineProperty({__proto__:null,WebGLRenderer:eM},Symbol.toStringTag,{value:"Module"}));class pQ{constructor(t){this._hash=Object.create(null),this._renderer=t,this._renderer.renderableGC.addManagedHash(this,"_hash")}contextChange(t){this._gpu=t}getBindGroup(t,e,n){return t._updateKey(),this._hash[t._key]||this._createBindGroup(t,e,n)}_createBindGroup(t,e,n){const s=this._gpu.device,l=e.layout[n],c=[],h=this._renderer;for(const y in l){const B=t.resources[y]??t.resources[l[y]];let _;if(B._resourceType==="uniformGroup"){const x=B;h.ubo.updateUniformGroup(x);const v=x.buffer;_={buffer:h.buffer.getGPUBuffer(v),offset:0,size:v.descriptor.size}}else if(B._resourceType==="buffer"){const x=B;_={buffer:h.buffer.getGPUBuffer(x),offset:0,size:x.descriptor.size}}else if(B._resourceType==="bufferResource"){const x=B;_={buffer:h.buffer.getGPUBuffer(x.buffer),offset:x.offset,size:x.size}}else if(B._resourceType==="textureSampler"){const x=B;_=h.texture.getGpuSampler(x)}else if(B._resourceType==="textureSource"){const x=B;_=h.texture.getGpuSource(x).createView({})}c.push({binding:l[y],resource:_})}const f=h.shader.getProgramData(e).bindGroups[n],p=s.createBindGroup({layout:f,entries:c});return this._hash[t._key]=p,p}destroy(){for(const t of Object.keys(this._hash))this._hash[t]=null;this._hash=null,this._renderer=null}}pQ.extension={type:[J.WebGPUSystem],name:"bindGroup"};class mQ{constructor(t){this._gpuBuffers=Object.create(null),this._managedBuffers=[],t.renderableGC.addManagedHash(this,"_gpuBuffers")}contextChange(t){this._gpu=t}getGPUBuffer(t){return this._gpuBuffers[t.uid]||this.createGPUBuffer(t)}updateBuffer(t){const e=this._gpuBuffers[t.uid]||this.createGPUBuffer(t),n=t.data;return t._updateID&&n&&(t._updateID=0,this._gpu.device.queue.writeBuffer(e,0,n.buffer,0,(t._updateSize||n.byteLength)+3&-4)),e}destroyAll(){for(const t in this._gpuBuffers)this._gpuBuffers[t].destroy();this._gpuBuffers={}}createGPUBuffer(t){this._gpuBuffers[t.uid]||(t.on("update",this.updateBuffer,this),t.on("change",this.onBufferChange,this),t.on("destroy",this.onBufferDestroy,this),this._managedBuffers.push(t));const e=this._gpu.device.createBuffer(t.descriptor);return t._updateID=0,t.data&&(wE(t.data.buffer,e.getMappedRange()),e.unmap()),this._gpuBuffers[t.uid]=e,e}onBufferChange(t){this._gpuBuffers[t.uid].destroy(),t._updateID=0,this._gpuBuffers[t.uid]=this.createGPUBuffer(t)}onBufferDestroy(t){this._managedBuffers.splice(this._managedBuffers.indexOf(t),1),this._destroyBuffer(t)}destroy(){this._managedBuffers.forEach(t=>this._destroyBuffer(t)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(t){this._gpuBuffers[t.uid].destroy(),t.off("update",this.updateBuffer,this),t.off("change",this.onBufferChange,this),t.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[t.uid]=null}}mQ.extension={type:[J.WebGPUSystem],name:"buffer"};class nM{constructor({minUniformOffsetAlignment:t}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=t,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(t){if(t>this._minUniformOffsetAlignment/4)throw new Error(`UniformBufferBatch: array is too large: ${t*4}`);const e=this.byteIndex;let n=e+t*4;if(n=Math.ceil(n/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,n>this.data.length*4)throw new Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=n,e}addGroup(t){const e=this.addEmptyGroup(t.length);for(let n=0;n<t.length;n++)this.data[e/4+n]=t[n];return e}destroy(){this.data=null}}class EQ{constructor(t){this._colorMaskCache=15,this._renderer=t}setMask(t){this._colorMaskCache!==t&&(this._colorMaskCache=t,this._renderer.pipeline.setColorMask(t))}destroy(){this._renderer=null,this._colorMaskCache=null}}EQ.extension={type:[J.WebGPUSystem],name:"colorMask"};class X0{constructor(t){this._renderer=t}async init(t){return this._initPromise?this._initPromise:(this._initPromise=this._createDeviceAndAdaptor(t).then(e=>{this.gpu=e,this._renderer.runners.contextChange.emit(this.gpu)}),this._initPromise)}contextChange(t){this._renderer.gpu=t}async _createDeviceAndAdaptor(t){const e=await Ee.get().getNavigator().gpu.requestAdapter({powerPreference:t.powerPreference,forceFallbackAdapter:t.forceFallbackAdapter}),n=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter(l=>e.features.has(l)),s=await e.requestDevice({requiredFeatures:n});return{adapter:e,device:s}}destroy(){this.gpu=null,this._renderer=null}}X0.extension={type:[J.WebGPUSystem],name:"device"};X0.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1};class yQ{constructor(t){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=t}renderStart(){this.commandFinished=new Promise(t=>{this._resolveCommandFinished=t}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(t){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(t.descriptor)}endRenderPass(){this.renderPassEncoder&&this.renderPassEncoder.end(),this.renderPassEncoder=null}setViewport(t){this.renderPassEncoder.setViewport(t.x,t.y,t.width,t.height,0,1)}setPipelineFromGeometryProgramAndState(t,e,n,s){const l=this._renderer.pipeline.getPipeline(t,e,n,s);this.setPipeline(l)}setPipeline(t){this._boundPipeline!==t&&(this._boundPipeline=t,this.renderPassEncoder.setPipeline(t))}_setVertexBuffer(t,e){this._boundVertexBuffer[t]!==e&&(this._boundVertexBuffer[t]=e,this.renderPassEncoder.setVertexBuffer(t,this._renderer.buffer.updateBuffer(e)))}_setIndexBuffer(t){if(this._boundIndexBuffer===t)return;this._boundIndexBuffer=t;const e=t.data.BYTES_PER_ELEMENT===2?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(t),e)}resetBindGroup(t){this._boundBindGroup[t]=null}setBindGroup(t,e,n){if(this._boundBindGroup[t]===e)return;this._boundBindGroup[t]=e,e._touch(this._renderer.textureGC.count);const s=this._renderer.bindGroup.getBindGroup(e,n,t);this.renderPassEncoder.setBindGroup(t,s)}setGeometry(t,e){const n=this._renderer.pipeline.getBufferNamesToBind(t,e);for(const s in n)this._setVertexBuffer(s,t.attributes[n[s]].buffer);t.indexBuffer&&this._setIndexBuffer(t.indexBuffer)}_setShaderBindGroups(t,e){for(const n in t.groups){const s=t.groups[n];e||this._syncBindGroup(s),this.setBindGroup(n,s,t.gpuProgram)}}_syncBindGroup(t){for(const e in t.resources){const n=t.resources[e];n.isUniformGroup&&this._renderer.ubo.updateUniformGroup(n)}}draw(t){const{geometry:e,shader:n,state:s,topology:l,size:c,start:h,instanceCount:f,skipSync:p}=t;this.setPipelineFromGeometryProgramAndState(e,n.gpuProgram,s,l),this.setGeometry(e,n.gpuProgram),this._setShaderBindGroups(n,p),e.indexBuffer?this.renderPassEncoder.drawIndexed(c||e.indexBuffer.data.length,f??e.instanceCount,h||0):this.renderPassEncoder.draw(c||e.getSize(),f??e.instanceCount,h||0)}finishRenderPass(){this.renderPassEncoder&&(this.renderPassEncoder.end(),this.renderPassEncoder=null)}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){const t=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(t);const e=this._boundPipeline,n={...this._boundVertexBuffer},s=this._boundIndexBuffer,l={...this._boundBindGroup};this._clearCache();const c=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(c.x,c.y,c.width,c.height,0,1),this.setPipeline(e);for(const h in n)this._setVertexBuffer(h,n[h]);for(const h in l)this.setBindGroup(h,l[h],null);this._setIndexBuffer(s)}_clearCache(){for(let t=0;t<16;t++)this._boundBindGroup[t]=null,this._boundVertexBuffer[t]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(t){this._gpu=t}}yQ.extension={type:[J.WebGPUSystem],name:"encoder",priority:1};class BQ{constructor(t){this._renderer=t}contextChange(){this.maxTextures=this._renderer.device.gpu.device.limits.maxSampledTexturesPerShaderStage,this.maxBatchableTextures=this.maxTextures}destroy(){}}BQ.extension={type:[J.WebGPUSystem],name:"limits"};class CQ{constructor(t){this._renderTargetStencilState=Object.create(null),this._renderer=t,t.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(t){let e=this._renderTargetStencilState[t.uid];e||(e=this._renderTargetStencilState[t.uid]={stencilMode:Li.DISABLED,stencilReference:0}),this._activeRenderTarget=t,this.setStencilMode(e.stencilMode,e.stencilReference)}setStencilMode(t,e){const n=this._renderTargetStencilState[this._activeRenderTarget.uid];n.stencilMode=t,n.stencilReference=e;const s=this._renderer;s.pipeline.setStencilMode(t),s.encoder.renderPassEncoder.setStencilReference(e)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}CQ.extension={type:[J.WebGPUSystem],name:"stencil"};const np={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}};function aM(i){const t=i.map(n=>({data:n,offset:0,size:0}));let e=0;for(let n=0;n<t.length;n++){const s=t[n];let l=np[s.data.type].size;const c=np[s.data.type].align;if(!np[s.data.type])throw new Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${s.data.type}`);s.data.size>1&&(l=Math.max(l,c)*s.data.size),e=Math.ceil(e/c)*c,s.size=l,s.offset=e,e+=l}return e=Math.ceil(e/16)*16,{uboElements:t,size:e}}function sM(i,t){const{size:e,align:n}=np[i.data.type],s=(n-e)/4,l=i.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
         v = uv.${i.data.name};
         ${t!==0?`offset += ${t};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${i.data.size*(e/4)}; i++)
         {
             for(var j = 0; j < ${e/4}; j++)
             {
                 ${l}[arrayOffset++] = v[t++];
             }
             ${s!==0?`arrayOffset += ${s};`:""}
         }
     `}function rM(i){return wx(i,"uboWgsl",sM,WD)}class IQ extends Dx{constructor(){super({createUboElements:aM,generateUboSync:rM})}}IQ.extension={type:[J.WebGPUSystem],name:"ubo"};const Zl=128;class _Q{constructor(t){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=t,this._renderer.renderableGC.addManagedHash(this,"_bindGroupHash"),this._batchBuffer=new nM({minUniformOffsetAlignment:Zl});const e=256/Zl;for(let n=0;n<e;n++){let s=Te.UNIFORM|Te.COPY_DST;n===0&&(s|=Te.COPY_SRC),this._buffers.push(new ns({data:this._batchBuffer.data,usage:s}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(const t in this._bindGroupHash)this._bindGroupHash[t]=null;this._batchBuffer.clear()}getUniformBindGroup(t,e){if(!e&&this._bindGroupHash[t.uid])return this._bindGroupHash[t.uid];this._renderer.ubo.ensureUniformGroup(t);const n=t.buffer.data,s=this._batchBuffer.addEmptyGroup(n.length);return this._renderer.ubo.syncUniformGroup(t,this._batchBuffer.data,s/4),this._bindGroupHash[t.uid]=this._getBindGroup(s/Zl),this._bindGroupHash[t.uid]}getUboResource(t){this._renderer.ubo.updateUniformGroup(t);const e=t.buffer.data,n=this._batchBuffer.addGroup(e);return this._getBufferResource(n/Zl)}getArrayBindGroup(t){const e=this._batchBuffer.addGroup(t);return this._getBindGroup(e/Zl)}getArrayBufferResource(t){const n=this._batchBuffer.addGroup(t)/Zl;return this._getBufferResource(n)}_getBufferResource(t){if(!this._bufferResources[t]){const e=this._buffers[t%2];this._bufferResources[t]=new k0({buffer:e,offset:(t/2|0)*256,size:Zl})}return this._bufferResources[t]}_getBindGroup(t){if(!this._bindGroups[t]){const e=new Jo({0:this._getBufferResource(t)});this._bindGroups[t]=e}return this._bindGroups[t]}_uploadBindGroups(){const t=this._renderer.buffer,e=this._buffers[0];e.update(this._batchBuffer.byteIndex),t.updateBuffer(e);const n=this._renderer.gpu.device.createCommandEncoder();for(let s=1;s<this._buffers.length;s++){const l=this._buffers[s];n.copyBufferToBuffer(t.getGPUBuffer(e),Zl,t.getGPUBuffer(l),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([n.finish()])}destroy(){for(let t=0;t<this._bindGroups.length;t++)this._bindGroups[t].destroy();this._bindGroups=null,this._bindGroupHash=null;for(let t=0;t<this._buffers.length;t++)this._buffers[t].destroy();this._buffers=null;for(let t=0;t<this._bufferResources.length;t++)this._bufferResources[t].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}_Q.extension={type:[J.WebGPUPipes],name:"uniformBatch"};const oM={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};function lM(i,t,e,n,s){return i<<24|t<<16|e<<10|n<<5|s}function AM(i,t,e,n){return e<<6|i<<3|n<<1|t}class xQ{constructor(t){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._bindingNamesCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=t}contextChange(t){this._gpu=t,this.setStencilMode(Li.DISABLED),this._updatePipeHash()}setMultisampleCount(t){this._multisampleCount!==t&&(this._multisampleCount=t,this._updatePipeHash())}setRenderTarget(t){this._multisampleCount=t.msaaSamples,this._depthStencilAttachment=t.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(t){this._colorMask!==t&&(this._colorMask=t,this._updatePipeHash())}setStencilMode(t){this._stencilMode!==t&&(this._stencilMode=t,this._stencilState=AA[t],this._updatePipeHash())}setPipeline(t,e,n,s){const l=this.getPipeline(t,e,n);s.setPipeline(l)}getPipeline(t,e,n,s){t._layoutKey||(_x(t,e.attributeData),this._generateBufferKey(t)),s||(s=t.topology);const l=lM(t._layoutKey,e._layoutKey,n.data,n._blendModeId,oM[s]);return this._pipeCache[l]?this._pipeCache[l]:(this._pipeCache[l]=this._createPipeline(t,e,n,s),this._pipeCache[l])}_createPipeline(t,e,n,s){const l=this._gpu.device,c=this._createVertexBufferLayouts(t,e),h=this._renderer.state.getColorTargets(n);h[0].writeMask=this._stencilMode===Li.RENDERING_MASK_ADD?0:this._colorMask;const f=this._renderer.shader.getProgramData(e).pipeline,p={vertex:{module:this._getModule(e.vertex.source),entryPoint:e.vertex.entryPoint,buffers:c},fragment:{module:this._getModule(e.fragment.source),entryPoint:e.fragment.entryPoint,targets:h},primitive:{topology:s,cullMode:n.cullMode},layout:f,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};return this._depthStencilAttachment&&(p.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:n.depthTest,depthCompare:n.depthTest?"less":"always"}),l.createRenderPipeline(p)}_getModule(t){return this._moduleCache[t]||this._createModule(t)}_createModule(t){const e=this._gpu.device;return this._moduleCache[t]=e.createShaderModule({code:t}),this._moduleCache[t]}_generateBufferKey(t){const e=[];let n=0;const s=Object.keys(t.attributes).sort();for(let c=0;c<s.length;c++){const h=t.attributes[s[c]];e[n++]=h.offset,e[n++]=h.format,e[n++]=h.stride,e[n++]=h.instance}const l=e.join("|");return t._layoutKey=Ld(l,"geometry"),t._layoutKey}_generateAttributeLocationsKey(t){const e=[];let n=0;const s=Object.keys(t.attributeData).sort();for(let c=0;c<s.length;c++){const h=t.attributeData[s[c]];e[n++]=h.location}const l=e.join("|");return t._attributeLocationsKey=Ld(l,"programAttributes"),t._attributeLocationsKey}getBufferNamesToBind(t,e){const n=t._layoutKey<<16|e._attributeLocationsKey;if(this._bindingNamesCache[n])return this._bindingNamesCache[n];const s=this._createVertexBufferLayouts(t,e),l=Object.create(null),c=e.attributeData;for(let h=0;h<s.length;h++){const p=Object.values(s[h].attributes)[0].shaderLocation;for(const y in c)if(c[y].location===p){l[h]=y;break}}return this._bindingNamesCache[n]=l,l}_createVertexBufferLayouts(t,e){e._attributeLocationsKey||this._generateAttributeLocationsKey(e);const n=t._layoutKey<<16|e._attributeLocationsKey;if(this._bufferLayoutsCache[n])return this._bufferLayoutsCache[n];const s=[];return t.buffers.forEach(l=>{const c={arrayStride:0,stepMode:"vertex",attributes:[]},h=c.attributes;for(const f in e.attributeData){const p=t.attributes[f];(p.divisor??1)!==1&&ie(`Attribute ${f} has an invalid divisor value of '${p.divisor}'. WebGPU only supports a divisor value of 1`),p.buffer===l&&(c.arrayStride=p.stride,c.stepMode=p.instance?"instance":"vertex",h.push({shaderLocation:e.attributeData[f].location,offset:p.offset,format:p.format}))}h.length&&s.push(c)}),this._bufferLayoutsCache[n]=s,s}_updatePipeHash(){const t=AM(this._stencilMode,this._multisampleCount,this._colorMask,this._depthStencilAttachment);this._pipeStateCaches[t]||(this._pipeStateCaches[t]=Object.create(null)),this._pipeCache=this._pipeStateCaches[t]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}xQ.extension={type:[J.WebGPUSystem],name:"pipeline"};class uM{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}class cM{init(t,e){this._renderer=t,this._renderTargetSystem=e}copyToTexture(t,e,n,s,l){const c=this._renderer,h=this._getGpuColorTexture(t),f=c.texture.getGpuSource(e.source);return c.encoder.commandEncoder.copyTextureToTexture({texture:h,origin:n},{texture:f,origin:l},s),e}startRenderPass(t,e=!0,n,s){const c=this._renderTargetSystem.getGpuRenderTarget(t),h=this.getDescriptor(t,e,n);c.descriptor=h,this._renderer.pipeline.setRenderTarget(c),this._renderer.encoder.beginRenderPass(c),this._renderer.encoder.setViewport(s)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(t){const e=this._renderTargetSystem.getGpuRenderTarget(t);return e.contexts[0]?e.contexts[0].getCurrentTexture():this._renderer.texture.getGpuSource(t.colorTextures[0].source)}getDescriptor(t,e,n){typeof e=="boolean"&&(e=e?is.ALL:is.NONE);const s=this._renderTargetSystem,l=s.getGpuRenderTarget(t),c=t.colorTextures.map((p,y)=>{const B=l.contexts[y];let _,x;B?_=B.getCurrentTexture().createView():_=this._renderer.texture.getGpuSource(p).createView({mipLevelCount:1}),l.msaaTextures[y]&&(x=_,_=this._renderer.texture.getTextureView(l.msaaTextures[y]));const v=e&is.COLOR?"clear":"load";return n??(n=s.defaultClearColor),{view:_,resolveTarget:x,clearValue:n,storeOp:"store",loadOp:v}});let h;if((t.stencil||t.depth)&&!t.depthStencilTexture&&(t.ensureDepthStencilTexture(),t.depthStencilTexture.source.sampleCount=l.msaa?4:1),t.depthStencilTexture){const p=e&is.STENCIL?"clear":"load",y=e&is.DEPTH?"clear":"load";h={view:this._renderer.texture.getGpuSource(t.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:p,depthClearValue:1,depthLoadOp:y,depthStoreOp:"store"}}return{colorAttachments:c,depthStencilAttachment:h}}clear(t,e=!0,n,s){if(!e)return;const{gpu:l,encoder:c}=this._renderer,h=l.device;if(c.commandEncoder===null){const p=h.createCommandEncoder(),y=this.getDescriptor(t,e,n),B=p.beginRenderPass(y);B.setViewport(s.x,s.y,s.width,s.height,0,1),B.end();const _=p.finish();h.queue.submit([_])}else this.startRenderPass(t,e,n,s)}initGpuRenderTarget(t){t.isRoot=!0;const e=new uM;return t.colorTextures.forEach((n,s)=>{if(n instanceof Ao){const l=n.resource.getContext("webgpu"),c=n.transparent?"premultiplied":"opaque";try{l.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:c})}catch{}e.contexts[s]=l}if(e.msaa=n.source.antialias,n.source.antialias){const l=new on({width:0,height:0,sampleCount:4});e.msaaTextures[s]=l}}),e.msaa&&(e.msaaSamples=4,t.depthStencilTexture&&(t.depthStencilTexture.source.sampleCount=4)),e}destroyGpuRenderTarget(t){t.contexts.forEach(e=>{e.unconfigure()}),t.msaaTextures.forEach(e=>{e.destroy()}),t.msaaTextures.length=0,t.contexts.length=0}ensureDepthStencilTexture(t){const e=this._renderTargetSystem.getGpuRenderTarget(t);t.depthStencilTexture&&e.msaa&&(t.depthStencilTexture.source.sampleCount=4)}resizeGpuRenderTarget(t){const e=this._renderTargetSystem.getGpuRenderTarget(t);e.width=t.width,e.height=t.height,e.msaa&&t.colorTextures.forEach((n,s)=>{e.msaaTextures[s]?.resize(n.source.width,n.source.height,n.source._resolution)})}}class QQ extends kx{constructor(t){super(t),this.adaptor=new cM,this.adaptor.init(t,this)}}QQ.extension={type:[J.WebGPUSystem],name:"renderTarget"};class vQ{constructor(){this._gpuProgramData=Object.create(null)}contextChange(t){this._gpu=t}getProgramData(t){return this._gpuProgramData[t._layoutKey]||this._createGPUProgramData(t)}_createGPUProgramData(t){const e=this._gpu.device,n=t.gpuLayout.map(l=>e.createBindGroupLayout({entries:l})),s={bindGroupLayouts:n};return this._gpuProgramData[t._layoutKey]={bindGroups:n,pipeline:e.createPipelineLayout(s)},this._gpuProgramData[t._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}vQ.extension={type:[J.WebGPUSystem],name:"shader"};const Ha={};Ha.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}};Ha.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}};Ha.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}};Ha.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};Ha.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};Ha.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}};Ha["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}};Ha["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}};Ha["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}};Ha.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}};Ha.min={alpha:{srcFactor:"one",dstFactor:"one",operation:"min"},color:{srcFactor:"one",dstFactor:"one",operation:"min"}};Ha.max={alpha:{srcFactor:"one",dstFactor:"one",operation:"max"},color:{srcFactor:"one",dstFactor:"one",operation:"max"}};class bQ{constructor(){this.defaultState=new Ds,this.defaultState.blend=!0}contextChange(t){this.gpu=t}getColorTargets(t){return[{format:"bgra8unorm",writeMask:0,blend:Ha[t.blendMode]||Ha.normal}]}destroy(){this.gpu=null}}bQ.extension={type:[J.WebGPUSystem],name:"state"};const hM={type:"image",upload(i,t,e){const n=i.resource,s=(i.pixelWidth|0)*(i.pixelHeight|0),l=n.byteLength/s;e.device.queue.writeTexture({texture:t},n,{offset:0,rowsPerImage:i.pixelHeight,bytesPerRow:i.pixelHeight*l},{width:i.pixelWidth,height:i.pixelHeight,depthOrArrayLayers:1})}},SQ={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},dM={blockBytes:4,blockWidth:1,blockHeight:1},fM={type:"compressed",upload(i,t,e){let n=i.pixelWidth,s=i.pixelHeight;const l=SQ[i.format]||dM;for(let c=0;c<i.resource.length;c++){const h=i.resource[c],f=Math.ceil(n/l.blockWidth)*l.blockBytes;e.device.queue.writeTexture({texture:t,mipLevel:c},h,{offset:0,bytesPerRow:f},{width:Math.ceil(n/l.blockWidth)*l.blockWidth,height:Math.ceil(s/l.blockHeight)*l.blockHeight,depthOrArrayLayers:1}),n=Math.max(n>>1,1),s=Math.max(s>>1,1)}}},TQ={type:"image",upload(i,t,e){const n=i.resource;if(!n)return;if(globalThis.HTMLImageElement&&n instanceof HTMLImageElement){const h=Ee.get().createCanvas(n.width,n.height);h.getContext("2d").drawImage(n,0,0,n.width,n.height),i.resource=h,ie("ImageSource: Image element passed, converting to canvas and replacing resource.")}const s=Math.min(t.width,i.resourceWidth||i.pixelWidth),l=Math.min(t.height,i.resourceHeight||i.pixelHeight),c=i.alphaMode==="premultiply-alpha-on-upload";e.device.queue.copyExternalImageToTexture({source:n},{texture:t,premultipliedAlpha:c},{width:s,height:l})}},gM={type:"video",upload(i,t,e){TQ.upload(i,t,e)}};class pM{constructor(t){this.device=t,this.sampler=t.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(t){let e=this.pipelines[t];return e||(this.mipmapShaderModule||(this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `})),e=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:t}]}}),this.pipelines[t]=e),e}generateMipmap(t){const e=this._getMipmapPipeline(t.format);if(t.dimension==="3d"||t.dimension==="1d")throw new Error("Generating mipmaps for non-2d textures is currently unsupported!");let n=t;const s=t.depthOrArrayLayers||1,l=t.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!l){const f={size:{width:Math.ceil(t.width/2),height:Math.ceil(t.height/2),depthOrArrayLayers:s},format:t.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:t.mipLevelCount-1};n=this.device.createTexture(f)}const c=this.device.createCommandEncoder({}),h=e.getBindGroupLayout(0);for(let f=0;f<s;++f){let p=t.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:f,arrayLayerCount:1}),y=l?1:0;for(let B=1;B<t.mipLevelCount;++B){const _=n.createView({baseMipLevel:y++,mipLevelCount:1,dimension:"2d",baseArrayLayer:f,arrayLayerCount:1}),x=c.beginRenderPass({colorAttachments:[{view:_,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),v=this.device.createBindGroup({layout:h,entries:[{binding:0,resource:this.sampler},{binding:1,resource:p}]});x.setPipeline(e),x.setBindGroup(0,v),x.draw(3,1,0,0),x.end(),p=_}}if(!l){const f={width:Math.ceil(t.width/2),height:Math.ceil(t.height/2),depthOrArrayLayers:s};for(let p=1;p<t.mipLevelCount;++p)c.copyTextureToTexture({texture:n,mipLevel:p-1},{texture:t,mipLevel:p},f),f.width=Math.ceil(f.width/2),f.height=Math.ceil(f.height/2)}return this.device.queue.submit([c.finish()]),l||n.destroy(),t}}class RQ{constructor(t){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:TQ,buffer:hM,video:gM,compressed:fM},this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuSources"),t.renderableGC.addManagedHash(this,"_gpuSamplers"),t.renderableGC.addManagedHash(this,"_bindGroupHash"),t.renderableGC.addManagedHash(this,"_textureViewHash")}contextChange(t){this._gpu=t}initSource(t){if(t.autoGenerateMipmaps){const f=Math.max(t.pixelWidth,t.pixelHeight);t.mipLevelCount=Math.floor(Math.log2(f))+1}let e=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;t.uploadMethodId!=="compressed"&&(e|=GPUTextureUsage.RENDER_ATTACHMENT,e|=GPUTextureUsage.COPY_SRC);const n=SQ[t.format]||{blockWidth:1,blockHeight:1},s=Math.ceil(t.pixelWidth/n.blockWidth)*n.blockWidth,l=Math.ceil(t.pixelHeight/n.blockHeight)*n.blockHeight,c={label:t.label,size:{width:s,height:l},format:t.format,sampleCount:t.sampleCount,mipLevelCount:t.mipLevelCount,dimension:t.dimension,usage:e},h=this._gpu.device.createTexture(c);return this._gpuSources[t.uid]=h,this.managedTextures.includes(t)||(t.on("update",this.onSourceUpdate,this),t.on("resize",this.onSourceResize,this),t.on("destroy",this.onSourceDestroy,this),t.on("unload",this.onSourceUnload,this),t.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(t)),this.onSourceUpdate(t),h}onSourceUpdate(t){const e=this.getGpuSource(t);e&&(this._uploads[t.uploadMethodId]&&this._uploads[t.uploadMethodId].upload(t,e,this._gpu),t.autoGenerateMipmaps&&t.mipLevelCount>1&&this.onUpdateMipmaps(t))}onSourceUnload(t){const e=this._gpuSources[t.uid];e&&(this._gpuSources[t.uid]=null,e.destroy())}onUpdateMipmaps(t){this._mipmapGenerator||(this._mipmapGenerator=new pM(this._gpu.device));const e=this.getGpuSource(t);this._mipmapGenerator.generateMipmap(e)}onSourceDestroy(t){t.off("update",this.onSourceUpdate,this),t.off("unload",this.onSourceUnload,this),t.off("destroy",this.onSourceDestroy,this),t.off("resize",this.onSourceResize,this),t.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(t),1),this.onSourceUnload(t)}onSourceResize(t){const e=this._gpuSources[t.uid];e?(e.width!==t.pixelWidth||e.height!==t.pixelHeight)&&(this._textureViewHash[t.uid]=null,this._bindGroupHash[t.uid]=null,this.onSourceUnload(t),this.initSource(t)):this.initSource(t)}_initSampler(t){return this._gpuSamplers[t._resourceId]=this._gpu.device.createSampler(t),this._gpuSamplers[t._resourceId]}getGpuSampler(t){return this._gpuSamplers[t._resourceId]||this._initSampler(t)}getGpuSource(t){return this._gpuSources[t.uid]||this.initSource(t)}getTextureBindGroup(t){return this._bindGroupHash[t.uid]??this._createTextureBindGroup(t)}_createTextureBindGroup(t){const e=t.source;return this._bindGroupHash[t.uid]=new Jo({0:e,1:e.style,2:new pa({uTextureMatrix:{type:"mat3x3<f32>",value:t.textureMatrix.mapCoord}})}),this._bindGroupHash[t.uid]}getTextureView(t){const e=t.source;return this._textureViewHash[e.uid]??this._createTextureView(e)}_createTextureView(t){return this._textureViewHash[t.uid]=this.getGpuSource(t).createView(),this._textureViewHash[t.uid]}generateCanvas(t){const e=this._renderer,n=e.gpu.device.createCommandEncoder(),s=Ee.get().createCanvas();s.width=t.source.pixelWidth,s.height=t.source.pixelHeight;const l=s.getContext("webgpu");return l.configure({device:e.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:Ee.get().getNavigator().gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),n.copyTextureToTexture({texture:e.texture.getGpuSource(t.source),origin:{x:0,y:0}},{texture:l.getCurrentTexture()},{width:s.width,height:s.height}),e.gpu.device.queue.submit([n.finish()]),s}getPixels(t){const e=this.generateCanvas(t),n=nA.getOptimalCanvasAndContext(e.width,e.height),s=n.context;s.drawImage(e,0,0);const{width:l,height:c}=e,h=s.getImageData(0,0,l,c),f=new Uint8ClampedArray(h.data.buffer);return nA.returnCanvasAndContext(n),{pixels:f,width:l,height:c}}destroy(){this.managedTextures.slice().forEach(t=>this.onSourceDestroy(t)),this.managedTextures=null;for(const t of Object.keys(this._bindGroupHash)){const e=Number(t);this._bindGroupHash[e]?.destroy(),this._bindGroupHash[e]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}RQ.extension={type:[J.WebGPUSystem],name:"texture"};class DQ{constructor(){this._maxTextures=0}contextChange(t){const e=new pa({uTransformMatrix:{value:new Yt,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}});this._maxTextures=t.limits.maxBatchableTextures;const n=Vd({name:"graphics",bits:[E0,B0(this._maxTextures),OD,Jd]});this.shader=new ws({gpuProgram:n,resources:{localUniforms:e}})}execute(t,e){const n=e.context,s=n.customShader||this.shader,l=t.renderer,c=l.graphicsContext,{batcher:h,instructions:f}=c.getContextRenderData(n),p=l.encoder;p.setGeometry(h.geometry,s.gpuProgram);const y=l.globalUniforms.bindGroup;p.setBindGroup(0,y,s.gpuProgram);const B=l.renderPipes.uniformBatch.getUniformBindGroup(s.resources.localUniforms,!0);p.setBindGroup(2,B,s.gpuProgram);const _=f.instructions;let x=null;for(let v=0;v<f.instructionSize;v++){const T=_[v];if(T.topology!==x&&(x=T.topology,p.setPipelineFromGeometryProgramAndState(h.geometry,s.gpuProgram,t.state,T.topology)),s.groups[1]=T.bindGroup,!T.gpuBindGroup){const S=T.textures;T.bindGroup=m0(S.textures,S.count,this._maxTextures),T.gpuBindGroup=l.bindGroup.getBindGroup(T.bindGroup,s.gpuProgram,1)}p.setBindGroup(1,T.bindGroup,s.gpuProgram),p.renderPassEncoder.drawIndexed(T.size,1,T.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}DQ.extension={type:[J.WebGPUPipesAdaptor],name:"graphics"};class MQ{init(){const t=Vd({name:"mesh",bits:[Hd,HD,Jd]});this._shader=new ws({gpuProgram:t,resources:{uTexture:Ut.EMPTY._source,uSampler:Ut.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new Yt}}}})}execute(t,e){const n=t.renderer;let s=e._shader;if(!s)s=this._shader,s.groups[2]=n.texture.getTextureBindGroup(e.texture);else if(!s.gpuProgram){ie("Mesh shader has no gpuProgram",e.shader);return}const l=s.gpuProgram;if(l.autoAssignGlobalUniforms&&(s.groups[0]=n.globalUniforms.bindGroup),l.autoAssignLocalUniforms){const c=t.localUniforms;s.groups[1]=n.renderPipes.uniformBatch.getUniformBindGroup(c,!0)}n.encoder.draw({geometry:e._geometry,shader:s,state:e.state})}destroy(){this._shader.destroy(!0),this._shader=null}}MQ.extension={type:[J.WebGPUPipesAdaptor],name:"mesh"};const mM=[...cQ,IQ,yQ,X0,BQ,mQ,RQ,QQ,vQ,bQ,xQ,EQ,CQ,pQ],EM=[...hQ,_Q],yM=[gx,MQ,DQ],wQ=[],GQ=[],NQ=[];Xt.handleByNamedList(J.WebGPUSystem,wQ);Xt.handleByNamedList(J.WebGPUPipes,GQ);Xt.handleByNamedList(J.WebGPUPipesAdaptor,NQ);Xt.add(...mM,...EM,...yM);class BM extends Bp{constructor(){const t={name:"webgpu",type:dr.WEBGPU,systems:wQ,renderPipes:GQ,renderPipeAdaptors:NQ};super(t)}}const CM=Object.freeze(Object.defineProperty({__proto__:null,WebGPURenderer:BM},Symbol.toStringTag,{value:"Module"}));class IM{constructor(){this.batches=[],this.batched=!1}destroy(){this.batches.forEach(t=>{ln.return(t)}),this.batches.length=0}}class UQ{constructor(t,e){this.state=Ds.for2d(),this.renderer=t,this._adaptor=e,this.renderer.runners.contextChange.add(this)}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(t){const e=t.context,n=!!t._gpuData,s=this.renderer.graphicsContext.updateGpuContext(e);return!!(s.isBatchable||n!==s.isBatchable)}addRenderable(t,e){const n=this.renderer.graphicsContext.updateGpuContext(t.context);t.didViewUpdate&&this._rebuild(t),n.isBatchable?this._addToBatcher(t,e):(this.renderer.renderPipes.batch.break(e),e.add(t))}updateRenderable(t){const n=this._getGpuDataForRenderable(t).batches;for(let s=0;s<n.length;s++){const l=n[s];l._batcher.updateElement(l)}}execute(t){if(!t.isRenderable)return;const e=this.renderer,n=t.context;if(!e.graphicsContext.getGpuContext(n).batches.length)return;const l=n.customShader||this._adaptor.shader;this.state.blendMode=t.groupBlendMode;const c=l.resources.localUniforms.uniforms;c.uTransformMatrix=t.groupTransform,c.uRound=e._roundPixels|t._roundPixels,$d(t.groupColorAlpha,c.uColor,0),this._adaptor.execute(this,t)}_rebuild(t){const e=this._getGpuDataForRenderable(t),n=this.renderer.graphicsContext.updateGpuContext(t.context);e.destroy(),n.isBatchable&&this._updateBatchesForRenderable(t,e)}_addToBatcher(t,e){const n=this.renderer.renderPipes.batch,s=this._getGpuDataForRenderable(t).batches;for(let l=0;l<s.length;l++){const c=s[l];n.addToBatch(c,e)}}_getGpuDataForRenderable(t){return t._gpuData[this.renderer.uid]||this._initGpuDataForRenderable(t)}_initGpuDataForRenderable(t){const e=new IM;return t._gpuData[this.renderer.uid]=e,e}_updateBatchesForRenderable(t,e){const n=t.context,s=this.renderer.graphicsContext.getGpuContext(n),l=this.renderer._roundPixels|t._roundPixels;e.batches=s.batches.map(c=>{const h=ln.get(x0);return c.copyTo(h),h.renderable=t,h.roundPixels=l,h})}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null}}UQ.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"graphics"};const OQ=class HQ extends Zd{constructor(...t){super({});let e=t[0]??{};typeof e=="number"&&(ue(_e,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),e={width:e,height:t[1],verticesX:t[2],verticesY:t[3]}),this.build(e)}build(t){t={...HQ.defaultOptions,...t},this.verticesX=this.verticesX??t.verticesX,this.verticesY=this.verticesY??t.verticesY,this.width=this.width??t.width,this.height=this.height??t.height;const e=this.verticesX*this.verticesY,n=[],s=[],l=[],c=this.verticesX-1,h=this.verticesY-1,f=this.width/c,p=this.height/h;for(let B=0;B<e;B++){const _=B%this.verticesX,x=B/this.verticesX|0;n.push(_*f,x*p),s.push(_/c,x/h)}const y=c*h;for(let B=0;B<y;B++){const _=B%c,x=B/c|0,v=x*this.verticesX+_,T=x*this.verticesX+_+1,S=(x+1)*this.verticesX+_,R=(x+1)*this.verticesX+_+1;l.push(v,T,S,T,R,S)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(s),this.indexBuffer.data=new Uint32Array(l),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};OQ.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let kQ=OQ;function _M(i,t,e,n){const s=e.buffers[0],l=s.data,{verticesX:c,verticesY:h}=e,f=i/(c-1),p=t/(h-1);let y=0;const B=n[0],_=n[1],x=n[2],v=n[3],T=n[4],S=n[5],R=n[6],O=n[7],D=n[8];for(let F=0;F<l.length;F+=2){const j=y%c*f,$=(y/c|0)*p,V=B*j+_*$+x,gt=v*j+T*$+S,ht=R*j+O*$+D;l[F]=V/ht,l[F+1]=gt/ht,y++}s.update()}function LQ(i,t){const e=t[0],n=t[1],s=t[2],l=t[3],c=t[4],h=t[5],f=t[6],p=t[7],y=t[8];return i[0]=c*y-h*p,i[1]=s*p-n*y,i[2]=n*h-s*c,i[3]=h*f-l*y,i[4]=e*y-s*f,i[5]=s*l-e*h,i[6]=l*p-c*f,i[7]=n*f-e*p,i[8]=e*c-n*l,i}function FQ(i,t,e){const n=t[0],s=t[1],l=t[2],c=t[3],h=t[4],f=t[5],p=t[6],y=t[7],B=t[8],_=e[0],x=e[1],v=e[2],T=e[3],S=e[4],R=e[5],O=e[6],D=e[7],F=e[8];return i[0]=_*n+x*c+v*p,i[1]=_*s+x*h+v*y,i[2]=_*l+x*f+v*B,i[3]=T*n+S*c+R*p,i[4]=T*s+S*h+R*y,i[5]=T*l+S*f+R*B,i[6]=O*n+D*c+F*p,i[7]=O*s+D*h+F*y,i[8]=O*l+D*f+F*B,i}function xM(i,t,e){const n=e[0],s=e[1],l=e[2];return i[0]=t[0]*n+t[1]*s+t[2]*l,i[1]=t[3]*n+t[4]*s+t[5]*l,i[2]=t[6]*n+t[7]*s+t[8]*l,i}const QM=[0,0,0,0,0,0,0,0,0],vM=[0,0,0],jg=[0,0,0];function SC(i,t,e,n,s,l,c,h,f){const p=QM;p[0]=t,p[1]=n,p[2]=l,p[3]=e,p[4]=s,p[5]=c,p[6]=1,p[7]=1,p[8]=1;const y=LQ(i,p);jg[0]=h,jg[1]=f,jg[2]=1;const B=xM(vM,y,jg),_=i;return i[0]=B[0],i[1]=0,i[2]=0,i[3]=0,i[4]=B[1],i[5]=0,i[6]=0,i[7]=0,i[8]=B[2],FQ(i,_,p)}const bM=[0,0,0,0,0,0,0,0,0],SM=[0,0,0,0,0,0,0,0,0];function TM(i,t,e,n,s,l,c,h,f,p,y,B,_,x,v,T,S){const R=SC(bM,t,e,l,c,p,y,x,v),O=SC(SM,n,s,h,f,B,_,T,S);return FQ(i,LQ(R,R),O)}class RM extends kQ{constructor(t){super(t),this._projectionMatrix=[0,0,0,0,0,0,0,0,0];const{width:e,height:n}=t;this.corners=[0,0,e,0,e,n,0,n]}setCorners(t,e,n,s,l,c,h,f){const p=this.corners;p[0]=t,p[1]=e,p[2]=n,p[3]=s,p[4]=l,p[5]=c,p[6]=h,p[7]=f,this.updateProjection()}updateProjection(){const{width:t,height:e}=this,n=this.corners,s=TM(this._projectionMatrix,0,0,n[0],n[1],t,0,n[2],n[3],t,e,n[4],n[5],0,e,n[6],n[7]);_M(t,e,this,s)}}const DM=class PQ extends Ax{constructor(t){t={...PQ.defaultOptions,...t};const{texture:e,verticesX:n,verticesY:s,...l}=t,c=new RM(Fc({width:e.width,height:e.height,verticesX:n,verticesY:s}));super(Fc({...l,geometry:c})),this._texture=e,this.geometry.setCorners(t.x0,t.y0,t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)}textureUpdated(){const t=this.geometry;if(!t)return;const{width:e,height:n}=this.texture;(t.width!==e||t.height!==n)&&(t.width=e,t.height=n,t.updateProjection())}set texture(t){this._texture!==t&&(super.texture=t,this.textureUpdated())}get texture(){return this._texture}setCorners(t,e,n,s,l,c,h,f){this.geometry.setCorners(t,e,n,s,l,c,h,f)}};DM.defaultOptions={texture:Ut.WHITE,verticesX:10,verticesY:10,x0:0,y0:0,x1:100,y1:0,x2:100,y2:100,x3:0,y3:100};const zQ=class YQ extends Zd{constructor(t){const{width:e,points:n,textureScale:s}={...YQ.defaultOptions,...t};super({positions:new Float32Array(n.length*4),uvs:new Float32Array(n.length*4),indices:new Uint32Array((n.length-1)*6)}),this.points=n,this._width=e,this.textureScale=s,this._build()}get width(){return this._width}_build(){const t=this.points;if(!t)return;const e=this.getBuffer("aPosition"),n=this.getBuffer("aUV"),s=this.getIndex();if(t.length<1)return;e.data.length/4!==t.length&&(e.data=new Float32Array(t.length*4),n.data=new Float32Array(t.length*4),s.data=new Uint16Array((t.length-1)*6));const l=n.data,c=s.data;l[0]=0,l[1]=0,l[2]=0,l[3]=1;let h=0,f=t[0];const p=this._width*this.textureScale,y=t.length;for(let _=0;_<y;_++){const x=_*4;if(this.textureScale>0){const v=f.x-t[_].x,T=f.y-t[_].y,S=Math.sqrt(v*v+T*T);f=t[_],h+=S/p}else h=_/(y-1);l[x]=h,l[x+1]=0,l[x+2]=h,l[x+3]=1}let B=0;for(let _=0;_<y-1;_++){const x=_*2;c[B++]=x,c[B++]=x+1,c[B++]=x+2,c[B++]=x+2,c[B++]=x+1,c[B++]=x+3}n.update(),s.update(),this.updateVertices()}updateVertices(){const t=this.points;if(t.length<1)return;let e=t[0],n,s=0,l=0;const c=this.buffers[0].data,h=t.length,f=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let p=0;p<h;p++){const y=t[p],B=p*4;p<t.length-1?n=t[p+1]:n=y,l=-(n.x-e.x),s=n.y-e.y;const _=Math.sqrt(s*s+l*l);_<1e-6?(s=0,l=0):(s/=_,l/=_,s*=f,l*=f),c[B]=y.x+s,c[B+1]=y.y+l,c[B+2]=y.x-s,c[B+3]=y.y-l,e=y}this.buffers[0].update()}update(){this.textureScale>0?this._build():this.updateVertices()}};zQ.defaultOptions={width:200,points:[],textureScale:0};let MM=zQ;const wM=class KQ extends Ax{constructor(t){const{texture:e,points:n,textureScale:s,...l}={...KQ.defaultOptions,...t},c=new MM(Fc({width:e.height,points:n,textureScale:s}));s>0&&(e.source.style.addressMode="repeat"),super(Fc({...l,texture:e,geometry:c})),this.autoUpdate=!0,this.onRender=this._render}_render(){const t=this.geometry;(this.autoUpdate||t._width!==this.texture.height)&&(t._width=this.texture.height,t.update())}};wM.defaultOptions={textureScale:0};class V0{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._textureMatrixUpdateId=-1,this._uvUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(t){this._topology=t}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}setTexture(t){this.texture!==t&&(this.texture=t,this._textureMatrixUpdateId=-1)}get uvs(){const e=this.geometry.getBuffer("aUV"),n=e.data;let s=n;const l=this.texture.textureMatrix;return l.isSimple||(s=this._transformedUvs,(this._textureMatrixUpdateId!==l._updateID||this._uvUpdateId!==e._updateID)&&((!s||s.length<n.length)&&(s=this._transformedUvs=new Float32Array(n.length)),this._textureMatrixUpdateId=l._updateID,this._uvUpdateId=e._updateID,l.multiplyUvs(n,s))),s}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}class TC{destroy(){}}class jQ{constructor(t,e){this.localUniforms=new pa({uTransformMatrix:{value:new Yt,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new Jo({0:this.localUniforms}),this.renderer=t,this._adaptor=e,this._adaptor.init()}validateRenderable(t){const e=this._getMeshData(t),n=e.batched,s=t.batched;if(e.batched=s,n!==s)return!0;if(s){const l=t._geometry;if(l.indices.length!==e.indexSize||l.positions.length!==e.vertexSize)return e.indexSize=l.indices.length,e.vertexSize=l.positions.length,!0;const c=this._getBatchableMesh(t);return c.texture.uid!==t._texture.uid&&(c._textureMatrixUpdateId=-1),!c._batcher.checkAndUpdateTexture(c,t._texture)}return!1}addRenderable(t,e){const n=this.renderer.renderPipes.batch,{batched:s}=this._getMeshData(t);if(s){const l=this._getBatchableMesh(t);l.setTexture(t._texture),l.geometry=t._geometry,n.addToBatch(l,e)}else n.break(e),e.add(t)}updateRenderable(t){if(t.batched){const e=this._getBatchableMesh(t);e.setTexture(t._texture),e.geometry=t._geometry,e._batcher.updateElement(e)}}execute(t){if(!t.isRenderable)return;t.state.blendMode=Yd(t.groupBlendMode,t.texture._source);const e=this.localUniforms;e.uniforms.uTransformMatrix=t.groupTransform,e.uniforms.uRound=this.renderer._roundPixels|t._roundPixels,e.update(),$d(t.groupColorAlpha,e.uniforms.uColor,0),this._adaptor.execute(this,t)}_getMeshData(t){var e,n;return(e=t._gpuData)[n=this.renderer.uid]||(e[n]=new TC),t._gpuData[this.renderer.uid].meshData||this._initMeshData(t)}_initMeshData(t){return t._gpuData[this.renderer.uid].meshData={batched:t.batched,indexSize:t._geometry.indices?.length,vertexSize:t._geometry.positions?.length},t._gpuData[this.renderer.uid].meshData}_getBatchableMesh(t){var e,n;return(e=t._gpuData)[n=this.renderer.uid]||(e[n]=new TC),t._gpuData[this.renderer.uid].batchableMesh||this._initBatchableMesh(t)}_initBatchableMesh(t){const e=new V0;return e.renderable=t,e.setTexture(t._texture),e.transform=t.groupTransform,e.roundPixels=this.renderer._roundPixels|t._roundPixels,t._gpuData[this.renderer.uid].batchableMesh=e,e}destroy(){this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}jQ.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"mesh"};class GM{execute(t,e){const n=t.state,s=t.renderer,l=e.shader||t.defaultShader;l.resources.uTexture=e.texture._source,l.resources.uniforms=t.localUniforms;const c=s.gl,h=t.getBuffers(e);s.shader.bind(l),s.state.set(n),s.geometry.bind(h.geometry,l.glProgram);const p=h.geometry.indexBuffer.data.BYTES_PER_ELEMENT===2?c.UNSIGNED_SHORT:c.UNSIGNED_INT;c.drawElements(c.TRIANGLES,e.particleChildren.length*6,p,0)}}class NM{execute(t,e){const n=t.renderer,s=e.shader||t.defaultShader;s.groups[0]=n.renderPipes.uniformBatch.getUniformBindGroup(t.localUniforms,!0),s.groups[1]=n.texture.getTextureBindGroup(e.texture);const l=t.state,c=t.getBuffers(e);n.encoder.draw({geometry:c.geometry,shader:e.shader||t.defaultShader,state:l,size:e.particleChildren.length*6})}}function RC(i,t=null){const e=i*6;if(e>65535?t||(t=new Uint32Array(e)):t||(t=new Uint16Array(e)),t.length!==e)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${e}`);for(let n=0,s=0;n<e;n+=6,s+=4)t[n+0]=s+0,t[n+1]=s+1,t[n+2]=s+2,t[n+3]=s+0,t[n+4]=s+2,t[n+5]=s+3;return t}function UM(i){return{dynamicUpdate:DC(i,!0),staticUpdate:DC(i,!1)}}function DC(i,t){const e=[];e.push(`

        var index = 0;

        for (let i = 0; i < ps.length; ++i)
        {
            const p = ps[i];

            `);let n=0;for(const l in i){const c=i[l];if(t!==c.dynamic)continue;e.push(`offset = index + ${n}`),e.push(c.code);const h=iA(c.format);n+=h.stride/4}e.push(`
            index += stride * 4;
        }
    `),e.unshift(`
        var stride = ${n};
    `);const s=e.join(`
`);return new Function("ps","f32v","u32v",s)}class OM{constructor(t){this._size=0,this._generateParticleUpdateCache={};const e=this._size=t.size??1e3,n=t.properties;let s=0,l=0;for(const y in n){const B=n[y],_=iA(B.format);B.dynamic?l+=_.stride:s+=_.stride}this._dynamicStride=l/4,this._staticStride=s/4,this.staticAttributeBuffer=new Rc(e*4*s),this.dynamicAttributeBuffer=new Rc(e*4*l),this.indexBuffer=RC(e);const c=new Zc;let h=0,f=0;this._staticBuffer=new ns({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:Te.VERTEX|Te.COPY_DST}),this._dynamicBuffer=new ns({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:Te.VERTEX|Te.COPY_DST});for(const y in n){const B=n[y],_=iA(B.format);B.dynamic?(c.addAttribute(B.attributeName,{buffer:this._dynamicBuffer,stride:this._dynamicStride*4,offset:h*4,format:B.format}),h+=_.size):(c.addAttribute(B.attributeName,{buffer:this._staticBuffer,stride:this._staticStride*4,offset:f*4,format:B.format}),f+=_.size)}c.addIndex(this.indexBuffer);const p=this.getParticleUpdate(n);this._dynamicUpload=p.dynamicUpdate,this._staticUpload=p.staticUpdate,this.geometry=c}getParticleUpdate(t){const e=HM(t);return this._generateParticleUpdateCache[e]?this._generateParticleUpdateCache[e]:(this._generateParticleUpdateCache[e]=this.generateParticleUpdate(t),this._generateParticleUpdateCache[e])}generateParticleUpdate(t){return UM(t)}update(t,e){t.length>this._size&&(e=!0,this._size=Math.max(t.length,this._size*1.5|0),this.staticAttributeBuffer=new Rc(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new Rc(this._size*this._dynamicStride*4*4),this.indexBuffer=RC(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0));const n=this.dynamicAttributeBuffer;if(this._dynamicUpload(t,n.float32View,n.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,t.length*this._dynamicStride*4,!0),e){const s=this.staticAttributeBuffer;this._staticUpload(t,s.float32View,s.uint32View),this._staticBuffer.setDataWithSize(s.float32View,t.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}function HM(i){const t=[];for(const e in i){const n=i[e];t.push(e,n.code,n.dynamic?"d":"s")}return t.join("_")}var kM=`varying vec2 vUV;
varying vec4 vColor;

uniform sampler2D uTexture;

void main(void){
    vec4 color = texture2D(uTexture, vUV) * vColor;
    gl_FragColor = color;
}`,LM=`attribute vec2 aVertex;
attribute vec2 aUV;
attribute vec4 aColor;

attribute vec2 aPosition;
attribute float aRotation;

uniform mat3 uTranslationMatrix;
uniform float uRound;
uniform vec2 uResolution;
uniform vec4 uColor;

varying vec2 vUV;
varying vec4 vColor;

vec2 roundPixels(vec2 position, vec2 targetSize)
{       
    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

void main(void){
    float cosRotation = cos(aRotation);
    float sinRotation = sin(aRotation);
    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;
    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;

    vec2 v = vec2(x, y);
    v = v + aPosition;

    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    if(uRound == 1.0)
    {
        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
    }

    vUV = aUV;
    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;
}
`,MC=`
struct ParticleUniforms {
  uProjectionMatrix:mat3x3<f32>,
  uColor:vec4<f32>,
  uResolution:vec2<f32>,
  uRoundPixels:f32,
};

@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;

@group(1) @binding(0) var uTexture: texture_2d<f32>;
@group(1) @binding(1) var uSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) color : vec4<f32>,
  };
@vertex
fn mainVertex(
  @location(0) aVertex: vec2<f32>,
  @location(1) aPosition: vec2<f32>,
  @location(2) aUV: vec2<f32>,
  @location(3) aColor: vec4<f32>,
  @location(4) aRotation: f32,
) -> VSOutput {
  
   let v = vec2(
       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),
       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)
   ) + aPosition;

   let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;

  return VSOutput(
   position,
   aUV,
   vColor,
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) color: vec4<f32>,
  @builtin(position) position: vec4<f32>,
) -> @location(0) vec4<f32> {

    var sample = textureSample(uTexture, uSampler, uv) * color;
   
    return sample;
}`;class FM extends ws{constructor(){const t=Wc.from({vertex:LM,fragment:kM}),e=Bu.from({fragment:{source:MC,entryPoint:"mainFragment"},vertex:{source:MC,entryPoint:"mainVertex"}});super({glProgram:t,gpuProgram:e,resources:{uTexture:Ut.WHITE.source,uSampler:new $o({}),uniforms:{uTranslationMatrix:{value:new Yt,type:"mat3x3<f32>"},uColor:{value:new Ye(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}class XQ{constructor(t,e){this.state=Ds.for2d(),this.localUniforms=new pa({uTranslationMatrix:{value:new Yt,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=t,this.adaptor=e,this.defaultShader=new FM,this.state=Ds.for2d()}validateRenderable(t){return!1}addRenderable(t,e){this.renderer.renderPipes.batch.break(e),e.add(t)}getBuffers(t){return t._gpuData[this.renderer.uid]||this._initBuffer(t)}_initBuffer(t){return t._gpuData[this.renderer.uid]=new OM({size:t.particleChildren.length,properties:t._properties}),t._gpuData[this.renderer.uid]}updateRenderable(t){}execute(t){const e=t.particleChildren;if(e.length===0)return;const n=this.renderer,s=this.getBuffers(t);t.texture||(t.texture=e[0].texture);const l=this.state;s.update(e,t._childrenDirty),t._childrenDirty=!1,l.blendMode=Yd(t.blendMode,t.texture._source);const c=this.localUniforms.uniforms,h=c.uTranslationMatrix;t.worldTransform.copyTo(h),h.prepend(n.globalUniforms.globalUniformData.projectionMatrix),c.uResolution=n.globalUniforms.globalUniformData.resolution,c.uRound=n._roundPixels|t._roundPixels,$d(t.groupColorAlpha,c.uColor,0),this.adaptor.execute(this,t)}destroy(){this.defaultShader&&(this.defaultShader.destroy(),this.defaultShader=null)}}class VQ extends XQ{constructor(t){super(t,new GM)}}VQ.extension={type:[J.WebGLPipes],name:"particle"};class qQ extends XQ{constructor(t){super(t,new NM)}}qQ.extension={type:[J.WebGPUPipes],name:"particle"};const JQ=class WQ extends kQ{constructor(t={}){t={...WQ.defaultOptions,...t},super({width:t.width,height:t.height,verticesX:4,verticesY:4}),this.update(t)}update(t){this.width=t.width??this.width,this.height=t.height??this.height,this._originalWidth=t.originalWidth??this._originalWidth,this._originalHeight=t.originalHeight??this._originalHeight,this._leftWidth=t.leftWidth??this._leftWidth,this._rightWidth=t.rightWidth??this._rightWidth,this._topHeight=t.topHeight??this._topHeight,this._bottomHeight=t.bottomHeight??this._bottomHeight,this._anchorX=t.anchor?.x,this._anchorY=t.anchor?.y,this.updateUvs(),this.updatePositions()}updatePositions(){const t=this.positions,{width:e,height:n,_leftWidth:s,_rightWidth:l,_topHeight:c,_bottomHeight:h,_anchorX:f,_anchorY:p}=this,y=s+l,B=e>y?1:e/y,_=c+h,x=n>_?1:n/_,v=Math.min(B,x),T=f*e,S=p*n;t[0]=t[8]=t[16]=t[24]=-T,t[2]=t[10]=t[18]=t[26]=s*v-T,t[4]=t[12]=t[20]=t[28]=e-l*v-T,t[6]=t[14]=t[22]=t[30]=e-T,t[1]=t[3]=t[5]=t[7]=-S,t[9]=t[11]=t[13]=t[15]=c*v-S,t[17]=t[19]=t[21]=t[23]=n-h*v-S,t[25]=t[27]=t[29]=t[31]=n-S,this.getBuffer("aPosition").update()}updateUvs(){const t=this.uvs;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1;const e=1/this._originalWidth,n=1/this._originalHeight;t[2]=t[10]=t[18]=t[26]=e*this._leftWidth,t[9]=t[11]=t[13]=t[15]=n*this._topHeight,t[4]=t[12]=t[20]=t[28]=1-e*this._rightWidth,t[17]=t[19]=t[21]=t[23]=1-n*this._bottomHeight,this.getBuffer("aUV").update()}};JQ.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let cu=JQ;const ZQ=class $Q extends rA{constructor(t){t instanceof Ut&&(t={texture:t});const{width:e,height:n,anchor:s,leftWidth:l,rightWidth:c,topHeight:h,bottomHeight:f,texture:p,roundPixels:y,...B}=t;super({label:"NineSliceSprite",...B}),this.renderPipeId="nineSliceSprite",this.batched=!0,this._leftWidth=l??p?.defaultBorders?.left??cu.defaultOptions.leftWidth,this._topHeight=h??p?.defaultBorders?.top??cu.defaultOptions.topHeight,this._rightWidth=c??p?.defaultBorders?.right??cu.defaultOptions.rightWidth,this._bottomHeight=f??p?.defaultBorders?.bottom??cu.defaultOptions.bottomHeight,this._width=e??p.width??cu.defaultOptions.width,this._height=n??p.height??cu.defaultOptions.height,this.allowChildren=!1,this.texture=p??$Q.defaultOptions.texture,this.roundPixels=y??!1,this._anchor=new Ji({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:this.texture.defaultAnchor&&(this.anchor=this.texture.defaultAnchor)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return this._width}set width(t){this._width=t,this.onViewUpdate()}get height(){return this._height}set height(t){this._height=t,this.onViewUpdate()}setSize(t,e){typeof t=="object"&&(e=t.height??t.width,t=t.width),this._width=t,this._height=e??t,this.onViewUpdate()}getSize(t){return t||(t={}),t.width=this._width,t.height=this._height,t}get leftWidth(){return this._leftWidth}set leftWidth(t){this._leftWidth=t,this.onViewUpdate()}get topHeight(){return this._topHeight}set topHeight(t){this._topHeight=t,this.onViewUpdate()}get rightWidth(){return this._rightWidth}set rightWidth(t){this._rightWidth=t,this.onViewUpdate()}get bottomHeight(){return this._bottomHeight}set bottomHeight(t){this._bottomHeight=t,this.onViewUpdate()}get texture(){return this._texture}set texture(t){t||(t=Ut.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this.onViewUpdate())}get originalWidth(){return this._texture.width}get originalHeight(){return this._texture.height}destroy(t){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const n=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(n)}this._texture=null}updateBounds(){const t=this._bounds,e=this._anchor,n=this._width,s=this._height;t.minX=-e._x*n,t.maxX=t.minX+n,t.minY=-e._y*s,t.maxY=t.minY+s}};ZQ.defaultOptions={texture:Ut.EMPTY};let PM=ZQ;class zM extends V0{constructor(){super(),this.geometry=new cu}destroy(){this.geometry.destroy()}}class tv{constructor(t){this._renderer=t}addRenderable(t,e){const n=this._getGpuSprite(t);t.didViewUpdate&&this._updateBatchableSprite(t,n),this._renderer.renderPipes.batch.addToBatch(n,e)}updateRenderable(t){const e=this._getGpuSprite(t);t.didViewUpdate&&this._updateBatchableSprite(t,e),e._batcher.updateElement(e)}validateRenderable(t){const e=this._getGpuSprite(t);return!e._batcher.checkAndUpdateTexture(e,t._texture)}_updateBatchableSprite(t,e){e.geometry.update(t),e.setTexture(t._texture)}_getGpuSprite(t){return t._gpuData[this._renderer.uid]||this._initGPUSprite(t)}_initGPUSprite(t){const e=t._gpuData[this._renderer.uid]=new zM,n=e;return n.renderable=t,n.transform=t.groupTransform,n.texture=t._texture,n.roundPixels=this._renderer._roundPixels|t._roundPixels,t.didViewUpdate||this._updateBatchableSprite(t,n),e}destroy(){this._renderer=null}}tv.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"nineSliceSprite"};const YM={name:"tiling-bit",vertex:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `},fragment:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            }

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `}},KM={name:"tiling-bit",vertex:{header:`
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;

        `,main:`
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `},fragment:{header:`
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,main:`

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0

        `}};let $m,tE;class jM extends ws{constructor(){$m??($m=Vd({name:"tiling-sprite-shader",bits:[Hd,YM,Jd]})),tE??(tE=qd({name:"tiling-sprite-shader",bits:[U0,KM,Wd]}));const t=new pa({uMapCoord:{value:new Yt,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new Yt,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:tE,gpuProgram:$m,resources:{localUniforms:new pa({uTransformMatrix:{value:new Yt,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:t,uTexture:Ut.EMPTY.source,uSampler:Ut.EMPTY.source.style}})}updateUniforms(t,e,n,s,l,c){const h=this.resources.tilingUniforms,f=c.width,p=c.height,y=c.textureMatrix,B=h.uniforms.uTextureTransform;B.set(n.a*f/t,n.b*f/e,n.c*p/t,n.d*p/e,n.tx/t,n.ty/e),B.invert(),h.uniforms.uMapCoord=y.mapCoord,h.uniforms.uClampFrame=y.uClampFrame,h.uniforms.uClampOffset=y.uClampOffset,h.uniforms.uTextureTransform=B,h.uniforms.uSizeAnchor[0]=t,h.uniforms.uSizeAnchor[1]=e,h.uniforms.uSizeAnchor[2]=s,h.uniforms.uSizeAnchor[3]=l,c&&(this.resources.uTexture=c.source,this.resources.uSampler=c.source.style)}}class XM extends Zd{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}function VM(i,t){const e=i.anchor.x,n=i.anchor.y;t[0]=-e*i.width,t[1]=-n*i.height,t[2]=(1-e)*i.width,t[3]=-n*i.height,t[4]=(1-e)*i.width,t[5]=(1-n)*i.height,t[6]=-e*i.width,t[7]=(1-n)*i.height}function qM(i,t,e,n){let s=0;const l=i.length/t,c=n.a,h=n.b,f=n.c,p=n.d,y=n.tx,B=n.ty;for(e*=t;s<l;){const _=i[e],x=i[e+1];i[e]=c*_+f*x+y,i[e+1]=h*_+p*x+B,e+=t,s++}}function JM(i,t){const e=i.texture,n=e.frame.width,s=e.frame.height;let l=0,c=0;i.applyAnchorToTexture&&(l=i.anchor.x,c=i.anchor.y),t[0]=t[6]=-l,t[2]=t[4]=1-l,t[1]=t[3]=-c,t[5]=t[7]=1-c;const h=Yt.shared;h.copyFrom(i._tileTransform.matrix),h.tx/=i.width,h.ty/=i.height,h.invert(),h.scale(i.width/n,i.height/s),qM(t,2,0,h)}const ap=new XM;class WM{constructor(){this.canBatch=!0,this.geometry=new Zd({indices:ap.indices.slice(),positions:ap.positions.slice(),uvs:ap.uvs.slice()})}destroy(){this.geometry.destroy(),this.shader?.destroy()}}class ev{constructor(t){this._state=Ds.default2d,this._renderer=t}validateRenderable(t){const e=this._getTilingSpriteData(t),n=e.canBatch;this._updateCanBatch(t);const s=e.canBatch;if(s&&s===n){const{batchableMesh:l}=e;return!l._batcher.checkAndUpdateTexture(l,t.texture)}return n!==s}addRenderable(t,e){const n=this._renderer.renderPipes.batch;this._updateCanBatch(t);const s=this._getTilingSpriteData(t),{geometry:l,canBatch:c}=s;if(c){s.batchableMesh||(s.batchableMesh=new V0);const h=s.batchableMesh;t.didViewUpdate&&(this._updateBatchableMesh(t),h.geometry=l,h.renderable=t,h.transform=t.groupTransform,h.setTexture(t._texture)),h.roundPixels=this._renderer._roundPixels|t._roundPixels,n.addToBatch(h,e)}else n.break(e),s.shader||(s.shader=new jM),this.updateRenderable(t),e.add(t)}execute(t){const{shader:e}=this._getTilingSpriteData(t);e.groups[0]=this._renderer.globalUniforms.bindGroup;const n=e.resources.localUniforms.uniforms;n.uTransformMatrix=t.groupTransform,n.uRound=this._renderer._roundPixels|t._roundPixels,$d(t.groupColorAlpha,n.uColor,0),this._state.blendMode=Yd(t.groupBlendMode,t.texture._source),this._renderer.encoder.draw({geometry:ap,shader:e,state:this._state})}updateRenderable(t){const e=this._getTilingSpriteData(t),{canBatch:n}=e;if(n){const{batchableMesh:s}=e;t.didViewUpdate&&this._updateBatchableMesh(t),s._batcher.updateElement(s)}else if(t.didViewUpdate){const{shader:s}=e;s.updateUniforms(t.width,t.height,t._tileTransform.matrix,t.anchor.x,t.anchor.y,t.texture)}}_getTilingSpriteData(t){return t._gpuData[this._renderer.uid]||this._initTilingSpriteData(t)}_initTilingSpriteData(t){const e=new WM;return e.renderable=t,t._gpuData[this._renderer.uid]=e,e}_updateBatchableMesh(t){const e=this._getTilingSpriteData(t),{geometry:n}=e,s=t.texture.source.style;s.addressMode!=="repeat"&&(s.addressMode="repeat",s.update()),JM(t,n.uvs),VM(t,n.positions)}destroy(){this._renderer=null}_updateCanBatch(t){const e=this._getTilingSpriteData(t),n=t.texture;let s=!0;return this._renderer.type===dr.WEBGL&&(s=this._renderer.context.supports.nonPowOf2wrapping),e.canBatch=n.textureMatrix.isSimple&&(s||n.source.isPowerOfTwo),e.canBatch}}ev.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"tilingSprite"};const ZM={name:"local-uniform-msdf-bit",vertex:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `},fragment:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,main:`
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `}},$M={name:"local-uniform-msdf-bit",vertex:{header:`
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `},fragment:{header:`
            uniform float uDistance;
         `,main:`
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `}},tw={name:"msdf-bit",fragment:{header:`
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {

                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;

            }
        `}},ew={name:"msdf-bit",fragment:{header:`
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {

                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);

                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);

                return coverage;
            }
        `}};let eE,iE;class iw extends ws{constructor(t){const e=new pa({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new Yt,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}});eE??(eE=Vd({name:"sdf-shader",bits:[E0,B0(t),ZM,tw,Jd]})),iE??(iE=qd({name:"sdf-shader",bits:[y0,C0(t),$M,ew,Wd]})),super({glProgram:iE,gpuProgram:eE,resources:{localUniforms:e,batchSamplers:I0(t)}})}}class nw extends uo{destroy(){this.context.customShader&&this.context.customShader.destroy(),super.destroy()}}class iv{constructor(t){this._renderer=t,this._renderer.renderableGC.addManagedHash(this,"_gpuBitmapText")}validateRenderable(t){const e=this._getGpuBitmapText(t);return t._didTextUpdate&&(t._didTextUpdate=!1,this._updateContext(t,e)),this._renderer.renderPipes.graphics.validateRenderable(e)}addRenderable(t,e){const n=this._getGpuBitmapText(t);wC(t,n),t._didTextUpdate&&(t._didTextUpdate=!1,this._updateContext(t,n)),this._renderer.renderPipes.graphics.addRenderable(n,e),n.context.customShader&&this._updateDistanceField(t)}updateRenderable(t){const e=this._getGpuBitmapText(t);wC(t,e),this._renderer.renderPipes.graphics.updateRenderable(e),e.context.customShader&&this._updateDistanceField(t)}_updateContext(t,e){const{context:n}=e,s=HE.getFont(t.text,t._style);n.clear(),s.distanceField.type!=="none"&&(n.customShader||(n.customShader=new iw(this._renderer.limits.maxBatchableTextures)));const l=hr.graphemeSegmenter(t.text),c=t._style;let h=s.baseLineOffset;const f=J_(l,c,s,!0);let p=0;const y=c.padding,B=f.scale;let _=f.width,x=f.height+f.offsetY;c._stroke&&(_+=c._stroke.width/B,x+=c._stroke.width/B),n.translate(-t._anchor._x*_-y,-t._anchor._y*x-y).scale(B,B);const v=s.applyFillAsTint?c._fill.color:16777215;for(let T=0;T<f.lines.length;T++){const S=f.lines[T];for(let R=0;R<S.charPositions.length;R++){const O=l[p++],D=s.chars[O];D?.texture&&n.texture(D.texture,v||"black",Math.round(S.charPositions[R]+D.xOffset),Math.round(h+D.yOffset))}h+=s.lineHeight}}_getGpuBitmapText(t){return t._gpuData[this._renderer.uid]||this.initGpuText(t)}initGpuText(t){const e=new nw;return t._gpuData[this._renderer.uid]=e,this._updateContext(t,e),e}_updateDistanceField(t){const e=this._getGpuBitmapText(t).context,n=t._style.fontFamily,s=si.get(`${n}-bitmap`),{a:l,b:c,c:h,d:f}=t.groupTransform,p=Math.sqrt(l*l+c*c),y=Math.sqrt(h*h+f*f),B=(Math.abs(p)+Math.abs(y))/2,_=s.baseRenderedFontSize/t._style.fontSize,x=B*s.distanceField.range*(1/_);e.customShader.resources.localUniforms.uniforms.uDistance=x}destroy(){this._renderer=null}}iv.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"bitmapText"};function wC(i,t){t.groupTransform=i.groupTransform,t.groupColorAlpha=i.groupColorAlpha,t.groupColor=i.groupColor,t.groupBlendMode=i.groupBlendMode,t.globalDisplayStatus=i.globalDisplayStatus,t.groupTransform=i.groupTransform,t.localDisplayStatus=i.localDisplayStatus,t.groupAlpha=i.groupAlpha,t._roundPixels=i._roundPixels}class aw extends xp{constructor(t){super(),this.generatingTexture=!1,this._renderer=t,t.runners.resolutionChange.add(this)}resolutionChange(){const t=this.renderable;t._autoResolution&&t.onViewUpdate()}destroy(){this._renderer.htmlText.returnTexturePromise(this.texturePromise),this.texturePromise=null,this._renderer=null}}function XE(i,t){const{texture:e,bounds:n}=i;HI(n,t._anchor,e);const s=t._style._getFinalPadding();n.minX-=s,n.minY-=s,n.maxX-=s,n.maxY-=s}class nv{constructor(t){this._renderer=t}validateRenderable(t){return t._didTextUpdate}addRenderable(t,e){const n=this._getGpuText(t);t._didTextUpdate&&(this._updateGpuText(t).catch(s=>{}),t._didTextUpdate=!1,XE(n,t)),this._renderer.renderPipes.batch.addToBatch(n,e)}updateRenderable(t){const e=this._getGpuText(t);e._batcher.updateElement(e)}async _updateGpuText(t){t._didTextUpdate=!1;const e=this._getGpuText(t);if(e.generatingTexture)return;e.texturePromise&&(this._renderer.htmlText.returnTexturePromise(e.texturePromise),e.texturePromise=null),e.generatingTexture=!0,t._resolution=t._autoResolution?this._renderer.resolution:t.resolution;const n=this._renderer.htmlText.getTexturePromise(t);e.texturePromise=n,e.texture=await n;const s=t.renderGroup||t.parentRenderGroup;s&&(s.structureDidChange=!0),e.generatingTexture=!1,XE(e,t)}_getGpuText(t){return t._gpuData[this._renderer.uid]||this.initGpuText(t)}initGpuText(t){const e=new aw(this._renderer);return e.renderable=t,e.transform=t.groupTransform,e.texture=Ut.EMPTY,e.bounds={minX:0,maxX:1,minY:0,maxY:0},e.roundPixels=this._renderer._roundPixels|t._roundPixels,t._resolution=t._autoResolution?this._renderer.resolution:t.resolution,t._gpuData[this._renderer.uid]=e,e}destroy(){this._renderer=null}}nv.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"htmlText"};function sw(){const{userAgent:i}=Ee.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(i)}const rw=new pn;function av(i,t,e,n){const s=rw;s.minX=0,s.minY=0,s.maxX=i.width/n|0,s.maxY=i.height/n|0;const l=qn.getOptimalTexture(s.width,s.height,n,!1);return l.source.uploadMethodId="image",l.source.resource=i,l.source.alphaMode="premultiply-alpha-on-upload",l.frame.width=t/n,l.frame.height=e/n,l.source.emit("update",l.source),l.updateUvs(),l}function ow(i,t){const e=t.fontFamily,n=[],s={},l=/font-family:([^;"\s]+)/g,c=i.match(l);function h(f){s[f]||(n.push(f),s[f]=!0)}if(Array.isArray(e))for(let f=0;f<e.length;f++)h(e[f]);else h(e);c&&c.forEach(f=>{const p=f.split(":")[1].trim();h(p)});for(const f in t.tagStyles){const p=t.tagStyles[f].fontFamily;h(p)}return n}async function lw(i){const e=await(await Ee.get().fetch(i)).blob(),n=new FileReader;return await new Promise((l,c)=>{n.onloadend=()=>l(n.result),n.onerror=c,n.readAsDataURL(e)})}async function GC(i,t){const e=await lw(t);return`@font-face {
        font-family: "${i.fontFamily}";
        src: url('${e}');
        font-weight: ${i.fontWeight};
        font-style: ${i.fontStyle};
    }`}const Xg=new Map;async function Aw(i,t,e){const n=i.filter(s=>si.has(`${s}-and-url`)).map((s,l)=>{if(!Xg.has(s)){const{url:c}=si.get(`${s}-and-url`);l===0?Xg.set(s,GC({fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:s},c)):Xg.set(s,GC({fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:s},c))}return Xg.get(s)});return(await Promise.all(n)).join(`
`)}function uw(i,t,e,n,s){const{domElement:l,styleElement:c,svgRoot:h}=s;l.innerHTML=`<style>${t.cssStyle}</style><div style='padding:0;'>${i}</div>`,l.setAttribute("style",`transform: scale(${e});transform-origin: top left; display: inline-block`),c.textContent=n;const{width:f,height:p}=s.image;return h.setAttribute("width",f.toString()),h.setAttribute("height",p.toString()),new XMLSerializer().serializeToString(h)}function cw(i,t){const e=nA.getOptimalCanvasAndContext(i.width,i.height,t),{context:n}=e;return n.clearRect(0,0,i.width,i.height),n.drawImage(i,0,0),e}function hw(i,t,e){return new Promise(async n=>{e&&await new Promise(s=>setTimeout(s,100)),i.onload=()=>{n()},i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(t)}`,i.crossOrigin="anonymous"})}class sv{constructor(t){this._renderer=t,this._createCanvas=t.type===dr.WEBGPU}getTexture(t){return this.getTexturePromise(t)}getTexturePromise(t){return this._buildTexturePromise(t)}async _buildTexturePromise(t){const{text:e,style:n,resolution:s,textureStyle:l}=t,c=ln.get(dx),h=ow(e,n),f=await Aw(h,n,G0.defaultTextStyle),p=UD(e,n,f,c),y=Math.ceil(Math.ceil(Math.max(1,p.width)+n.padding*2)*s),B=Math.ceil(Math.ceil(Math.max(1,p.height)+n.padding*2)*s),_=c.image,x=2;_.width=(y|0)+x,_.height=(B|0)+x;const v=uw(e,n,s,f,c);await hw(_,v,sw()&&h.length>0);const T=_;let S;this._createCanvas&&(S=cw(_,s));const R=av(S?S.canvas:T,_.width-x,_.height-x,s);return l&&(R.source.style=l),this._createCanvas&&(this._renderer.texture.initSource(R.source),nA.returnCanvasAndContext(S)),ln.return(c),R}returnTexturePromise(t){t.then(e=>{this._cleanUp(e)}).catch(()=>{ie("HTMLTextSystem: Failed to clean texture")})}_cleanUp(t){qn.returnTexture(t,!0),t.source.resource=null,t.source.uploadMethodId="unknown"}destroy(){this._renderer=null}}sv.extension={type:[J.WebGLSystem,J.WebGPUSystem,J.CanvasSystem],name:"htmlText"};class dw extends xp{constructor(t){super(),this._renderer=t,t.runners.resolutionChange.add(this)}resolutionChange(){const t=this.renderable;t._autoResolution&&t.onViewUpdate()}destroy(){this._renderer.canvasText.returnTexture(this.texture),this._renderer=null}}class rv{constructor(t){this._renderer=t}validateRenderable(t){return t._didTextUpdate}addRenderable(t,e){const n=this._getGpuText(t);t._didTextUpdate&&(this._updateGpuText(t),t._didTextUpdate=!1),this._renderer.renderPipes.batch.addToBatch(n,e)}updateRenderable(t){const e=this._getGpuText(t);e._batcher.updateElement(e)}_updateGpuText(t){const e=this._getGpuText(t);e.texture&&this._renderer.canvasText.returnTexture(e.texture),t._resolution=t._autoResolution?this._renderer.resolution:t.resolution,e.texture=e.texture=this._renderer.canvasText.getTexture(t),XE(e,t)}_getGpuText(t){return t._gpuData[this._renderer.uid]||this.initGpuText(t)}initGpuText(t){const e=new dw(this._renderer);return e.renderable=t,e.transform=t.groupTransform,e.bounds={minX:0,maxX:1,minY:0,maxY:0},e.roundPixels=this._renderer._roundPixels|t._roundPixels,t._gpuData[this._renderer.uid]=e,e}destroy(){this._renderer=null}}rv.extension={type:[J.WebGLPipes,J.WebGPUPipes,J.CanvasPipes],name:"text"};class ov{constructor(t){this._renderer=t}getTexture(t,e,n,s){typeof t=="string"&&(ue("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),t={text:t,style:n,resolution:e}),t.style instanceof Ri||(t.style=new Ri(t.style)),t.textureStyle instanceof $o||(t.textureStyle=new $o(t.textureStyle)),typeof t.text!="string"&&(t.text=t.text.toString());const{text:l,style:c,textureStyle:h}=t,f=t.resolution??this._renderer.resolution,{frame:p,canvasAndContext:y}=Od.getCanvasAndContext({text:l,style:c,resolution:f}),B=av(y.canvas,p.width,p.height,f);if(h&&(B.source.style=h),c.trim&&(p.pad(c.padding),B.frame.copyFrom(p),B.updateUvs()),c.filters){const _=this._applyFilters(B,c.filters);return this.returnTexture(B),Od.returnCanvasAndContext(y),_}return this._renderer.texture.initSource(B._source),Od.returnCanvasAndContext(y),B}returnTexture(t){const e=t.source;e.resource=null,e.uploadMethodId="unknown",e.alphaMode="no-premultiply-alpha",qn.returnTexture(t,!0)}renderTextToCanvas(){ue("8.10.0","CanvasTextSystem.renderTextToCanvas: no longer supported, use CanvasTextSystem.getTexture instead")}_applyFilters(t,e){const n=this._renderer.renderTarget.renderTarget,s=this._renderer.filter.generateFilteredTexture({texture:t,filters:e});return this._renderer.renderTarget.bind(n,!1),s}destroy(){this._renderer=null}}ov.extension={type:[J.WebGLSystem,J.WebGPUSystem,J.CanvasSystem],name:"canvasText"};Xt.add(Hb,kb);var nE={exports:{}},Yo={};var NC;function fw(){return NC||(NC=1,Yo.ConcurrentRoot=1,Yo.ContinuousEventPriority=8,Yo.DefaultEventPriority=32,Yo.DiscreteEventPriority=2,Yo.IdleEventPriority=268435456,Yo.LegacyRoot=0,Yo.NoEventPriority=0),Yo}var UC;function gw(){return UC||(UC=1,nE.exports=fw()),nE.exports}var Dc=gw();const lv=pt.createContext({}),pw=lv.Provider;lv.Consumer;function Av(i,t){const e=Object.getPrototypeOf(i),n=Object.getOwnPropertyDescriptor(e,t);return!(typeof n>"u"||n.writable||n.set)}const aA={currentUpdatePriority:Dc.DefaultEventPriority,unmountQueue:new Set};function OC(i,...t){}function uv(i,t={}){const e=i;return e.__pixireact=Object.assign({filters:[],parent:null,root:null,type:""},t),e}var mw="0.0.0-development",Ew={version:mw};function yw(){}function cv(i,t,e){t instanceof lA&&(t.__pixireact.parent=i,typeof e=="number"?i.__pixireact.filters.splice(e,0,t):i.__pixireact.filters.push(t),i.filters=i.__pixireact.filters)}function aE(i,t){t&&(t instanceof He?i.addChild(t):t instanceof lA&&cv(i,t))}function Bw(){}function Cw(){return!1}const VE=Object.freeze({onclick:"onClick",onglobalmousemove:"onGlobalMouseMove",onglobalpointermove:"onGlobalPointerMove",onglobaltouchmove:"onGlobalTouchMove",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onmouseupoutside:"onMouseUpOutside",onpointercancel:"onPointerCancel",onpointerdown:"onPointerDown",onpointerenter:"onPointerEnter",onpointerleave:"onPointerLeave",onpointermove:"onPointerMove",onpointerout:"onPointerOut",onpointerover:"onPointerOver",onpointertap:"onPointerTap",onpointerup:"onPointerUp",onpointerupoutside:"onPointerUpOutside",onrightclick:"onRightClick",onrightdown:"onRightDown",onrightup:"onRightUp",onrightupoutside:"onRightUpOutside",ontap:"onTap",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchendoutside:"onTouchEndOutside",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"}),gp=Object.freeze({onClick:"onclick",onGlobalMouseMove:"onglobalmousemove",onGlobalPointerMove:"onglobalpointermove",onGlobalTouchMove:"onglobaltouchmove",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseUpOutside:"onmouseupoutside",onPointerCancel:"onpointercancel",onPointerDown:"onpointerdown",onPointerEnter:"onpointerenter",onPointerLeave:"onpointerleave",onPointerMove:"onpointermove",onPointerOut:"onpointerout",onPointerOver:"onpointerover",onPointerTap:"onpointertap",onPointerUp:"onpointerup",onPointerUpOutside:"onpointerupoutside",onRightClick:"onrightclick",onRightDown:"onrightdown",onRightUp:"onrightup",onRightUpOutside:"onrightupoutside",onTap:"ontap",onTouchCancel:"ontouchcancel",onTouchEnd:"ontouchend",onTouchEndOutside:"ontouchendoutside",onTouchMove:"ontouchmove",onTouchStart:"ontouchstart",onWheel:"onwheel"});function hv(i){return Array.isArray(i)}function dv(i,t,e={arrays:"reference",objects:"reference",strict:!0}){const{arrays:n,objects:s,strict:l}=e;if(typeof i!=typeof t||!!i!=!!t)return!1;if(Qw(i)||_w(i))return i===t;const c=xw(i);if(c&&s==="reference")return i===t;const h=hv(i);if(h&&n==="reference")return i===t;if((h||c)&&i===t)return!0;let f;for(f in i)if(!(f in t))return!1;let p=i;if(l&&(p=t),c&&n==="shallow"&&s==="shallow"){for(f in p)if(!dv(i[f],t[f],{strict:l,objects:"reference"}))return!1}else for(f in p)if(i[f]!==t[f])return!1;if(fv(f)){if(h&&i.length===0&&t.length===0||c&&Object.keys(i).length===0&&Object.keys(t).length===0)return!0;if(i!==t)return!1}return!0}function Iw(i){return i===null}function _w(i){return typeof i=="number"}function xw(i){return!(i!==Object(i)||hv(i)||typeof i=="function")}function Qw(i){return typeof i=="string"}function fv(i){return i===void 0}const vw=Object.freeze(["children","key","ref"]);function bw(i,t=[]){const e={};return Object.entries(i).reduce((n,[s,l])=>(t.includes(s)||(n[s]=l),n),e)}function qE(i,t=[]){return bw(i,vw.concat(t))}const Sw="__default";function gv(i,t={},e=!1){const n=qE(i),s=qE(t),l=Object.entries(n),c=[];if(e){const h=Object.keys(s);let f=0;for(;f<h.length;){const p=h[f];!(p in n)&&l.unshift([p,`${Sw}remove`]),f+=1}}return l.forEach(([h,f])=>{if(dv(f,s[h]))return;if(h in gp){c.push([h,f,!0,[]]);return}let p=[];h.includes("-")&&(p=h.split("-")),c.push([h,f,!1,p]);for(const y in n){const B=n[y];y.startsWith(`${h}-`)&&c.push([y,B,!1,y.split("-")])}}),{changes:c}}function Tw(i){const t=i;return!(!t||!t.changes)}const Rw="__default",HC=new Map,kC={};function LC(i,t){if(i){const e=i[t];if(!fv(e)&&!Iw(e))return e}return i}function pv(i,t){const{__pixireact:e={},...n}=i;let s;Tw(t)?s=t:s=gv(t,n);const{changes:l}=s;let c=0;for(;c<l.length;){const h=l[c];let f=!1,p=h[0],y=h[1];const B=h[2],_=h[3];let x=i,v=x[p];if(p==="draw"&&typeof y=="function"&&(i instanceof uo?y(i):(f=!0,OC("warn",`The \`draw\` prop was used on a \`${e.type}\` component, but it's only valid on \`graphics\` components.`))),p in VE){const T=p;f=!0,kC[p]||(kC[p]=!0,OC("warn",`Event names must be pascal case; instead of \`${p}\`, you probably want \`${VE[T]}\`.`))}if(!f){if(_.length&&(v=_.reduce(LC,x),!(v&&v.set))){const[T,...S]=_.reverse();x=S.reverse().reduce(LC,x),p=T}if(y===`${Rw}remove`)if(x instanceof He){let T=HC.get(x.constructor);T||(T=x.constructor,T=new T,HC.set(x.constructor,T)),y=T[p]}else y=0;if(B&&e){const S=gp[p];y?x[S]=y:delete x[S]}else Av(x,p)||(x[p]=y)}c+=1}return i}function Dw(i,t,e,n){const{children:s,...l}=n,{children:c,...h}=e,f=gv(l,h,!0);return f.changes.length?f:null}function Mw(i,t,e,n){const s=Dw(i,t,e,n);s&&pv(i,s)}const ww=Object.freeze([...Object.keys(VE),"draw"]),JE={};function Gw(i){const t=i.charAt(0),e=i.substring(1);return`${t.toUpperCase()}${e}`}function Nw(i,t){return t.toLowerCase()}function Uw(i){let t=i;return i.startsWith("pixi")&&(t=i.replace(/^pixi([A-Z])/,Nw)),t}function Ow(i,t,e){const n=Uw(i),s=Gw(n);if(!(s in JE))throw new Error(`${s} is not part of the PIXI namespace! Did you forget to extend?`);const l=JE[s],c=qE(t,ww);Object.entries(t).forEach(([f,p])=>{if(f in gp){const y=gp[f];c[y]=p}});const h=uv(new l(c),{root:e,type:n});return pv(h,t),h}var sE={exports:{}},rE={exports:{}},oE={exports:{}},lE={};var FC;function Hw(){return FC||(FC=1,function(i){function t(P,Z){var Bt=P.length;P.push(Z);t:for(;0<Bt;){var St=Bt-1>>>1,H=P[St];if(0<s(H,Z))P[St]=Z,P[Bt]=H,Bt=St;else break t}}function e(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var Z=P[0],Bt=P.pop();if(Bt!==Z){P[0]=Bt;t:for(var St=0,H=P.length,ut=H>>>1;St<ut;){var It=2*(St+1)-1,Et=P[It],Gt=It+1,Kt=P[Gt];if(0>s(Et,Bt))Gt<H&&0>s(Kt,Et)?(P[St]=Kt,P[Gt]=Bt,St=Gt):(P[St]=Et,P[It]=Bt,St=It);else if(Gt<H&&0>s(Kt,Bt))P[St]=Kt,P[Gt]=Bt,St=Gt;else break t}}return Z}function s(P,Z){var Bt=P.sortIndex-Z.sortIndex;return Bt!==0?Bt:P.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var f=[],p=[],y=1,B=null,_=3,x=!1,v=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function D(P){for(var Z=e(p);Z!==null;){if(Z.callback===null)n(p);else if(Z.startTime<=P)n(p),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=e(p)}}function F(P){if(T=!1,D(P),!v)if(e(f)!==null)v=!0,Rt();else{var Z=e(p);Z!==null&&ne(F,Z.startTime-P)}}var j=!1,$=-1,V=5,gt=-1;function ht(){return!(i.unstable_now()-gt<V)}function At(){if(j){var P=i.unstable_now();gt=P;var Z=!0;try{t:{v=!1,T&&(T=!1,R($),$=-1),x=!0;var Bt=_;try{e:{for(D(P),B=e(f);B!==null&&!(B.expirationTime>P&&ht());){var St=B.callback;if(typeof St=="function"){B.callback=null,_=B.priorityLevel;var H=St(B.expirationTime<=P);if(P=i.unstable_now(),typeof H=="function"){B.callback=H,D(P),Z=!0;break e}B===e(f)&&n(f),D(P)}else n(f);B=e(f)}if(B!==null)Z=!0;else{var ut=e(p);ut!==null&&ne(F,ut.startTime-P),Z=!1}}break t}finally{B=null,_=Bt,x=!1}Z=void 0}}finally{Z?L():j=!1}}}var L;if(typeof O=="function")L=function(){O(At)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,Ot=Dt.port2;Dt.port1.onmessage=At,L=function(){Ot.postMessage(null)}}else L=function(){S(At,0)};function Rt(){j||(j=!0,L())}function ne(P,Z){$=S(function(){P(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_continueExecution=function(){v||x||(v=!0,Rt())},i.unstable_forceFrameRate=function(P){0>P||125<P||(V=0<P?Math.floor(1e3/P):5)},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return e(f)},i.unstable_next=function(P){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var Bt=_;_=Z;try{return P()}finally{_=Bt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(P,Z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Bt=_;_=P;try{return Z()}finally{_=Bt}},i.unstable_scheduleCallback=function(P,Z,Bt){var St=i.unstable_now();switch(typeof Bt=="object"&&Bt!==null?(Bt=Bt.delay,Bt=typeof Bt=="number"&&0<Bt?St+Bt:St):Bt=St,P){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Bt+H,P={id:y++,callback:Z,priorityLevel:P,startTime:Bt,expirationTime:H,sortIndex:-1},Bt>St?(P.sortIndex=Bt,t(p,P),e(f)===null&&P===e(p)&&(T?(R($),$=-1):T=!0,ne(F,Bt-St))):(P.sortIndex=H,t(f,P),v||x||(v=!0,Rt())),P},i.unstable_shouldYield=ht,i.unstable_wrapCallback=function(P){var Z=_;return function(){var Bt=_;_=Z;try{return P.apply(this,arguments)}finally{_=Bt}}}}(lE)),lE}var PC;function kw(){return PC||(PC=1,oE.exports=Hw()),oE.exports}var zC;function Lw(){return zC||(zC=1,function(i){i.exports=function(t){function e(o,A,g,E){return new Sh(o,A,g,E)}function n(){}function s(o){var A="https://react.dev/errors/"+o;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)A+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+o+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){return o===null||typeof o!="object"?null:(o=Js&&o[Js]||o["@@iterator"],typeof o=="function"?o:null)}function c(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Mh?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Ur:return"Fragment";case Qa:return"Portal";case Yu:return"Profiler";case FA:return"StrictMode";case Ku:return"Suspense";case vl:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ya:return(o.displayName||"Context")+".Provider";case Rh:return(o._context.displayName||"Context")+".Consumer";case zA:var A=o.render;return o=o.displayName,o||(o=A.displayName||A.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ju:return A=o.displayName||null,A!==null?A:c(o.type)||"Memo";case va:A=o._payload,o=o._init;try{return c(o(A))}catch{}}return null}function h(o){if(ds===void 0)try{throw Error()}catch(g){var A=g.stack.trim().match(/\n( *(at )?)/);ds=A&&A[1]||"",Ws=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+o+Ws}function f(o,A){if(!o||_o)return"";_o=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(A){var Mt=function(){throw Error()};if(Object.defineProperty(Mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Mt,[])}catch(re){var Nt=re}Reflect.construct(o,[],Mt)}else{try{Mt.call()}catch(re){Nt=re}o.call(Mt.prototype)}}else{try{throw Error()}catch(re){Nt=re}(Mt=o())&&typeof Mt.catch=="function"&&Mt.catch(function(){})}}catch(re){if(re&&Nt&&typeof re.stack=="string")return[re.stack,Nt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Q=E.DetermineComponentFrameRoot(),k=Q[0],Y=Q[1];if(k&&Y){var et=k.split(`
`),dt=Y.split(`
`);for(I=E=0;E<et.length&&!et[E].includes("DetermineComponentFrameRoot");)E++;for(;I<dt.length&&!dt[I].includes("DetermineComponentFrameRoot");)I++;if(E===et.length||I===dt.length)for(E=et.length-1,I=dt.length-1;1<=E&&0<=I&&et[E]!==dt[I];)I--;for(;1<=E&&0<=I;E--,I--)if(et[E]!==dt[I]){if(E!==1||I!==1)do if(E--,I--,0>I||et[E]!==dt[I]){var Tt=`
`+et[E].replace(" at new "," at ");return o.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",o.displayName)),Tt}while(1<=E&&0<=I);break}}}finally{_o=!1,Error.prepareStackTrace=g}return(g=o?o.displayName||o.name:"")?h(g):""}function p(o){switch(o.tag){case 26:case 27:case 5:return h(o.type);case 16:return h("Lazy");case 13:return h("Suspense");case 19:return h("SuspenseList");case 0:case 15:return o=f(o.type,!1),o;case 11:return o=f(o.type.render,!1),o;case 1:return o=f(o.type,!0),o;default:return""}}function y(o){try{var A="";do A+=p(o),o=o.return;while(o);return A}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function B(o){var A=o,g=o;if(o.alternate)for(;A.return;)A=A.return;else{o=A;do A=o,(A.flags&4098)!==0&&(g=A.return),o=A.return;while(o)}return A.tag===3?g:null}function _(o){if(B(o)!==o)throw Error(s(188))}function x(o){var A=o.alternate;if(!A){if(A=B(o),A===null)throw Error(s(188));return A!==o?null:o}for(var g=o,E=A;;){var I=g.return;if(I===null)break;var Q=I.alternate;if(Q===null){if(E=I.return,E!==null){g=E;continue}break}if(I.child===Q.child){for(Q=I.child;Q;){if(Q===g)return _(I),o;if(Q===E)return _(I),A;Q=Q.sibling}throw Error(s(188))}if(g.return!==E.return)g=I,E=Q;else{for(var k=!1,Y=I.child;Y;){if(Y===g){k=!0,g=I,E=Q;break}if(Y===E){k=!0,E=I,g=Q;break}Y=Y.sibling}if(!k){for(Y=Q.child;Y;){if(Y===g){k=!0,g=Q,E=I;break}if(Y===E){k=!0,E=Q,g=I;break}Y=Y.sibling}if(!k)throw Error(s(189))}}if(g.alternate!==E)throw Error(s(190))}if(g.tag!==3)throw Error(s(188));return g.stateNode.current===g?o:A}function v(o){var A=o.tag;if(A===5||A===26||A===27||A===6)return o;for(o=o.child;o!==null;){if(A=v(o),A!==null)return A;o=o.sibling}return null}function T(o){var A=o.tag;if(A===5||A===26||A===27||A===6)return o;for(o=o.child;o!==null;){if(o.tag!==4&&(A=T(o),A!==null))return A;o=o.sibling}return null}function S(o){return{current:o}}function R(o){0>er||(o.current=Ei[er],Ei[er]=null,er--)}function O(o,A){er++,Ei[er]=o.current,o.current=A}function D(o){return o>>>=0,o===0?32:31-(sg(o)/rg|0)|0}function F(o){var A=o&42;if(A!==0)return A;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function j(o,A){var g=o.pendingLanes;if(g===0)return 0;var E=0,I=o.suspendedLanes,Q=o.pingedLanes,k=o.warmLanes;o=o.finishedLanes!==0;var Y=g&134217727;return Y!==0?(g=Y&~I,g!==0?E=F(g):(Q&=Y,Q!==0?E=F(Q):o||(k=Y&~k,k!==0&&(E=F(k))))):(Y=g&~I,Y!==0?E=F(Y):Q!==0?E=F(Q):o||(k=g&~k,k!==0&&(E=F(k)))),E===0?0:A!==0&&A!==E&&(A&I)===0&&(I=E&-E,k=A&-A,I>=k||I===32&&(k&4194176)!==0)?A:E}function $(o,A){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&A)===0}function V(o,A){switch(o){case 1:case 2:case 4:case 8:return A+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var o=gs;return gs<<=1,(gs&4194176)===0&&(gs=128),o}function ht(){var o=vo;return vo<<=1,(vo&62914560)===0&&(vo=4194304),o}function At(o){for(var A=[],g=0;31>g;g++)A.push(o);return A}function L(o,A){o.pendingLanes|=A,A!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Dt(o,A,g,E,I,Q){var k=o.pendingLanes;o.pendingLanes=g,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=g,o.entangledLanes&=g,o.errorRecoveryDisabledLanes&=g,o.shellSuspendCounter=0;var Y=o.entanglements,et=o.expirationTimes,dt=o.hiddenUpdates;for(g=k&~g;0<g;){var Tt=31-Sn(g),Mt=1<<Tt;Y[Tt]=0,et[Tt]=-1;var Nt=dt[Tt];if(Nt!==null)for(dt[Tt]=null,Tt=0;Tt<Nt.length;Tt++){var re=Nt[Tt];re!==null&&(re.lane&=-536870913)}g&=~Mt}E!==0&&Ot(o,E,0),Q!==0&&I===0&&o.tag!==0&&(o.suspendedLanes|=Q&~(k&~A))}function Ot(o,A,g){o.pendingLanes|=A,o.suspendedLanes&=~A;var E=31-Sn(A);o.entangledLanes|=A,o.entanglements[E]=o.entanglements[E]|1073741824|g&4194218}function Rt(o,A){var g=o.entangledLanes|=A;for(o=o.entanglements;g;){var E=31-Sn(g),I=1<<E;I&A|o[E]&A&&(o[E]|=A),g&=~I}}function ne(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function P(o){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(yi,o,void 0,(o.current.flags&128)===128)}catch{}}function Z(o){if(typeof Ag=="function"&&Xi(o),jn&&typeof jn.setStrictMode=="function")try{jn.setStrictMode(yi,o)}catch{}}function Bt(o,A){return o===A&&(o!==0||1/o===1/A)||o!==o&&A!==A}function St(o,A){if(typeof o=="object"&&o!==null){var g=Wh.get(o);return g!==void 0?g:(A={value:o,source:A,stack:y(A)},Wh.set(o,A),A)}return{value:o,source:A,stack:y(A)}}function H(o,A){bo[So++]=Nl,bo[So++]=To,To=o,Nl=A}function ut(o,A,g){aa[sa++]=Xa,aa[sa++]=Va,aa[sa++]=zr,zr=o;var E=Xa;o=Va;var I=32-Sn(E)-1;E&=~(1<<I),g+=1;var Q=32-Sn(A)+I;if(30<Q){var k=I-I%5;Q=(E&(1<<k)-1).toString(32),E>>=k,I-=k,Xa=1<<32-Sn(A)+I|g<<I|E,Va=Q+o}else Xa=1<<Q|g<<I|E,Va=o}function It(o){o.return!==null&&(H(o,1),ut(o,1,0))}function Et(o){for(;o===To;)To=bo[--So],bo[So]=null,Nl=bo[--So],bo[So]=null;for(;o===zr;)zr=aa[--sa],aa[sa]=null,Va=aa[--sa],aa[sa]=null,Xa=aa[--sa],aa[sa]=null}function Gt(o,A){O(ps,A),O(Ul,o),O(Gi,null),o=xf(A),R(Gi),O(Gi,o)}function Kt(){R(Gi),R(Ul),R(ps)}function kt(o){o.memoizedState!==null&&O(Ro,o);var A=Gi.current,g=Rl(A,o.type);A!==g&&(O(Ul,o),O(Gi,g))}function Lt(o){Ul.current===o&&(R(Gi),R(Ul)),Ro.current===o&&(R(Ro),vn?Ka._currentValue=Hr:Ka._currentValue2=Hr)}function oe(o){var A=Error(s(418,""));throw Ke(St(A,o)),ZA}function ui(o,A){if(!an)throw Error(s(175));qf(o.stateNode,o.type,o.memoizedProps,A,o)||oe(o)}function wn(o){for(sn=o.return;sn;)switch(sn.tag){case 3:case 27:Vi=!0;return;case 5:case 13:Vi=!1;return;default:sn=sn.return}}function Fi(o){if(!an||o!==sn)return!1;if(!Ie)return wn(o),Ie=!0,!1;var A=!1;if(Le?o.tag!==3&&o.tag!==27&&(o.tag!==5||ec(o.type)&&!Ae(o.type,o.memoizedProps))&&(A=!0):o.tag!==3&&(o.tag!==5||ec(o.type)&&!Ae(o.type,o.memoizedProps))&&(A=!0),A&&rn&&oe(o),wn(o),o.tag===13){if(!an)throw Error(s(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));rn=Wf(o)}else rn=sn?Xh(o.stateNode):null;return!0}function pe(){an&&(rn=sn=null,Ie=!1)}function Ke(o){Ta===null?Ta=[o]:Ta.push(o)}function _i(){for(var o=Do,A=qa=Do=0;A<o;){var g=Ra[A];Ra[A++]=null;var E=Ra[A];Ra[A++]=null;var I=Ra[A];Ra[A++]=null;var Q=Ra[A];if(Ra[A++]=null,E!==null&&I!==null){var k=E.pending;k===null?I.next=I:(I.next=k.next,k.next=I),E.pending=I}Q!==0&&ma(g,I,Q)}}function Pi(o,A,g,E){Ra[Do++]=o,Ra[Do++]=A,Ra[Do++]=g,Ra[Do++]=E,qa|=E,o.lanes|=E,o=o.alternate,o!==null&&(o.lanes|=E)}function mn(o,A,g,E){return Pi(o,A,g,E),Gs(o)}function ii(o,A){return Pi(o,null,null,A),Gs(o)}function ma(o,A,g){o.lanes|=g;var E=o.alternate;E!==null&&(E.lanes|=g);for(var I=!1,Q=o.return;Q!==null;)Q.childLanes|=g,E=Q.alternate,E!==null&&(E.childLanes|=g),Q.tag===22&&(o=Q.stateNode,o===null||o._visibility&1||(I=!0)),o=Q,Q=Q.return;I&&A!==null&&o.tag===3&&(Q=o.stateNode,I=31-Sn(g),Q=Q.hiddenUpdates,o=Q[I],o===null?Q[I]=[A]:o.push(A),A.lane=g|536870912)}function Gs(o){if(50<Kl)throw Kl=0,pc=null,Error(s(185));for(var A=o.return;A!==null;)o=A,A=o.return;return o.tag===3?o.stateNode:null}function Gn(o){o!==ir&&o.next===null&&(ir===null?$A=ir=o:ir=ir.next=o),je=!0,Mo||(Mo=!0,ho(uA))}function Nn(o,A){if(!Zh&&je){Zh=!0;do for(var g=!1,E=$A;E!==null;){if(o!==0){var I=E.pendingLanes;if(I===0)var Q=0;else{var k=E.suspendedLanes,Y=E.pingedLanes;Q=(1<<31-Sn(42|o)+1)-1,Q&=I&~(k&~Y),Q=Q&201326677?Q&201326677|1:Q?Q|2:0}Q!==0&&(g=!0,hA(E,Q))}else Q=ye,Q=j(E,E===we?Q:0),(Q&3)===0||$(E,Q)||(g=!0,hA(E,Q));E=E.next}while(g);Zh=!1}}function uA(){je=Mo=!1;var o=0;Ol!==0&&(Sf()&&(o=Ol),Ol=0);for(var A=Sa(),g=null,E=$A;E!==null;){var I=E.next,Q=tl(E,A);Q===0?(E.next=null,g===null?$A=I:g.next=I,I===null&&(ir=g)):(g=E,(o!==0||(Q&3)!==0)&&(je=!0)),E=I}Nn(o)}function tl(o,A){for(var g=o.suspendedLanes,E=o.pingedLanes,I=o.expirationTimes,Q=o.pendingLanes&-62914561;0<Q;){var k=31-Sn(Q),Y=1<<k,et=I[k];et===-1?((Y&g)===0||(Y&E)!==0)&&(I[k]=V(Y,A)):et<=A&&(o.expiredLanes|=Y),Q&=~Y}if(A=we,g=ye,g=j(o,o===A?g:0),E=o.callbackNode,g===0||o===A&&ke===2||o.cancelPendingCommit!==null)return E!==null&&E!==null&&sc(E),o.callbackNode=null,o.callbackPriority=0;if((g&3)===0||$(o,g)){if(A=g&-g,A===o.callbackPriority)return A;switch(E!==null&&sc(E),ne(g)){case 2:case 8:g=lg;break;case 32:g=lc;break;case 268435456:g=Hp;break;default:g=lc}return E=cA.bind(null,o),g=WA(g,E),o.callbackPriority=A,o.callbackNode=g,A}return E!==null&&E!==null&&sc(E),o.callbackPriority=2,o.callbackNode=null,2}function cA(o,A){var g=o.callbackNode;if(za()&&o.callbackNode!==g)return null;var E=ye;return E=j(o,o===we?E:0),E===0?null:(Dr(o,E,A),tl(o,Sa()),o.callbackNode!=null&&o.callbackNode===g?cA.bind(null,o):null)}function hA(o,A){if(za())return null;Dr(o,A,!0)}function ho(o){Oh?tr(function(){(ve&6)!==0?WA(oc,o):o()}):WA(oc,o)}function zi(){return Ol===0&&(Ol=gt()),Ol}function Jn(o,A){if(Hl===null){var g=Hl=[];wo=0,ra=zi(),Go={status:"pending",value:void 0,then:function(E){g.push(E)}}}return wo++,A.then(Di,Di),A}function Di(){if(--wo===0&&Hl!==null){Go!==null&&(Go.status="fulfilled");var o=Hl;Hl=null,ra=0,Go=null;for(var A=0;A<o.length;A++)(0,o[A])()}}function fr(o,A){var g=[],E={status:"pending",value:null,reason:null,then:function(I){g.push(I)}};return o.then(function(){E.status="fulfilled",E.value=A;for(var I=0;I<g.length;I++)(0,g[I])(A)},function(I){for(E.status="rejected",E.reason=I,I=0;I<g.length;I++)(0,g[I])(void 0)}),E}function gr(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fo(o,A){o=o.updateQueue,A.updateQueue===o&&(A.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Wi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Yi(o,A,g){var E=o.updateQueue;if(E===null)return null;if(E=E.shared,(ve&2)!==0){var I=E.pending;return I===null?A.next=A:(A.next=I.next,I.next=A),E.pending=A,A=Gs(o),ma(o,null,g),A}return Pi(o,E,A,g),Gs(o)}function An(o,A,g){if(A=A.updateQueue,A!==null&&(A=A.shared,(g&4194176)!==0)){var E=A.lanes;E&=o.pendingLanes,g|=E,A.lanes=g,Rt(o,g)}}function En(o,A){var g=o.updateQueue,E=o.alternate;if(E!==null&&(E=E.updateQueue,g===E)){var I=null,Q=null;if(g=g.firstBaseUpdate,g!==null){do{var k={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};Q===null?I=Q=k:Q=Q.next=k,g=g.next}while(g!==null);Q===null?I=Q=A:Q=Q.next=A}else I=Q=A;g={baseState:E.baseState,firstBaseUpdate:I,lastBaseUpdate:Q,shared:E.shared,callbacks:E.callbacks},o.updateQueue=g;return}o=g.lastBaseUpdate,o===null?g.firstBaseUpdate=A:o.next=A,g.lastBaseUpdate=A}function Wn(){if(No){var o=Go;if(o!==null)throw o}}function yn(o,A,g,E){No=!1;var I=o.updateQueue;nr=!1;var Q=I.firstBaseUpdate,k=I.lastBaseUpdate,Y=I.shared.pending;if(Y!==null){I.shared.pending=null;var et=Y,dt=et.next;et.next=null,k===null?Q=dt:k.next=dt,k=et;var Tt=o.alternate;Tt!==null&&(Tt=Tt.updateQueue,Y=Tt.lastBaseUpdate,Y!==k&&(Y===null?Tt.firstBaseUpdate=dt:Y.next=dt,Tt.lastBaseUpdate=et))}if(Q!==null){var Mt=I.baseState;k=0,Tt=dt=et=null,Y=Q;do{var Nt=Y.lane&-536870913,re=Nt!==Y.lane;if(re?(ye&Nt)===Nt:(E&Nt)===Nt){Nt!==0&&Nt===ra&&(No=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});t:{var fa=o,Zr=Y;Nt=A;var $r=g;switch(Zr.tag){case 1:if(fa=Zr.payload,typeof fa=="function"){Mt=fa.call($r,Mt,Nt);break t}Mt=fa;break t;case 3:fa.flags=fa.flags&-65537|128;case 0:if(fa=Zr.payload,Nt=typeof fa=="function"?fa.call($r,Mt,Nt):fa,Nt==null)break t;Mt=zu({},Mt,Nt);break t;case 2:nr=!0}}Nt=Y.callback,Nt!==null&&(o.flags|=64,re&&(o.flags|=8192),re=I.callbacks,re===null?I.callbacks=[Nt]:re.push(Nt))}else re={lane:Nt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Tt===null?(dt=Tt=re,et=Mt):Tt=Tt.next=re,k|=Nt;if(Y=Y.next,Y===null){if(Y=I.shared.pending,Y===null)break;re=Y,Y=re.next,re.next=null,I.lastBaseUpdate=re,I.shared.pending=null}}while(!0);Tt===null&&(et=Mt),I.baseState=et,I.firstBaseUpdate=dt,I.lastBaseUpdate=Tt,Q===null&&(I.shared.lanes=0),ha|=k,o.lanes=k,o.memoizedState=Mt}}function go(o,A){if(typeof o!="function")throw Error(s(191,o));o.call(A)}function Ea(o,A){var g=o.callbacks;if(g!==null)for(o.callbacks=null,o=0;o<g.length;o++)go(g[o],A)}function ss(o,A){if(Xn(o,A))return!0;if(typeof o!="object"||o===null||typeof A!="object"||A===null)return!1;var g=Object.keys(o),E=Object.keys(A);if(g.length!==E.length)return!1;for(E=0;E<g.length;E++){var I=g[E];if(!ms.call(A,I)||!Xn(o[I],A[I]))return!1}return!0}function pr(o){return o=o.status,o==="fulfilled"||o==="rejected"}function el(){}function po(o,A,g){switch(g=o[g],g===void 0?o.push(A):g!==A&&(A.then(el,el),A=g),A.status){case"fulfilled":return A.value;case"rejected":throw o=A.reason,o===kl?Error(s(483)):o;default:if(typeof A.status=="string")A.then(el,el);else{if(o=we,o!==null&&100<o.shellSuspendCounter)throw Error(s(482));o=A,o.status="pending",o.then(function(E){if(A.status==="pending"){var I=A;I.status="fulfilled",I.value=E}},function(E){if(A.status==="pending"){var I=A;I.status="rejected",I.reason=E}})}switch(A.status){case"fulfilled":return A.value;case"rejected":throw o=A.reason,o===kl?Error(s(483)):o}throw Yr=A,kl}}function dA(){if(Yr===null)throw Error(s(459));var o=Yr;return Yr=null,o}function mr(o){var A=jr;return jr+=1,Kr===null&&(Kr=[]),po(Kr,o,A)}function Ns(o,A){A=A.props.ref,o.ref=A!==void 0?A:null}function Bn(o,A){throw A.$$typeof===Dp?Error(s(525)):(o=Object.prototype.toString.call(A),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":o)))}function Cu(o){var A=o._init;return A(o._payload)}function ka(o){function A(st,X){if(o){var lt=st.deletions;lt===null?(st.deletions=[X],st.flags|=16):lt.push(X)}}function g(st,X){if(!o)return null;for(;X!==null;)A(st,X),X=X.sibling;return null}function E(st){for(var X=new Map;st!==null;)st.key!==null?X.set(st.key,st):X.set(st.index,st),st=st.sibling;return X}function I(st,X){return st=xa(st,X),st.index=0,st.sibling=null,st}function Q(st,X,lt){return st.index=lt,o?(lt=st.alternate,lt!==null?(lt=lt.index,lt<X?(st.flags|=33554434,X):lt):(st.flags|=33554434,X)):(st.flags|=1048576,X)}function k(st){return o&&st.alternate===null&&(st.flags|=33554434),st}function Y(st,X,lt,Qt){return X===null||X.tag!==6?(X=Fu(lt,st.mode,Qt),X.return=st,X):(X=I(X,lt),X.return=st,X)}function et(st,X,lt,Qt){var Ft=lt.type;return Ft===Ur?Tt(st,X,lt.props.children,Qt,lt.key):X!==null&&(X.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===va&&Cu(Ft)===X.type)?(X=I(X,lt.props),Ns(X,lt),X.return=st,X):(X=hs(lt.type,lt.key,lt.props,null,st.mode,Qt),Ns(X,lt),X.return=st,X)}function dt(st,X,lt,Qt){return X===null||X.tag!==4||X.stateNode.containerInfo!==lt.containerInfo||X.stateNode.implementation!==lt.implementation?(X=Th(lt,st.mode,Qt),X.return=st,X):(X=I(X,lt.children||[]),X.return=st,X)}function Tt(st,X,lt,Qt,Ft){return X===null||X.tag!==7?(X=hi(lt,st.mode,Qt,Ft),X.return=st,X):(X=I(X,lt),X.return=st,X)}function Mt(st,X,lt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Fu(""+X,st.mode,lt),X.return=st,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case LA:return lt=hs(X.type,X.key,X.props,null,st.mode,lt),Ns(lt,X),lt.return=st,lt;case Qa:return X=Th(X,st.mode,lt),X.return=st,X;case va:var Qt=X._init;return X=Qt(X._payload),Mt(st,X,lt)}if(bl(X)||l(X))return X=hi(X,st.mode,lt,null),X.return=st,X;if(typeof X.then=="function")return Mt(st,mr(X),lt);if(X.$$typeof===Ya)return Mt(st,QA(st,X),lt);Bn(st,X)}return null}function Nt(st,X,lt,Qt){var Ft=X!==null?X.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Ft!==null?null:Y(st,X,""+lt,Qt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case LA:return lt.key===Ft?et(st,X,lt,Qt):null;case Qa:return lt.key===Ft?dt(st,X,lt,Qt):null;case va:return Ft=lt._init,lt=Ft(lt._payload),Nt(st,X,lt,Qt)}if(bl(lt)||l(lt))return Ft!==null?null:Tt(st,X,lt,Qt,null);if(typeof lt.then=="function")return Nt(st,X,mr(lt),Qt);if(lt.$$typeof===Ya)return Nt(st,X,QA(st,lt),Qt);Bn(st,lt)}return null}function re(st,X,lt,Qt,Ft){if(typeof Qt=="string"&&Qt!==""||typeof Qt=="number"||typeof Qt=="bigint")return st=st.get(lt)||null,Y(X,st,""+Qt,Ft);if(typeof Qt=="object"&&Qt!==null){switch(Qt.$$typeof){case LA:return st=st.get(Qt.key===null?lt:Qt.key)||null,et(X,st,Qt,Ft);case Qa:return st=st.get(Qt.key===null?lt:Qt.key)||null,dt(X,st,Qt,Ft);case va:var ei=Qt._init;return Qt=ei(Qt._payload),re(st,X,lt,Qt,Ft)}if(bl(Qt)||l(Qt))return st=st.get(lt)||null,Tt(X,st,Qt,Ft,null);if(typeof Qt.then=="function")return re(st,X,lt,mr(Qt),Ft);if(Qt.$$typeof===Ya)return re(st,X,lt,QA(X,Qt),Ft);Bn(X,Qt)}return null}function fa(st,X,lt,Qt){for(var Ft=null,ei=null,ee=X,Se=X=0,Bi=null;ee!==null&&Se<lt.length;Se++){ee.index>Se?(Bi=ee,ee=null):Bi=ee.sibling;var me=Nt(st,ee,lt[Se],Qt);if(me===null){ee===null&&(ee=Bi);break}o&&ee&&me.alternate===null&&A(st,ee),X=Q(me,X,Se),ei===null?Ft=me:ei.sibling=me,ei=me,ee=Bi}if(Se===lt.length)return g(st,ee),Ie&&H(st,Se),Ft;if(ee===null){for(;Se<lt.length;Se++)ee=Mt(st,lt[Se],Qt),ee!==null&&(X=Q(ee,X,Se),ei===null?Ft=ee:ei.sibling=ee,ei=ee);return Ie&&H(st,Se),Ft}for(ee=E(ee);Se<lt.length;Se++)Bi=re(ee,st,Se,lt[Se],Qt),Bi!==null&&(o&&Bi.alternate!==null&&ee.delete(Bi.key===null?Se:Bi.key),X=Q(Bi,X,Se),ei===null?Ft=Bi:ei.sibling=Bi,ei=Bi);return o&&ee.forEach(function(Qs){return A(st,Qs)}),Ie&&H(st,Se),Ft}function Zr(st,X,lt,Qt){if(lt==null)throw Error(s(151));for(var Ft=null,ei=null,ee=X,Se=X=0,Bi=null,me=lt.next();ee!==null&&!me.done;Se++,me=lt.next()){ee.index>Se?(Bi=ee,ee=null):Bi=ee.sibling;var Qs=Nt(st,ee,me.value,Qt);if(Qs===null){ee===null&&(ee=Bi);break}o&&ee&&Qs.alternate===null&&A(st,ee),X=Q(Qs,X,Se),ei===null?Ft=Qs:ei.sibling=Qs,ei=Qs,ee=Bi}if(me.done)return g(st,ee),Ie&&H(st,Se),Ft;if(ee===null){for(;!me.done;Se++,me=lt.next())me=Mt(st,me.value,Qt),me!==null&&(X=Q(me,X,Se),ei===null?Ft=me:ei.sibling=me,ei=me);return Ie&&H(st,Se),Ft}for(ee=E(ee);!me.done;Se++,me=lt.next())me=re(ee,st,Se,me.value,Qt),me!==null&&(o&&me.alternate!==null&&ee.delete(me.key===null?Se:me.key),X=Q(me,X,Se),ei===null?Ft=me:ei.sibling=me,ei=me);return o&&ee.forEach(function(mc){return A(st,mc)}),Ie&&H(st,Se),Ft}function $r(st,X,lt,Qt){if(typeof lt=="object"&&lt!==null&&lt.type===Ur&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case LA:t:{for(var Ft=lt.key;X!==null;){if(X.key===Ft){if(Ft=lt.type,Ft===Ur){if(X.tag===7){g(st,X.sibling),Qt=I(X,lt.props.children),Qt.return=st,st=Qt;break t}}else if(X.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===va&&Cu(Ft)===X.type){g(st,X.sibling),Qt=I(X,lt.props),Ns(Qt,lt),Qt.return=st,st=Qt;break t}g(st,X);break}else A(st,X);X=X.sibling}lt.type===Ur?(Qt=hi(lt.props.children,st.mode,Qt,lt.key),Qt.return=st,st=Qt):(Qt=hs(lt.type,lt.key,lt.props,null,st.mode,Qt),Ns(Qt,lt),Qt.return=st,st=Qt)}return k(st);case Qa:t:{for(Ft=lt.key;X!==null;){if(X.key===Ft)if(X.tag===4&&X.stateNode.containerInfo===lt.containerInfo&&X.stateNode.implementation===lt.implementation){g(st,X.sibling),Qt=I(X,lt.children||[]),Qt.return=st,st=Qt;break t}else{g(st,X);break}else A(st,X);X=X.sibling}Qt=Th(lt,st.mode,Qt),Qt.return=st,st=Qt}return k(st);case va:return Ft=lt._init,lt=Ft(lt._payload),$r(st,X,lt,Qt)}if(bl(lt))return fa(st,X,lt,Qt);if(l(lt)){if(Ft=l(lt),typeof Ft!="function")throw Error(s(150));return lt=Ft.call(lt),Zr(st,X,lt,Qt)}if(typeof lt.then=="function")return $r(st,X,mr(lt),Qt);if(lt.$$typeof===Ya)return $r(st,X,QA(st,lt),Qt);Bn(st,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,X!==null&&X.tag===6?(g(st,X.sibling),Qt=I(X,lt),Qt.return=st,st=Qt):(g(st,X),Qt=Fu(lt,st.mode,Qt),Qt.return=st,st=Qt),k(st)):g(st,X)}return function(st,X,lt,Qt){try{jr=0;var Ft=$r(st,X,lt,Qt);return Kr=null,Ft}catch(ee){if(ee===kl)throw ee;var ei=e(29,ee,null,st.mode);return ei.lanes=Qt,ei.return=st,ei}finally{}}}function Ue(o,A){o=dn,O(Ll,o),O(Xe,A),dn=o|A.baseLanes}function Mi(){O(Ll,dn),O(Xe,Xe.current)}function Zn(){dn=Ll.current,R(Xe),R(Ll)}function Un(o){var A=o.alternate;O(Ni,Ni.current&1),O(oa,o),Fe===null&&(A===null||Xe.current!==null||A.memoizedState!==null)&&(Fe=o)}function il(o){if(o.tag===22){if(O(Ni,Ni.current),O(oa,o),Fe===null){var A=o.alternate;A!==null&&A.memoizedState!==null&&(Fe=o)}}else ya()}function ya(){O(Ni,Ni.current),O(oa,oa.current)}function On(o){R(oa),Fe===o&&(Fe=null),R(Ni)}function rs(o){for(var A=o;A!==null;){if(A.tag===13){var g=A.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Zu(g)||$u(g)))return A}else if(A.tag===19&&A.memoizedProps.revealOrder!==void 0){if((A.flags&128)!==0)return A}else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break;for(;A.sibling===null;){if(A.return===null||A.return===o)return null;A=A.return}A.sibling.return=A.return,A=A.sibling}return null}function Ze(){throw Error(s(321))}function os(o,A){if(A===null)return!1;for(var g=0;g<A.length&&g<o.length;g++)if(!Xn(o[g],A[g]))return!1;return!0}function ls(o,A,g,E,I,Q){return ar=Q,de=A,A.memoizedState=null,A.updateQueue=null,A.lanes=0,te.H=o===null||o.memoizedState===null?qr:Tn,Vr=!1,Q=g(E,I),Vr=!1,Uo&&(Q=Us(A,g,E,I)),Er(o),Q}function Er(o){te.H=di;var A=qt!==null&&qt.next!==null;if(ar=0,Qe=qt=de=null,Da=!1,Oo=0,qi=null,A)throw Error(s(300));o===null||Pe||(o=o.dependencies,o!==null&&xA(o)&&(Pe=!0))}function Us(o,A,g,E){de=o;var I=0;do{if(Uo&&(qi=null),Oo=0,Uo=!1,25<=I)throw Error(s(301));if(I+=1,Qe=qt=null,o.updateQueue!=null){var Q=o.updateQueue;Q.lastEffect=null,Q.events=null,Q.stores=null,Q.memoCache!=null&&(Q.memoCache.index=0)}te.H=la,Q=A(g,E)}while(Uo);return Q}function xi(){var o=te.H,A=o.useState()[0];return A=typeof A.then=="function"?yr(A):A,o=o.useState()[0],(qt!==null?qt.memoizedState:null)!==o&&(de.flags|=1024),A}function nl(){var o=Ac!==0;return Ac=0,o}function al(o,A,g){A.updateQueue=o.updateQueue,A.flags&=-2053,o.lanes&=~g}function Ba(o){if(Da){for(o=o.memoizedState;o!==null;){var A=o.queue;A!==null&&(A.pending=null),o=o.next}Da=!1}ar=0,Qe=qt=de=null,Uo=!1,Oo=Ac=0,qi=null}function ni(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?de.memoizedState=Qe=o:Qe=Qe.next=o,Qe}function ci(){if(qt===null){var o=de.alternate;o=o!==null?o.memoizedState:null}else o=qt.next;var A=Qe===null?de.memoizedState:Qe.next;if(A!==null)Qe=A,qt=o;else{if(o===null)throw de.alternate===null?Error(s(467)):Error(s(310));qt=o,o={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Qe===null?de.memoizedState=Qe=o:Qe=Qe.next=o}return Qe}function yr(o){var A=Oo;return Oo+=1,qi===null&&(qi=[]),o=po(qi,o,A),A=de,(Qe===null?A.memoizedState:Qe.next)===null&&(A=A.alternate,te.H=A===null||A.memoizedState===null?qr:Tn),o}function Br(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return yr(o);if(o.$$typeof===Ya)return $i(o)}throw Error(s(438,String(o)))}function fA(o){var A=null,g=de.updateQueue;if(g!==null&&(A=g.memoCache),A==null){var E=de.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(A={data:E.data.map(function(I){return I.slice()}),index:0})))}if(A==null&&(A={data:[],index:0}),g===null&&(g=uc(),de.updateQueue=g),g.memoCache=A,g=A.data[A.index],g===void 0)for(g=A.data[A.index]=Array(o),E=0;E<o;E++)g[E]=_f;return A.index++,g}function Cn(o,A){return typeof A=="function"?A(o):A}function Ca(o){var A=ci();return $n(A,qt,o)}function $n(o,A,g){var E=o.queue;if(E===null)throw Error(s(311));E.lastRenderedReducer=g;var I=o.baseQueue,Q=E.pending;if(Q!==null){if(I!==null){var k=I.next;I.next=Q.next,Q.next=k}A.baseQueue=I=Q,E.pending=null}if(Q=o.baseState,I===null)o.memoizedState=Q;else{A=I.next;var Y=k=null,et=null,dt=A,Tt=!1;do{var Mt=dt.lane&-536870913;if(Mt!==dt.lane?(ye&Mt)===Mt:(ar&Mt)===Mt){var Nt=dt.revertLane;if(Nt===0)et!==null&&(et=et.next={lane:0,revertLane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),Mt===ra&&(Tt=!0);else if((ar&Nt)===Nt){dt=dt.next,Nt===ra&&(Tt=!0);continue}else Mt={lane:0,revertLane:dt.revertLane,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},et===null?(Y=et=Mt,k=Q):et=et.next=Mt,de.lanes|=Nt,ha|=Nt;Mt=dt.action,Vr&&g(Q,Mt),Q=dt.hasEagerState?dt.eagerState:g(Q,Mt)}else Nt={lane:Mt,revertLane:dt.revertLane,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},et===null?(Y=et=Nt,k=Q):et=et.next=Nt,de.lanes|=Mt,ha|=Mt;dt=dt.next}while(dt!==null&&dt!==A);if(et===null?k=Q:et.next=Y,!Xn(Q,o.memoizedState)&&(Pe=!0,Tt&&(g=Go,g!==null)))throw g;o.memoizedState=Q,o.baseState=k,o.baseQueue=et,E.lastRenderedState=Q}return I===null&&(E.lanes=0),[o.memoizedState,E.dispatch]}function mo(o){var A=ci(),g=A.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=o;var E=g.dispatch,I=g.pending,Q=A.memoizedState;if(I!==null){g.pending=null;var k=I=I.next;do Q=o(Q,k.action),k=k.next;while(k!==I);Xn(Q,A.memoizedState)||(Pe=!0),A.memoizedState=Q,A.baseQueue===null&&(A.baseState=Q),g.lastRenderedState=Q}return[Q,E]}function sl(o,A,g){var E=de,I=ci(),Q=Ie;if(Q){if(g===void 0)throw Error(s(407));g=g()}else g=A();var k=!Xn((qt||I).memoizedState,g);if(k&&(I.memoizedState=g,Pe=!0),I=I.queue,rl(Os.bind(null,E,I,o),[o]),I.getSnapshot!==A||k||Qe!==null&&Qe.memoizedState.tag&1){if(E.flags|=2048,$e(9,Hn.bind(null,E,I,g,A),{destroy:void 0},null),we===null)throw Error(s(349));Q||(ar&60)!==0||La(E,A,g)}return g}function La(o,A,g){o.flags|=16384,o={getSnapshot:A,value:g},A=de.updateQueue,A===null?(A=uc(),de.updateQueue=A,A.stores=[o]):(g=A.stores,g===null?A.stores=[o]:g.push(o))}function Hn(o,A,g,E){A.value=g,A.getSnapshot=E,gA(A)&&M(o)}function Os(o,A,g){return g(function(){gA(A)&&M(o)})}function gA(o){var A=o.getSnapshot;o=o.value;try{var g=A();return!Xn(o,g)}catch{return!0}}function M(o){var A=ii(o,2);A!==null&&ji(A,o,2)}function G(o){var A=ni();if(typeof o=="function"){var g=o;if(o=g(),Vr){Z(!0);try{g()}finally{Z(!1)}}}return A.memoizedState=A.baseState=o,A.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:o},A}function K(o,A,g,E){return o.baseState=g,$n(o,qt,typeof E=="function"?E:Cn)}function W(o,A,g,E,I){if(yA(o))throw Error(s(485));if(o=A.action,o!==null){var Q={payload:I,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){Q.listeners.push(k)}};te.T!==null?g(!0):Q.isTransition=!1,E(Q),g=A.pending,g===null?(Q.next=A.pending=Q,it(A,Q)):(Q.next=g.next,A.pending=g.next=Q)}}function it(o,A){var g=A.action,E=A.payload,I=o.state;if(A.isTransition){var Q=te.T,k={};te.T=k;try{var Y=g(I,E),et=te.S;et!==null&&et(k,Y),ct(o,A,Y)}catch(dt){_t(o,A,dt)}finally{te.T=Q}}else try{Q=g(I,E),ct(o,A,Q)}catch(dt){_t(o,A,dt)}}function ct(o,A,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(E){Ct(o,A,E)},function(E){return _t(o,A,E)}):Ct(o,A,g)}function Ct(o,A,g){A.status="fulfilled",A.value=g,xt(A),o.state=g,A=o.pending,A!==null&&(g=A.next,g===A?o.pending=null:(g=g.next,A.next=g,it(o,g)))}function _t(o,A,g){var E=o.pending;if(o.pending=null,E!==null){E=E.next;do A.status="rejected",A.reason=g,xt(A),A=A.next;while(A!==E)}o.action=null}function xt(o){o=o.listeners;for(var A=0;A<o.length;A++)(0,o[A])()}function vt(o,A){return A}function wt(o,A){if(Ie){var g=we.formState;if(g!==null){t:{var E=de;if(Ie){if(rn){var I=jh(rn,Vi);if(I){rn=Xh(I),E=Kf(I);break t}}oe(E)}E=!1}E&&(A=g[0])}}g=ni(),g.memoizedState=g.baseState=A,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vt,lastRenderedState:A},g.queue=E,g=ah.bind(null,de,E),E.dispatch=g,E=G(!1);var Q=Al.bind(null,de,!1,E.queue);return E=ni(),I={state:A,dispatch:null,action:o,pending:null},E.queue=I,g=W.bind(null,de,I,Q,g),I.dispatch=g,E.memoizedState=o,[A,g,!1]}function Pt(o){var A=ci();return he(A,qt,o)}function he(o,A,g){A=$n(o,A,vt)[0],o=Ca(Cn)[0],A=typeof A=="object"&&A!==null&&typeof A.then=="function"?yr(A):A;var E=ci(),I=E.queue,Q=I.dispatch;return g!==E.memoizedState&&(de.flags|=2048,$e(9,ri.bind(null,I,g),{destroy:void 0},null)),[A,Q,o]}function ri(o,A){o.action=A}function xe(o){var A=ci(),g=qt;if(g!==null)return he(A,g,o);ci(),A=A.memoizedState,g=ci();var E=g.queue.dispatch;return g.memoizedState=o,[A,E,!1]}function $e(o,A,g,E){return o={tag:o,create:A,inst:g,deps:E,next:null},A=de.updateQueue,A===null&&(A=uc(),de.updateQueue=A),g=A.lastEffect,g===null?A.lastEffect=o.next=o:(E=g.next,g.next=o,o.next=E,A.lastEffect=o),o}function kn(){return ci().memoizedState}function Fa(o,A,g,E){var I=ni();de.flags|=o,I.memoizedState=$e(1|A,g,{destroy:void 0},E===void 0?null:E)}function In(o,A,g,E){var I=ci();E=E===void 0?null:E;var Q=I.memoizedState.inst;qt!==null&&E!==null&&os(E,qt.memoizedState.deps)?I.memoizedState=$e(A,g,Q,E):(de.flags|=o,I.memoizedState=$e(1|A,g,Q,E))}function Eo(o,A){Fa(8390656,8,o,A)}function rl(o,A){In(2048,8,o,A)}function tf(o,A){return In(4,2,o,A)}function pA(o,A){return In(4,4,o,A)}function Iu(o,A){if(typeof A=="function"){o=o();var g=A(o);return function(){typeof g=="function"?g():A(null)}}if(A!=null)return o=o(),A.current=o,function(){A.current=null}}function _u(o,A,g){g=g!=null?g.concat([o]):null,In(4,4,Iu.bind(null,A,o),g)}function Cr(){}function yo(o,A){var g=ci();A=A===void 0?null:A;var E=g.memoizedState;return A!==null&&os(A,E[1])?E[0]:(g.memoizedState=[o,A],o)}function eh(o,A){var g=ci();A=A===void 0?null:A;var E=g.memoizedState;if(A!==null&&os(A,E[1]))return E[0];if(E=o(),Vr){Z(!0);try{o()}finally{Z(!1)}}return g.memoizedState=[E,A],E}function mA(o,A,g){return g===void 0||(ar&1073741824)!==0?o.memoizedState=A:(o.memoizedState=g,o=_h(),de.lanes|=o,ha|=o,g)}function ih(o,A,g,E){return Xn(g,A)?g:Xe.current!==null?(o=mA(o,g,E),Xn(o,A)||(Pe=!0),o):(ar&42)===0?(Pe=!0,o.memoizedState=g):(o=_h(),de.lanes|=o,ha|=o,A)}function ol(o,A,g,E,I){var Q=$s();cn(Q!==0&&8>Q?Q:8);var k=te.T,Y={};te.T=Y,Al(o,!1,A,g);try{var et=I(),dt=te.S;if(dt!==null&&dt(Y,et),et!==null&&typeof et=="object"&&typeof et.then=="function"){var Tt=fr(et,E);Ir(o,A,Tt,pi(o))}else Ir(o,A,E,pi(o))}catch(Mt){Ir(o,A,{then:function(){},status:"rejected",reason:Mt},pi())}finally{cn(Q),te.T=k}}function As(o){var A=o.memoizedState;if(A!==null)return A;A={memoizedState:Hr,baseState:Hr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:Hr},next:null};var g={};return A.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:g},next:null},o.memoizedState=A,o=o.alternate,o!==null&&(o.memoizedState=A),A}function EA(){return $i(Ka)}function ll(){return ci().memoizedState}function Hs(){return ci().memoizedState}function nh(o){for(var A=o.return;A!==null;){switch(A.tag){case 24:case 3:var g=pi();o=Wi(g);var E=Yi(A,o,g);E!==null&&(ji(E,A,g),An(E,A,g)),A={cache:vr()},o.payload=A;return}A=A.return}}function xu(o,A,g){var E=pi();g={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},yA(o)?_n(A,g):(g=mn(o,A,g,E),g!==null&&(ji(g,o,E),_r(g,A,E)))}function ah(o,A,g){var E=pi();Ir(o,A,g,E)}function Ir(o,A,g,E){var I={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(yA(o))_n(A,I);else{var Q=o.alternate;if(o.lanes===0&&(Q===null||Q.lanes===0)&&(Q=A.lastRenderedReducer,Q!==null))try{var k=A.lastRenderedState,Y=Q(k,g);if(I.hasEagerState=!0,I.eagerState=Y,Xn(Y,k))return Pi(o,A,I,0),we===null&&_i(),!1}catch{}finally{}if(g=mn(o,A,I,E),g!==null)return ji(g,o,E),_r(g,A,E),!0}return!1}function Al(o,A,g,E){if(E={lane:2,revertLane:zi(),action:E,hasEagerState:!1,eagerState:null,next:null},yA(o)){if(A)throw Error(s(479))}else A=mn(o,g,E,2),A!==null&&ji(A,o,2)}function yA(o){var A=o.alternate;return o===de||A!==null&&A===de}function _n(o,A){Uo=Da=!0;var g=o.pending;g===null?A.next=A:(A.next=g.next,g.next=A),o.pending=A}function _r(o,A,g){if((g&4194176)!==0){var E=A.lanes;E&=o.pendingLanes,g|=E,A.lanes=g,Rt(o,g)}}function ul(o,A,g,E){A=o.memoizedState,g=g(E,A),g=g==null?A:zu({},A,g),o.memoizedState=g,o.lanes===0&&(o.updateQueue.baseState=g)}function cl(o,A,g,E,I,Q,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(E,Q,k):A.prototype&&A.prototype.isPureReactComponent?!ss(g,E)||!ss(I,Q):!0}function ef(o,A,g,E){o=A.state,typeof A.componentWillReceiveProps=="function"&&A.componentWillReceiveProps(g,E),typeof A.UNSAFE_componentWillReceiveProps=="function"&&A.UNSAFE_componentWillReceiveProps(g,E),A.state!==o&&ys.enqueueReplaceState(A,A.state,null)}function ks(o,A){var g=A;if("ref"in A){g={};for(var E in A)E!=="ref"&&(g[E]=A[E])}if(o=o.defaultProps){g===A&&(g=zu({},g));for(var I in o)g[I]===void 0&&(g[I]=o[I])}return g}function hl(o,A){try{var g=o.onUncaughtError;g(A.value,{componentStack:A.stack})}catch(E){setTimeout(function(){throw E})}}function dl(o,A,g){try{var E=o.onCaughtError;E(g.value,{componentStack:g.stack,errorBoundary:A.tag===1?A.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function fl(o,A,g){return g=Wi(g),g.tag=3,g.payload={element:null},g.callback=function(){hl(o,A)},g}function sh(o){return o=Wi(o),o.tag=3,o}function nf(o,A,g,E){var I=g.type.getDerivedStateFromError;if(typeof I=="function"){var Q=E.value;o.payload=function(){return I(Q)},o.callback=function(){dl(A,g,E)}}var k=g.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(o.callback=function(){dl(A,g,E),typeof I!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var Y=E.stack;this.componentDidCatch(E.value,{componentStack:Y!==null?Y:""})})}function bp(o,A,g,E,I){if(g.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(A=g.alternate,A!==null&&_A(A,g,I,!0),g=oa.current,g!==null){switch(g.tag){case 13:return Fe===null?Xs():g.alternate===null&&ze===0&&(ze=3),g.flags&=-257,g.flags|=65536,g.lanes=I,E===eu?g.flags|=16384:(A=g.updateQueue,A===null?g.updateQueue=new Set([E]):A.add(E),Io(o,E,I)),!1;case 22:return g.flags|=65536,E===eu?g.flags|=16384:(A=g.updateQueue,A===null?(A={transitions:null,markerInstances:null,retryQueue:new Set([E])},g.updateQueue=A):(g=A.retryQueue,g===null?A.retryQueue=new Set([E]):g.add(E)),Io(o,E,I)),!1}throw Error(s(435,g.tag))}return Io(o,E,I),Xs(),!1}if(Ie)return A=oa.current,A!==null?((A.flags&65536)===0&&(A.flags|=256),A.flags|=65536,A.lanes=I,E!==ZA&&(o=Error(s(422),{cause:E}),Ke(St(o,g)))):(E!==ZA&&(A=Error(s(423),{cause:E}),Ke(St(A,g))),o=o.current.alternate,o.flags|=65536,I&=-I,o.lanes|=I,E=St(E,g),I=fl(o.stateNode,E,I),En(o,I),ze!==4&&(ze=2)),!1;var Q=Error(s(520),{cause:E});if(Q=St(Q,g),ko===null?ko=[Q]:ko.push(Q),ze!==4&&(ze=2),A===null)return!0;E=St(E,g),g=A;do{switch(g.tag){case 3:return g.flags|=65536,o=I&-I,g.lanes|=o,o=fl(g.stateNode,E,o),En(g,o),!1;case 1:if(A=g.type,Q=g.stateNode,(g.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Jr===null||!Jr.has(Q))))return g.flags|=65536,I&=-I,g.lanes|=I,I=sh(I),nf(I,o,g,E),En(g,I),!1}g=g.return}while(g!==null);return!1}function Zi(o,A,g,E){A.child=o===null?Es(A,null,g,E):Xr(A,o.child,g,E)}function Qu(o,A,g,E,I){g=g.render;var Q=A.ref;if("ref"in E){var k={};for(var Y in E)Y!=="ref"&&(k[Y]=E[Y])}else k=E;return Qr(A),E=ls(o,A,g,k,Q,I),Y=nl(),o!==null&&!Pe?(al(o,A,I),Ls(o,A,I)):(Ie&&Y&&It(A),A.flags|=1,Zi(o,A,E,I),A.child)}function af(o,A,g,E,I){if(o===null){var Q=g.type;return typeof Q=="function"&&!UA(Q)&&Q.defaultProps===void 0&&g.compare===null?(A.tag=15,A.type=Q,sf(o,A,Q,E,I)):(o=hs(g.type,null,E,A,A.mode,I),o.ref=A.ref,o.return=A,A.child=o)}if(Q=o.child,!uh(o,I)){var k=Q.memoizedProps;if(g=g.compare,g=g!==null?g:ss,g(k,E)&&o.ref===A.ref)return Ls(o,A,I)}return A.flags|=1,o=xa(Q,E),o.ref=A.ref,o.return=A,A.child=o}function sf(o,A,g,E,I){if(o!==null){var Q=o.memoizedProps;if(ss(Q,E)&&o.ref===A.ref)if(Pe=!1,A.pendingProps=E=Q,uh(o,I))(o.flags&131072)!==0&&(Pe=!0);else return A.lanes=o.lanes,Ls(o,A,I)}return vu(o,A,g,E,I)}function rf(o,A,g){var E=A.pendingProps,I=E.children,Q=(A.stateNode._pendingVisibility&2)!==0,k=o!==null?o.memoizedState:null;if(BA(o,A),E.mode==="hidden"||Q){if((A.flags&128)!==0){if(E=k!==null?k.baseLanes|g:g,o!==null){for(I=A.child=o.child,Q=0;I!==null;)Q=Q|I.lanes|I.childLanes,I=I.sibling;A.childLanes=Q&~E}else A.childLanes=0,A.child=null;return of(o,A,E,g)}if((g&536870912)!==0)A.memoizedState={baseLanes:0,cachePool:null},o!==null&&Su(A,k!==null?k.cachePool:null),k!==null?Ue(A,k):Mi(),il(A);else return A.lanes=A.childLanes=536870912,of(o,A,k!==null?k.baseLanes|g:g,g)}else k!==null?(Su(A,k.cachePool),Ue(A,k),ya(),A.memoizedState=null):(o!==null&&Su(A,null),Mi(),ya());return Zi(o,A,I,g),A.child}function of(o,A,g,E){var I=hh();return I=I===null?null:{parent:vn?Ve._currentValue:Ve._currentValue2,pool:I},A.memoizedState={baseLanes:g,cachePool:I},o!==null&&Su(A,null),Mi(),il(A),o!==null&&_A(o,A,E,!0),null}function BA(o,A){var g=A.ref;if(g===null)o!==null&&o.ref!==null&&(A.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(s(284));(o===null||o.ref!==g)&&(A.flags|=2097664)}}function vu(o,A,g,E,I){return Qr(A),g=ls(o,A,g,E,void 0,I),E=nl(),o!==null&&!Pe?(al(o,A,I),Ls(o,A,I)):(Ie&&E&&It(A),A.flags|=1,Zi(o,A,g,I),A.child)}function lf(o,A,g,E,I,Q){return Qr(A),A.updateQueue=null,g=Us(A,E,g,I),Er(o),E=nl(),o!==null&&!Pe?(al(o,A,Q),Ls(o,A,Q)):(Ie&&E&&It(A),A.flags|=1,Zi(o,A,g,Q),A.child)}function Af(o,A,g,E,I){if(Qr(A),A.stateNode===null){var Q=Pr,k=g.contextType;typeof k=="object"&&k!==null&&(Q=$i(k)),Q=new g(E,Q),A.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Q.updater=ys,A.stateNode=Q,Q._reactInternals=A,Q=A.stateNode,Q.props=E,Q.state=A.memoizedState,Q.refs={},gr(A),k=g.contextType,Q.context=typeof k=="object"&&k!==null?$i(k):Pr,Q.state=A.memoizedState,k=g.getDerivedStateFromProps,typeof k=="function"&&(ul(A,g,k,E),Q.state=A.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(k=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),k!==Q.state&&ys.enqueueReplaceState(Q,Q.state,null),yn(A,E,Q,I),Wn(),Q.state=A.memoizedState),typeof Q.componentDidMount=="function"&&(A.flags|=4194308),E=!0}else if(o===null){Q=A.stateNode;var Y=A.memoizedProps,et=ks(g,Y);Q.props=et;var dt=Q.context,Tt=g.contextType;k=Pr,typeof Tt=="object"&&Tt!==null&&(k=$i(Tt));var Mt=g.getDerivedStateFromProps;Tt=typeof Mt=="function"||typeof Q.getSnapshotBeforeUpdate=="function",Y=A.pendingProps!==Y,Tt||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(Y||dt!==k)&&ef(A,Q,E,k),nr=!1;var Nt=A.memoizedState;Q.state=Nt,yn(A,E,Q,I),Wn(),dt=A.memoizedState,Y||Nt!==dt||nr?(typeof Mt=="function"&&(ul(A,g,Mt,E),dt=A.memoizedState),(et=nr||cl(A,g,et,E,Nt,dt,k))?(Tt||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(A.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(A.flags|=4194308),A.memoizedProps=E,A.memoizedState=dt),Q.props=E,Q.state=dt,Q.context=k,E=et):(typeof Q.componentDidMount=="function"&&(A.flags|=4194308),E=!1)}else{Q=A.stateNode,fo(o,A),k=A.memoizedProps,Tt=ks(g,k),Q.props=Tt,Mt=A.pendingProps,Nt=Q.context,dt=g.contextType,et=Pr,typeof dt=="object"&&dt!==null&&(et=$i(dt)),Y=g.getDerivedStateFromProps,(dt=typeof Y=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(k!==Mt||Nt!==et)&&ef(A,Q,E,et),nr=!1,Nt=A.memoizedState,Q.state=Nt,yn(A,E,Q,I),Wn();var re=A.memoizedState;k!==Mt||Nt!==re||nr||o!==null&&o.dependencies!==null&&xA(o.dependencies)?(typeof Y=="function"&&(ul(A,g,Y,E),re=A.memoizedState),(Tt=nr||cl(A,g,Tt,E,Nt,re,et)||o!==null&&o.dependencies!==null&&xA(o.dependencies))?(dt||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(E,re,et),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(E,re,et)),typeof Q.componentDidUpdate=="function"&&(A.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(A.flags|=1024)):(typeof Q.componentDidUpdate!="function"||k===o.memoizedProps&&Nt===o.memoizedState||(A.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&Nt===o.memoizedState||(A.flags|=1024),A.memoizedProps=E,A.memoizedState=re),Q.props=E,Q.state=re,Q.context=et,E=Tt):(typeof Q.componentDidUpdate!="function"||k===o.memoizedProps&&Nt===o.memoizedState||(A.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&Nt===o.memoizedState||(A.flags|=1024),E=!1)}return Q=E,BA(o,A),E=(A.flags&128)!==0,Q||E?(Q=A.stateNode,g=E&&typeof g.getDerivedStateFromError!="function"?null:Q.render(),A.flags|=1,o!==null&&E?(A.child=Xr(A,o.child,null,I),A.child=Xr(A,null,g,I)):Zi(o,A,g,I),A.memoizedState=Q.state,o=A.child):o=Ls(o,A,I),o}function uf(o,A,g,E){return pe(),A.flags|=256,Zi(o,A,g,E),A.child}function rh(o){return{baseLanes:o,cachePool:dh()}}function CA(o,A,g){return o=o!==null?o.childLanes&~g:0,A&&(o|=da),o}function cf(o,A,g){var E=A.pendingProps,I=!1,Q=(A.flags&128)!==0,k;if((k=Q)||(k=o!==null&&o.memoizedState===null?!1:(Ni.current&2)!==0),k&&(I=!0,A.flags&=-129),k=(A.flags&32)!==0,A.flags&=-33,o===null){if(Ie){if(I?Un(A):ya(),Ie){var Y=rn,et;(et=Y)&&(Y=Vf(Y,Vi),Y!==null?(A.memoizedState={dehydrated:Y,treeContext:zr!==null?{id:Xa,overflow:Va}:null,retryLane:536870912},et=e(18,null,null,0),et.stateNode=Y,et.return=A,A.child=et,sn=A,rn=null,et=!0):et=!1),et||oe(A)}if(Y=A.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return $u(Y)?A.lanes=16:A.lanes=536870912,null;On(A)}return Y=E.children,E=E.fallback,I?(ya(),I=A.mode,Y=lh({mode:"hidden",children:Y},I),E=hi(E,I,g,null),Y.return=A,E.return=A,Y.sibling=E,A.child=Y,I=A.child,I.memoizedState=rh(g),I.childLanes=CA(o,k,g),A.memoizedState=dc,E):(Un(A),oh(A,Y))}if(et=o.memoizedState,et!==null&&(Y=et.dehydrated,Y!==null)){if(Q)A.flags&256?(Un(A),A.flags&=-257,A=bu(o,A,g)):A.memoizedState!==null?(ya(),A.child=o.child,A.flags|=128,A=null):(ya(),I=E.fallback,Y=A.mode,E=lh({mode:"visible",children:E.children},Y),I=hi(I,Y,g,null),I.flags|=2,E.return=A,I.return=A,E.sibling=I,A.child=E,Xr(A,o.child,null,g),E=A.child,E.memoizedState=rh(g),E.childLanes=CA(o,k,g),A.memoizedState=dc,A=I);else if(Un(A),$u(Y))k=zf(Y).digest,E=Error(s(419)),E.stack="",E.digest=k,Ke({value:E,source:null,stack:null}),A=bu(o,A,g);else if(Pe||_A(o,A,g,!1),k=(g&o.childLanes)!==0,Pe||k){if(k=we,k!==null){if(E=g&-g,(E&42)!==0)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=(E&(k.suspendedLanes|g))!==0?0:E,E!==0&&E!==et.retryLane)throw et.retryLane=E,ii(o,E),ji(k,o,E),hc}Zu(Y)||Xs(),A=bu(o,A,g)}else Zu(Y)?(A.flags|=128,A.child=o.child,A=Vs.bind(null,o),Yf(Y,A),A=null):(o=et.treeContext,an&&(rn=Xf(Y),sn=A,Ie=!0,Ta=null,Vi=!1,o!==null&&(aa[sa++]=Xa,aa[sa++]=Va,aa[sa++]=zr,Xa=o.id,Va=o.overflow,zr=A)),A=oh(A,E.children),A.flags|=4096);return A}return I?(ya(),I=E.fallback,Y=A.mode,et=o.child,Q=et.sibling,E=xa(et,{mode:"hidden",children:E.children}),E.subtreeFlags=et.subtreeFlags&31457280,Q!==null?I=xa(Q,I):(I=hi(I,Y,g,null),I.flags|=2),I.return=A,E.return=A,E.sibling=I,A.child=E,E=I,I=A.child,Y=o.child.memoizedState,Y===null?Y=rh(g):(et=Y.cachePool,et!==null?(Q=vn?Ve._currentValue:Ve._currentValue2,et=et.parent!==Q?{parent:Q,pool:Q}:et):et=dh(),Y={baseLanes:Y.baseLanes|g,cachePool:et}),I.memoizedState=Y,I.childLanes=CA(o,k,g),A.memoizedState=dc,E):(Un(A),g=o.child,o=g.sibling,g=xa(g,{mode:"visible",children:E.children}),g.return=A,g.sibling=null,o!==null&&(k=A.deletions,k===null?(A.deletions=[o],A.flags|=16):k.push(o)),A.child=g,A.memoizedState=null,g)}function oh(o,A){return A=lh({mode:"visible",children:A},o.mode),A.return=o,o.child=A}function lh(o,A){return HA(o,A,0,null)}function bu(o,A,g){return Xr(A,o.child,null,g),o=oh(A,A.pendingProps.children),o.flags|=2,A.memoizedState=null,o}function hf(o,A,g){o.lanes|=A;var E=o.alternate;E!==null&&(E.lanes|=A),IA(o.return,A,g)}function Ah(o,A,g,E,I){var Q=o.memoizedState;Q===null?o.memoizedState={isBackwards:A,rendering:null,renderingStartTime:0,last:E,tail:g,tailMode:I}:(Q.isBackwards=A,Q.rendering=null,Q.renderingStartTime=0,Q.last=E,Q.tail=g,Q.tailMode=I)}function df(o,A,g){var E=A.pendingProps,I=E.revealOrder,Q=E.tail;if(Zi(o,A,E.children,g),E=Ni.current,(E&2)!==0)E=E&1|2,A.flags|=128;else{if(o!==null&&(o.flags&128)!==0)t:for(o=A.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&hf(o,g,A);else if(o.tag===19)hf(o,g,A);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===A)break t;for(;o.sibling===null;){if(o.return===null||o.return===A)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}E&=1}switch(O(Ni,E),I){case"forwards":for(g=A.child,I=null;g!==null;)o=g.alternate,o!==null&&rs(o)===null&&(I=g),g=g.sibling;g=I,g===null?(I=A.child,A.child=null):(I=g.sibling,g.sibling=null),Ah(A,!1,I,g,Q);break;case"backwards":for(g=null,I=A.child,A.child=null;I!==null;){if(o=I.alternate,o!==null&&rs(o)===null){A.child=I;break}o=I.sibling,I.sibling=g,g=I,I=o}Ah(A,!0,g,null,Q);break;case"together":Ah(A,!1,null,null,void 0);break;default:A.memoizedState=null}return A.child}function Ls(o,A,g){if(o!==null&&(A.dependencies=o.dependencies),ha|=A.lanes,(g&A.childLanes)===0)if(o!==null){if(_A(o,A,g,!1),(g&A.childLanes)===0)return null}else return null;if(o!==null&&A.child!==o.child)throw Error(s(153));if(A.child!==null){for(o=A.child,g=xa(o,o.pendingProps),A.child=g,g.return=A;o.sibling!==null;)o=o.sibling,g=g.sibling=xa(o,o.pendingProps),g.return=A;g.sibling=null}return A.child}function uh(o,A){return(o.lanes&A)!==0?!0:(o=o.dependencies,!!(o!==null&&xA(o)))}function Sp(o,A,g){switch(A.tag){case 3:Gt(A,A.stateNode.containerInfo),xr(A,Ve,o.memoizedState.cache),pe();break;case 27:case 5:kt(A);break;case 4:Gt(A,A.stateNode.containerInfo);break;case 10:xr(A,A.type,A.memoizedProps.value);break;case 13:var E=A.memoizedState;if(E!==null)return E.dehydrated!==null?(Un(A),A.flags|=128,null):(g&A.child.childLanes)!==0?cf(o,A,g):(Un(A),o=Ls(o,A,g),o!==null?o.sibling:null);Un(A);break;case 19:var I=(o.flags&128)!==0;if(E=(g&A.childLanes)!==0,E||(_A(o,A,g,!1),E=(g&A.childLanes)!==0),I){if(E)return df(o,A,g);A.flags|=128}if(I=A.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),O(Ni,Ni.current),E)break;return null;case 22:case 23:return A.lanes=0,rf(o,A,g);case 24:xr(A,Ve,o.memoizedState.cache)}return Ls(o,A,g)}function ff(o,A,g){if(o!==null)if(o.memoizedProps!==A.pendingProps)Pe=!0;else{if(!uh(o,g)&&(A.flags&128)===0)return Pe=!1,Sp(o,A,g);Pe=(o.flags&131072)!==0}else Pe=!1,Ie&&(A.flags&1048576)!==0&&ut(A,Nl,A.index);switch(A.lanes=0,A.tag){case 16:t:{o=A.pendingProps;var E=A.elementType,I=E._init;if(E=I(E._payload),A.type=E,typeof E=="function")UA(E)?(o=ks(E,o),A.tag=1,A=Af(null,A,E,o,g)):(A.tag=0,A=vu(null,A,E,o,g));else{if(E!=null){if(I=E.$$typeof,I===zA){A.tag=11,A=Qu(null,A,E,o,g);break t}else if(I===ju){A.tag=14,A=af(null,A,E,o,g);break t}}throw A=c(E)||E,Error(s(306,A,""))}}return A;case 0:return vu(o,A,A.type,A.pendingProps,g);case 1:return E=A.type,I=ks(E,A.pendingProps),Af(o,A,E,I,g);case 3:t:{if(Gt(A,A.stateNode.containerInfo),o===null)throw Error(s(387));var Q=A.pendingProps;I=A.memoizedState,E=I.element,fo(o,A),yn(A,Q,null,g);var k=A.memoizedState;if(Q=k.cache,xr(A,Ve,Q),Q!==I.cache&&Bo(A,[Ve],g,!0),Wn(),Q=k.element,an&&I.isDehydrated)if(I={element:Q,isDehydrated:!1,cache:k.cache},A.updateQueue.baseState=I,A.memoizedState=I,A.flags&256){A=uf(o,A,Q,g);break t}else if(Q!==E){E=St(Error(s(424)),A),Ke(E),A=uf(o,A,Q,g);break t}else for(an&&(rn=jf(A.stateNode.containerInfo),sn=A,Ie=!0,Ta=null,Vi=!0),g=Es(A,null,Q,g),A.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(pe(),Q===E){A=Ls(o,A,g);break t}Zi(o,A,Q,g)}A=A.child}return A;case 26:if(na)return BA(o,A),o===null?(g=Jh(A.type,null,A.pendingProps,null))?A.memoizedState=g:Ie||(A.stateNode=ac(A.type,A.pendingProps,ps.current,A)):A.memoizedState=Jh(A.type,o.memoizedProps,A.pendingProps,o.memoizedState),null;case 27:if(Le)return kt(A),o===null&&Le&&Ie&&(E=A.stateNode=ja(A.type,A.pendingProps,ps.current,Gi.current,!1),sn=A,Vi=!0,rn=tc(E)),E=A.pendingProps.children,o!==null||Ie?Zi(o,A,E,g):A.child=Xr(A,null,E,g),BA(o,A),A.child;case 5:return o===null&&Ie&&(ic(A.type,A.pendingProps,Gi.current),(I=E=rn)&&(E=Np(E,A.type,A.pendingProps,Vi),E!==null?(A.stateNode=E,sn=A,rn=tc(E),Vi=!1,I=!0):I=!1),I||oe(A)),kt(A),I=A.type,Q=A.pendingProps,k=o!==null?o.memoizedProps:null,E=Q.children,Ae(I,Q)?E=null:k!==null&&Ae(I,k)&&(A.flags|=32),A.memoizedState!==null&&(I=ls(o,A,xi,null,null,g),vn?Ka._currentValue=I:Ka._currentValue2=I),BA(o,A),Zi(o,A,E,g),A.child;case 6:return o===null&&Ie&&($f(A.pendingProps,Gi.current),(o=g=rn)&&(g=Vh(g,A.pendingProps,Vi),g!==null?(A.stateNode=g,sn=A,rn=null,o=!0):o=!1),o||oe(A)),null;case 13:return cf(o,A,g);case 4:return Gt(A,A.stateNode.containerInfo),E=A.pendingProps,o===null?A.child=Xr(A,null,E,g):Zi(o,A,E,g),A.child;case 11:return Qu(o,A,A.type,A.pendingProps,g);case 7:return Zi(o,A,A.pendingProps,g),A.child;case 8:return Zi(o,A,A.pendingProps.children,g),A.child;case 12:return Zi(o,A,A.pendingProps.children,g),A.child;case 10:return E=A.pendingProps,xr(A,A.type,E.value),Zi(o,A,E.children,g),A.child;case 9:return I=A.type._context,E=A.pendingProps.children,Qr(A),I=$i(I),E=E(I),A.flags|=1,Zi(o,A,E,g),A.child;case 14:return af(o,A,A.type,A.pendingProps,g);case 15:return sf(o,A,A.type,A.pendingProps,g);case 19:return df(o,A,g);case 22:return rf(o,A,g);case 24:return Qr(A),E=$i(Ve),o===null?(I=hh(),I===null&&(I=we,Q=vr(),I.pooledCache=Q,Q.refCount++,Q!==null&&(I.pooledCacheLanes|=g),I=Q),A.memoizedState={parent:E,cache:I},gr(A),xr(A,Ve,I)):((o.lanes&g)!==0&&(fo(o,A),yn(A,null,null,g),Wn()),I=o.memoizedState,Q=A.memoizedState,I.parent!==E?(I={parent:E,cache:E},A.memoizedState=I,A.lanes===0&&(A.memoizedState=A.updateQueue.baseState=I),xr(A,Ve,E)):(E=Q.cache,xr(A,Ve,E),E!==I.cache&&Bo(A,[Ve],g,!0))),Zi(o,A,A.pendingProps.children,g),A.child;case 29:throw A.pendingProps}throw Error(s(156,A.tag))}function xr(o,A,g){vn?(O(sr,A._currentValue),A._currentValue=g):(O(sr,A._currentValue2),A._currentValue2=g)}function Fs(o){var A=sr.current;vn?o._currentValue=A:o._currentValue2=A,R(sr)}function IA(o,A,g){for(;o!==null;){var E=o.alternate;if((o.childLanes&A)!==A?(o.childLanes|=A,E!==null&&(E.childLanes|=A)):E!==null&&(E.childLanes&A)!==A&&(E.childLanes|=A),o===g)break;o=o.return}}function Bo(o,A,g,E){var I=o.child;for(I!==null&&(I.return=o);I!==null;){var Q=I.dependencies;if(Q!==null){var k=I.child;Q=Q.firstContext;t:for(;Q!==null;){var Y=Q;Q=I;for(var et=0;et<A.length;et++)if(Y.context===A[et]){Q.lanes|=g,Y=Q.alternate,Y!==null&&(Y.lanes|=g),IA(Q.return,g,o),E||(k=null);break t}Q=Y.next}}else if(I.tag===18){if(k=I.return,k===null)throw Error(s(341));k.lanes|=g,Q=k.alternate,Q!==null&&(Q.lanes|=g),IA(k,g,o),k=null}else k=I.child;if(k!==null)k.return=I;else for(k=I;k!==null;){if(k===o){k=null;break}if(I=k.sibling,I!==null){I.return=k.return,k=I;break}k=k.return}I=k}}function _A(o,A,g,E){o=null;for(var I=A,Q=!1;I!==null;){if(!Q){if((I.flags&524288)!==0)Q=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var k=I.alternate;if(k===null)throw Error(s(387));if(k=k.memoizedProps,k!==null){var Y=I.type;Xn(I.pendingProps.value,k.value)||(o!==null?o.push(Y):o=[Y])}}else if(I===Ro.current){if(k=I.alternate,k===null)throw Error(s(387));k.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(o!==null?o.push(Ka):o=[Ka])}I=I.return}o!==null&&Bo(A,o,g,E),A.flags|=262144}function xA(o){for(o=o.firstContext;o!==null;){var A=o.context;if(!Xn(vn?A._currentValue:A._currentValue2,o.memoizedValue))return!0;o=o.next}return!1}function Qr(o){Wa=o,Aa=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function $i(o){return ch(Wa,o)}function QA(o,A){return Wa===null&&Qr(o),ch(o,A)}function ch(o,A){var g=vn?A._currentValue:A._currentValue2;if(A={context:A,memoizedValue:g,next:null},Aa===null){if(o===null)throw Error(s(308));Aa=A,o.dependencies={lanes:0,firstContext:A},o.flags|=524288}else Aa=Aa.next=A;return g}function vr(){return{controller:new Fl,data:new Map,refCount:0}}function vA(o){o.refCount--,o.refCount===0&&ug(cg,function(){o.controller.abort()})}function hh(){var o=Bs.current;return o!==null?o:we.pooledCache}function Su(o,A){A===null?O(Bs,Bs.current):O(Bs,A.pool)}function dh(){var o=hh();return o===null?null:{parent:vn?Ve._currentValue:Ve._currentValue2,pool:o}}function Ln(o){o.flags|=4}function gl(o,A){if(o!==null&&o.child===A.child)return!1;if((A.flags&16)!==0)return!0;for(o=A.child;o!==null;){if((o.flags&13878)!==0||(o.subtreeFlags&13878)!==0)return!0;o=o.sibling}return!1}function Co(o,A,g,E){if(wi)for(g=A.child;g!==null;){if(g.tag===5||g.tag===6)KA(o,g.stateNode);else if(!(g.tag===4||Le&&g.tag===27)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===A)break;for(;g.sibling===null;){if(g.return===null||g.return===A)return;g=g.return}g.sibling.return=g.return,g=g.sibling}else if(ba)for(var I=A.child;I!==null;){if(I.tag===5){var Q=I.stateNode;g&&E&&(Q=Yh(Q,I.type,I.memoizedProps)),KA(o,Q)}else if(I.tag===6)Q=I.stateNode,g&&E&&(Q=Kh(Q,I.memoizedProps)),KA(o,Q);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)Q=I.child,Q!==null&&(Q.return=I),Co(o,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===A)break;for(;I.sibling===null;){if(I.return===null||I.return===A)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function gf(o,A,g,E){if(ba)for(var I=A.child;I!==null;){if(I.tag===5){var Q=I.stateNode;g&&E&&(Q=Yh(Q,I.type,I.memoizedProps)),zh(o,Q)}else if(I.tag===6)Q=I.stateNode,g&&E&&(Q=Kh(Q,I.memoizedProps)),zh(o,Q);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)Q=I.child,Q!==null&&(Q.return=I),gf(o,I,!(I.memoizedProps!==null&&I.memoizedProps.mode==="manual"),!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===A)break;for(;I.sibling===null;){if(I.return===null||I.return===A)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function bA(o,A){if(ba&&gl(o,A)){o=A.stateNode;var g=o.containerInfo,E=jA();gf(E,A,!1,!1),o.pendingChildren=E,Ln(A),Wu(g,E)}}function Tu(o,A,g,E){if(wi)o.memoizedProps!==E&&Ln(A);else if(ba){var I=o.stateNode,Q=o.memoizedProps;if((o=gl(o,A))||Q!==E){var k=Gi.current;Q=Ml(I,g,Q,E,!o,null),Q===I?A.stateNode=I:(Zs(Q,g,E,k)&&Ln(A),A.stateNode=Q,o?Co(Q,A,!1,!1):Ln(A))}else A.stateNode=I}}function Ru(o,A,g){if(Nh(A,g)){if(o.flags|=16777216,!qu(A,g))if(Mr())o.flags|=8192;else throw Yr=eu,tu}else o.flags&=-16777217}function Du(o,A){if(ig(A)){if(o.flags|=16777216,!Qo(A))if(Mr())o.flags|=8192;else throw Yr=eu,tu}else o.flags&=-16777217}function pl(o,A){A!==null&&(o.flags|=4),o.flags&16384&&(A=o.tag!==22?ht():536870912,o.lanes|=A,_s|=A)}function ml(o,A){if(!Ie)switch(o.tailMode){case"hidden":A=o.tail;for(var g=null;A!==null;)A.alternate!==null&&(g=A),A=A.sibling;g===null?o.tail=null:g.sibling=null;break;case"collapsed":g=o.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?A||o.tail===null?o.tail=null:o.tail.sibling=null:E.sibling=null}}function ai(o){var A=o.alternate!==null&&o.alternate.child===o.child,g=0,E=0;if(A)for(var I=o.child;I!==null;)g|=I.lanes|I.childLanes,E|=I.subtreeFlags&31457280,E|=I.flags&31457280,I.return=o,I=I.sibling;else for(I=o.child;I!==null;)g|=I.lanes|I.childLanes,E|=I.subtreeFlags,E|=I.flags,I.return=o,I=I.sibling;return o.subtreeFlags|=E,o.childLanes=g,A}function pf(o,A,g){var E=A.pendingProps;switch(Et(A),A.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(A),null;case 1:return ai(A),null;case 3:return g=A.stateNode,E=null,o!==null&&(E=o.memoizedState.cache),A.memoizedState.cache!==E&&(A.flags|=2048),Fs(Ve),Kt(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Fi(A)?Ln(A):o===null||o.memoizedState.isDehydrated&&(A.flags&256)===0||(A.flags|=1024,Ta!==null&&(GA(Ta),Ta=null))),bA(o,A),ai(A),null;case 26:if(na){g=A.type;var I=A.memoizedState;return o===null?(Ln(A),I!==null?(ai(A),Du(A,I)):(ai(A),Ru(A,g,E))):I?I!==o.memoizedState?(Ln(A),ai(A),Du(A,I)):(ai(A),A.flags&=-16777217):(wi?o.memoizedProps!==E&&Ln(A):Tu(o,A,g,E),ai(A),Ru(A,g,E)),null}case 27:if(Le){if(Lt(A),g=ps.current,I=A.type,o!==null&&A.stateNode!=null)wi?o.memoizedProps!==E&&Ln(A):Tu(o,A,I,E);else{if(!E){if(A.stateNode===null)throw Error(s(166));return ai(A),null}o=Gi.current,Fi(A)?ui(A,o):(o=ja(I,E,g,o,!0),A.stateNode=o,Ln(A))}return ai(A),null}case 5:if(Lt(A),g=A.type,o!==null&&A.stateNode!=null)Tu(o,A,g,E);else{if(!E){if(A.stateNode===null)throw Error(s(166));return ai(A),null}o=Gi.current,Fi(A)?ui(A,o):(I=Gh(g,E,ps.current,o,A),Co(I,A,!1,!1),A.stateNode=I,Zs(I,g,E,o)&&Ln(A))}return ai(A),Ru(A,A.type,A.pendingProps),null;case 6:if(o&&A.stateNode!=null)g=o.memoizedProps,wi?g!==E&&Ln(A):ba&&(g!==E?(A.stateNode=Oe(E,ps.current,Gi.current,A),Ln(A)):A.stateNode=o.stateNode);else{if(typeof E!="string"&&A.stateNode===null)throw Error(s(166));if(o=ps.current,g=Gi.current,Fi(A)){if(!an)throw Error(s(176));if(o=A.stateNode,g=A.memoizedProps,E=null,I=sn,I!==null)switch(I.tag){case 27:case 5:E=I.memoizedProps}qh(o,g,A,E)||oe(A)}else A.stateNode=Oe(E,o,g,A)}return ai(A),null;case 13:if(E=A.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I=Fi(A),E!==null&&E.dehydrated!==null){if(o===null){if(!I)throw Error(s(318));if(!an)throw Error(s(344));if(I=A.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(s(317));Jf(I,A)}else pe(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;ai(A),I=!1}else Ta!==null&&(GA(Ta),Ta=null),I=!0;if(!I)return A.flags&256?(On(A),A):(On(A),null)}if(On(A),(A.flags&128)!==0)return A.lanes=g,A;if(g=E!==null,o=o!==null&&o.memoizedState!==null,g){E=A.child,I=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(I=E.alternate.memoizedState.cachePool.pool);var Q=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(Q=E.memoizedState.cachePool.pool),Q!==I&&(E.flags|=2048)}return g!==o&&g&&(A.child.flags|=8192),pl(A,A.updateQueue),ai(A),null;case 4:return Kt(),bA(o,A),o===null&&mi(A.stateNode.containerInfo),ai(A),null;case 10:return Fs(A.type),ai(A),null;case 19:if(R(Ni),I=A.memoizedState,I===null)return ai(A),null;if(E=(A.flags&128)!==0,Q=I.rendering,Q===null)if(E)ml(I,!1);else{if(ze!==0||o!==null&&(o.flags&128)!==0)for(o=A.child;o!==null;){if(Q=rs(o),Q!==null){for(A.flags|=128,ml(I,!1),o=Q.updateQueue,A.updateQueue=o,pl(A,o),A.subtreeFlags=0,o=g,g=A.child;g!==null;)OA(g,o),g=g.sibling;return O(Ni,Ni.current&1|2),A.child}o=o.sibling}I.tail!==null&&Sa()>Yl&&(A.flags|=128,E=!0,ml(I,!1),A.lanes=4194304)}else{if(!E)if(o=rs(Q),o!==null){if(A.flags|=128,E=!0,o=o.updateQueue,A.updateQueue=o,pl(A,o),ml(I,!0),I.tail===null&&I.tailMode==="hidden"&&!Q.alternate&&!Ie)return ai(A),null}else 2*Sa()-I.renderingStartTime>Yl&&g!==536870912&&(A.flags|=128,E=!0,ml(I,!1),A.lanes=4194304);I.isBackwards?(Q.sibling=A.child,A.child=Q):(o=I.last,o!==null?o.sibling=Q:A.child=Q,I.last=Q)}return I.tail!==null?(A=I.tail,I.rendering=A,I.tail=A.sibling,I.renderingStartTime=Sa(),A.sibling=null,o=Ni.current,O(Ni,E?o&1|2:o&1),A):(ai(A),null);case 22:case 23:return On(A),Zn(),E=A.memoizedState!==null,o!==null?o.memoizedState!==null!==E&&(A.flags|=8192):E&&(A.flags|=8192),E?(g&536870912)!==0&&(A.flags&128)===0&&(ai(A),A.subtreeFlags&6&&(A.flags|=8192)):ai(A),g=A.updateQueue,g!==null&&pl(A,g.retryQueue),g=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),E=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(E=A.memoizedState.cachePool.pool),E!==g&&(A.flags|=2048),o!==null&&R(Bs),null;case 24:return g=null,o!==null&&(g=o.memoizedState.cache),A.memoizedState.cache!==g&&(A.flags|=2048),Fs(Ve),ai(A),null;case 25:return null}throw Error(s(156,A.tag))}function Tp(o,A){switch(Et(A),A.tag){case 1:return o=A.flags,o&65536?(A.flags=o&-65537|128,A):null;case 3:return Fs(Ve),Kt(),o=A.flags,(o&65536)!==0&&(o&128)===0?(A.flags=o&-65537|128,A):null;case 26:case 27:case 5:return Lt(A),null;case 13:if(On(A),o=A.memoizedState,o!==null&&o.dehydrated!==null){if(A.alternate===null)throw Error(s(340));pe()}return o=A.flags,o&65536?(A.flags=o&-65537|128,A):null;case 19:return R(Ni),null;case 4:return Kt(),null;case 10:return Fs(A.type),null;case 22:case 23:return On(A),Zn(),o!==null&&R(Bs),o=A.flags,o&65536?(A.flags=o&-65537|128,A):null;case 24:return Fs(Ve),null;case 25:return null;default:return null}}function mf(o,A){switch(Et(A),A.tag){case 3:Fs(Ve),Kt();break;case 26:case 27:case 5:Lt(A);break;case 4:Kt();break;case 13:On(A);break;case 19:R(Ni);break;case 10:Fs(A.type);break;case 22:case 23:On(A),Zn(),o!==null&&R(Bs);break;case 24:Fs(Ve)}}function SA(o,A){try{var g=A.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var I=E.next;g=I;do{if((g.tag&o)===o){E=void 0;var Q=g.create,k=g.inst;E=Q(),k.destroy=E}g=g.next}while(g!==I)}}catch(Y){De(A,A.return,Y)}}function br(o,A,g){try{var E=A.updateQueue,I=E!==null?E.lastEffect:null;if(I!==null){var Q=I.next;E=Q;do{if((E.tag&o)===o){var k=E.inst,Y=k.destroy;if(Y!==void 0){k.destroy=void 0,I=A;var et=g;try{Y()}catch(dt){De(I,et,dt)}}}E=E.next}while(E!==Q)}}catch(dt){De(A,A.return,dt)}}function Ef(o){var A=o.updateQueue;if(A!==null){var g=o.stateNode;try{Ea(A,g)}catch(E){De(o,o.return,E)}}}function Fn(o,A,g){g.props=ks(o.type,o.memoizedProps),g.state=o.memoizedState;try{g.componentWillUnmount()}catch(E){De(o,A,E)}}function Pa(o,A){try{var g=o.ref;if(g!==null){var E=o.stateNode;switch(o.tag){case 26:case 27:case 5:var I=Tl(E);break;default:I=E}typeof g=="function"?o.refCleanup=g(I):g.current=I}}catch(Q){De(o,A,Q)}}function Pn(o,A){var g=o.ref,E=o.refCleanup;if(g!==null)if(typeof E=="function")try{E()}catch(I){De(o,A,I)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(I){De(o,A,I)}else g.current=null}function fh(o){var A=o.type,g=o.memoizedProps,E=o.stateNode;try{wp(E,A,g,o)}catch(I){De(o,o.return,I)}}function gh(o,A,g){try{Nf(o.stateNode,o.type,g,A,o)}catch(E){De(o,o.return,E)}}function ph(o){return o.tag===5||o.tag===3||(na?o.tag===26:!1)||(Le?o.tag===27:!1)||o.tag===4}function TA(o){t:for(;;){for(;o.sibling===null;){if(o.return===null||ph(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&(!Le||o.tag!==27)&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue t;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function mh(o,A,g){var E=o.tag;if(E===5||E===6)o=o.stateNode,A?Of(g,o,A):Lh(g,o);else if(!(E===4||Le&&E===27)&&(o=o.child,o!==null))for(mh(o,A,g),o=o.sibling;o!==null;)mh(o,A,g),o=o.sibling}function Ps(o,A,g){var E=o.tag;if(E===5||E===6)o=o.stateNode,A?Uf(g,o,A):wf(g,o);else if(!(E===4||Le&&E===27)&&(o=o.child,o!==null))for(Ps(o,A,g),o=o.sibling;o!==null;)Ps(o,A,g),o=o.sibling}function Mu(o,A,g){o=o.containerInfo;try{wl(o,g)}catch(E){De(A,A.return,E)}}function RA(o,A){for(Xu(o.containerInfo),se=A;se!==null;)if(o=se,A=o.child,(o.subtreeFlags&1028)!==0&&A!==null)A.return=o,se=A;else for(;se!==null;){o=se;var g=o.alternate;switch(A=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((A&1024)!==0&&g!==null){A=void 0;var E=o,I=g.memoizedProps;g=g.memoizedState;var Q=E.stateNode;try{var k=ks(E.type,I,E.elementType===E.type);A=Q.getSnapshotBeforeUpdate(k,g),Q.__reactInternalSnapshotBeforeUpdate=A}catch(Y){De(E,E.return,Y)}}break;case 3:(A&1024)!==0&&wi&&Pf(o.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(s(163))}if(A=o.sibling,A!==null){A.return=o.return,se=A;break}se=o.return}return k=ge,ge=!1,k}function wu(o,A,g){var E=g.flags;switch(g.tag){case 0:case 11:case 15:Ys(o,g),E&4&&SA(5,g);break;case 1:if(Ys(o,g),E&4)if(o=g.stateNode,A===null)try{o.componentDidMount()}catch(Y){De(g,g.return,Y)}else{var I=ks(g.type,A.memoizedProps);A=A.memoizedState;try{o.componentDidUpdate(I,A,o.__reactInternalSnapshotBeforeUpdate)}catch(Y){De(g,g.return,Y)}}E&64&&Ef(g),E&512&&Pa(g,g.return);break;case 3:if(Ys(o,g),E&64&&(E=g.updateQueue,E!==null)){if(o=null,g.child!==null)switch(g.child.tag){case 27:case 5:o=Tl(g.child.stateNode);break;case 1:o=g.child.stateNode}try{Ea(E,o)}catch(Y){De(g,g.return,Y)}}break;case 26:if(na){Ys(o,g),E&512&&Pa(g,g.return);break}case 27:case 5:Ys(o,g),A===null&&E&4&&fh(g),E&512&&Pa(g,g.return);break;case 12:Ys(o,g);break;case 13:Ys(o,g),E&4&&Gu(o,g);break;case 22:if(I=g.memoizedState!==null||Cs,!I){A=A!==null&&A.memoizedState!==null||fi;var Q=Cs,k=fi;Cs=I,(fi=A)&&!k?Ks(o,g,(g.subtreeFlags&8772)!==0):Ys(o,g),Cs=Q,fi=k}E&512&&(g.memoizedProps.mode==="manual"?Pa(g,g.return):Pn(g,g.return));break;default:Ys(o,g)}}function Eh(o){var A=o.alternate;A!==null&&(o.alternate=null,Eh(A)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(A=o.stateNode,A!==null&&Mp(A)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function tn(o,A,g){for(g=g.child;g!==null;)Sr(o,A,g),g=g.sibling}function Sr(o,A,g){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(yi,g)}catch{}switch(g.tag){case 26:if(na){fi||Pn(g,A),tn(o,A,g),g.memoizedState?xo(g.memoizedState):g.stateNode&&Gl(g.stateNode);break}case 27:if(Le){fi||Pn(g,A);var E=Vt,I=ce;Vt=g.stateNode,tn(o,A,g),Fr(g.stateNode),Vt=E,ce=I;break}case 5:fi||Pn(g,A);case 6:if(wi){if(E=Vt,I=ce,Vt=null,tn(o,A,g),Vt=E,ce=I,Vt!==null)if(ce)try{Hf(Vt,g.stateNode)}catch(Q){De(g,A,Q)}else try{Fh(Vt,g.stateNode)}catch(Q){De(g,A,Q)}}else tn(o,A,g);break;case 18:wi&&Vt!==null&&(ce?XA(Vt,g.stateNode):Zf(Vt,g.stateNode));break;case 4:wi?(E=Vt,I=ce,Vt=g.stateNode.containerInfo,ce=!0,tn(o,A,g),Vt=E,ce=I):(ba&&Mu(g.stateNode,g,jA()),tn(o,A,g));break;case 0:case 11:case 14:case 15:fi||br(2,g,A),fi||br(4,g,A),tn(o,A,g);break;case 1:fi||(Pn(g,A),E=g.stateNode,typeof E.componentWillUnmount=="function"&&Fn(g,A,E)),tn(o,A,g);break;case 21:tn(o,A,g);break;case 22:fi||Pn(g,A),fi=(E=fi)||g.memoizedState!==null,tn(o,A,g),fi=E;break;default:tn(o,A,g)}}function Gu(o,A){if(an&&A.memoizedState===null&&(o=A.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Op(o)}catch(g){De(A,A.return,g)}}function yf(o){switch(o.tag){case 13:case 19:var A=o.stateNode;return A===null&&(A=o.stateNode=new Me),A;case 22:return o=o.stateNode,A=o._retryCache,A===null&&(A=o._retryCache=new Me),A;default:throw Error(s(435,o.tag))}}function zs(o,A){var g=yf(o);A.forEach(function(E){var I=Nr.bind(null,o,E);g.has(E)||(g.add(E),E.then(I,I))})}function xn(o,A){var g=A.deletions;if(g!==null)for(var E=0;E<g.length;E++){var I=g[E],Q=o,k=A;if(wi){var Y=k;t:for(;Y!==null;){switch(Y.tag){case 27:case 5:Vt=Y.stateNode,ce=!1;break t;case 3:Vt=Y.stateNode.containerInfo,ce=!0;break t;case 4:Vt=Y.stateNode.containerInfo,ce=!0;break t}Y=Y.return}if(Vt===null)throw Error(s(160));Sr(Q,k,I),Vt=null,ce=!1}else Sr(Q,k,I);Q=I.alternate,Q!==null&&(Q.return=null),I.return=null}if(A.subtreeFlags&13878)for(A=A.child;A!==null;)yh(A,o),A=A.sibling}function yh(o,A){var g=o.alternate,E=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:xn(A,o),zn(o),E&4&&(br(3,o,o.return),SA(3,o),br(5,o,o.return));break;case 1:xn(A,o),zn(o),E&512&&(fi||g===null||Pn(g,g.return)),E&64&&Cs&&(o=o.updateQueue,o!==null&&(E=o.callbacks,E!==null&&(g=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=g===null?E:g.concat(E))));break;case 26:if(na){var I=li;xn(A,o),zn(o),E&512&&(fi||g===null||Pn(g,g.return)),E&4&&(E=g!==null?g.memoizedState:null,A=o.memoizedState,g===null?A===null?o.stateNode===null?o.stateNode=qA(I,o.type,o.memoizedProps,o):JA(I,o.type,o.stateNode):o.stateNode=tg(I,A,o.memoizedProps):E!==A?(E===null?g.stateNode!==null&&Gl(g.stateNode):xo(E),A===null?JA(I,o.type,o.stateNode):tg(I,A,o.memoizedProps)):A===null&&o.stateNode!==null&&gh(o,o.memoizedProps,g.memoizedProps));break}case 27:if(Le&&E&4&&o.alternate===null){I=o.stateNode;var Q=o.memoizedProps;try{Lr(I),ag(o.type,Q,I,o)}catch(Tt){De(o,o.return,Tt)}}case 5:if(xn(A,o),zn(o),E&512&&(fi||g===null||Pn(g,g.return)),wi){if(o.flags&32){A=o.stateNode;try{Ph(A)}catch(Tt){De(o,o.return,Tt)}}E&4&&o.stateNode!=null&&(A=o.memoizedProps,gh(o,A,g!==null?g.memoizedProps:A)),E&1024&&(td=!0)}break;case 6:if(xn(A,o),zn(o),E&4&&wi){if(o.stateNode===null)throw Error(s(162));E=o.memoizedProps,g=g!==null?g.memoizedProps:E,A=o.stateNode;try{Gf(A,g,E)}catch(Tt){De(o,o.return,Tt)}}break;case 3:if(na?(eg(),I=li,li=nc(A.containerInfo),xn(A,o),li=I):xn(A,o),zn(o),E&4){if(wi&&an&&g!==null&&g.memoizedState.isDehydrated)try{Up(A.containerInfo)}catch(Tt){De(o,o.return,Tt)}if(ba){E=A.containerInfo,g=A.pendingChildren;try{wl(E,g)}catch(Tt){De(o,o.return,Tt)}}}td&&(td=!1,Bf(o));break;case 4:na?(g=li,li=nc(o.stateNode.containerInfo),xn(A,o),zn(o),li=g):(xn(A,o),zn(o)),E&4&&ba&&Mu(o.stateNode,o,o.stateNode.pendingChildren);break;case 12:xn(A,o),zn(o);break;case 13:xn(A,o),zn(o),o.child.flags&8192&&o.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Rn=Sa()),E&4&&(E=o.updateQueue,E!==null&&(o.updateQueue=null,zs(o,E)));break;case 22:E&512&&(fi||g===null||Pn(g,g.return)),I=o.memoizedState!==null;var k=g!==null&&g.memoizedState!==null,Y=Cs,et=fi;if(Cs=Y||I,fi=et||k,xn(A,o),fi=et,Cs=Y,zn(o),A=o.stateNode,A._current=o,A._visibility&=-3,A._visibility|=A._pendingVisibility&2,E&8192&&(A._visibility=I?A._visibility&-2:A._visibility|1,I&&(A=Cs||fi,g===null||k||A||El(o)),wi&&(o.memoizedProps===null||o.memoizedProps.mode!=="manual"))){t:if(g=null,wi)for(A=o;;){if(A.tag===5||na&&A.tag===26||Le&&A.tag===27){if(g===null){k=g=A;try{Q=k.stateNode,I?kf(Q):Ff(k.stateNode,k.memoizedProps)}catch(Tt){De(k,k.return,Tt)}}}else if(A.tag===6){if(g===null){k=A;try{var dt=k.stateNode;I?Lf(dt):Gp(dt,k.memoizedProps)}catch(Tt){De(k,k.return,Tt)}}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===o)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break t;for(;A.sibling===null;){if(A.return===null||A.return===o)break t;g===A&&(g=null),A=A.return}g===A&&(g=null),A.sibling.return=A.return,A=A.sibling}}E&4&&(E=o.updateQueue,E!==null&&(g=E.retryQueue,g!==null&&(E.retryQueue=null,zs(o,g))));break;case 19:xn(A,o),zn(o),E&4&&(E=o.updateQueue,E!==null&&(o.updateQueue=null,zs(o,E)));break;case 21:break;default:xn(A,o),zn(o)}}function zn(o){var A=o.flags;if(A&2){try{if(wi&&(!Le||o.tag!==27)){t:{for(var g=o.return;g!==null;){if(ph(g)){var E=g;break t}g=g.return}throw Error(s(160))}switch(E.tag){case 27:if(Le){var I=E.stateNode,Q=TA(o);Ps(o,Q,I);break}case 5:var k=E.stateNode;E.flags&32&&(Ph(k),E.flags&=-33);var Y=TA(o);Ps(o,Y,k);break;case 3:case 4:var et=E.stateNode.containerInfo,dt=TA(o);mh(o,dt,et);break;default:throw Error(s(161))}}}catch(Tt){De(o,o.return,Tt)}o.flags&=-3}A&4096&&(o.flags&=-4097)}function Bf(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var A=o;Bf(A),A.tag===5&&A.flags&1024&&Ju(A.stateNode),o=o.sibling}}function Ys(o,A){if(A.subtreeFlags&8772)for(A=A.child;A!==null;)wu(o,A.alternate,A),A=A.sibling}function El(o){for(o=o.child;o!==null;){var A=o;switch(A.tag){case 0:case 11:case 14:case 15:br(4,A,A.return),El(A);break;case 1:Pn(A,A.return);var g=A.stateNode;typeof g.componentWillUnmount=="function"&&Fn(A,A.return,g),El(A);break;case 26:case 27:case 5:Pn(A,A.return),El(A);break;case 22:Pn(A,A.return),A.memoizedState===null&&El(A);break;default:El(A)}o=o.sibling}}function Ks(o,A,g){for(g=g&&(A.subtreeFlags&8772)!==0,A=A.child;A!==null;){var E=A.alternate,I=o,Q=A,k=Q.flags;switch(Q.tag){case 0:case 11:case 15:Ks(I,Q,g),SA(4,Q);break;case 1:if(Ks(I,Q,g),E=Q,I=E.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(dt){De(E,E.return,dt)}if(E=Q,I=E.updateQueue,I!==null){var Y=E.stateNode;try{var et=I.shared.hiddenCallbacks;if(et!==null)for(I.shared.hiddenCallbacks=null,I=0;I<et.length;I++)go(et[I],Y)}catch(dt){De(E,E.return,dt)}}g&&k&64&&Ef(Q),Pa(Q,Q.return);break;case 26:case 27:case 5:Ks(I,Q,g),g&&E===null&&k&4&&fh(Q),Pa(Q,Q.return);break;case 12:Ks(I,Q,g);break;case 13:Ks(I,Q,g),g&&k&4&&Gu(I,Q);break;case 22:Q.memoizedState===null&&Ks(I,Q,g),Pa(Q,Q.return);break;default:Ks(I,Q,g)}A=A.sibling}}function Nu(o,A){var g=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),o=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(o=A.memoizedState.cachePool.pool),o!==g&&(o!=null&&o.refCount++,g!=null&&vA(g))}function DA(o,A){o=null,A.alternate!==null&&(o=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==o&&(A.refCount++,o!=null&&vA(o))}function Ki(o,A,g,E){if(A.subtreeFlags&10256)for(A=A.child;A!==null;)Bh(o,A,g,E),A=A.sibling}function Bh(o,A,g,E){var I=A.flags;switch(A.tag){case 0:case 11:case 15:Ki(o,A,g,E),I&2048&&SA(9,A);break;case 3:Ki(o,A,g,E),I&2048&&(o=null,A.alternate!==null&&(o=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==o&&(A.refCount++,o!=null&&vA(o)));break;case 12:if(I&2048){Ki(o,A,g,E),o=A.stateNode;try{var Q=A.memoizedProps,k=Q.id,Y=Q.onPostCommit;typeof Y=="function"&&Y(k,A.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(et){De(A,A.return,et)}}else Ki(o,A,g,E);break;case 23:break;case 22:Q=A.stateNode,A.memoizedState!==null?Q._visibility&4?Ki(o,A,g,E):un(o,A):Q._visibility&4?Ki(o,A,g,E):(Q._visibility|=4,en(o,A,g,E,(A.subtreeFlags&10256)!==0)),I&2048&&Nu(A.alternate,A);break;case 24:Ki(o,A,g,E),I&2048&&DA(A.alternate,A);break;default:Ki(o,A,g,E)}}function en(o,A,g,E,I){for(I=I&&(A.subtreeFlags&10256)!==0,A=A.child;A!==null;){var Q=o,k=A,Y=g,et=E,dt=k.flags;switch(k.tag){case 0:case 11:case 15:en(Q,k,Y,et,I),SA(8,k);break;case 23:break;case 22:var Tt=k.stateNode;k.memoizedState!==null?Tt._visibility&4?en(Q,k,Y,et,I):un(Q,k):(Tt._visibility|=4,en(Q,k,Y,et,I)),I&&dt&2048&&Nu(k.alternate,k);break;case 24:en(Q,k,Y,et,I),I&&dt&2048&&DA(k.alternate,k);break;default:en(Q,k,Y,et,I)}A=A.sibling}}function un(o,A){if(A.subtreeFlags&10256)for(A=A.child;A!==null;){var g=o,E=A,I=E.flags;switch(E.tag){case 22:un(g,E),I&2048&&Nu(E.alternate,E);break;case 24:un(g,E),I&2048&&DA(E.alternate,E);break;default:un(g,E)}A=A.sibling}}function Ia(o){if(o.subtreeFlags&ua)for(o=o.child;o!==null;)Uu(o),o=o.sibling}function Uu(o){switch(o.tag){case 26:Ia(o),o.flags&ua&&(o.memoizedState!==null?ng(li,o.memoizedState,o.memoizedProps):bn(o.type,o.memoizedProps));break;case 5:Ia(o),o.flags&ua&&bn(o.type,o.memoizedProps);break;case 3:case 4:if(na){var A=li;li=nc(o.stateNode.containerInfo),Ia(o),li=A}else Ia(o);break;case 22:o.memoizedState===null&&(A=o.alternate,A!==null&&A.memoizedState!==null?(A=ua,ua=16777216,Ia(o),ua=A):Ia(o));break;default:Ia(o)}}function MA(o){var A=o.alternate;if(A!==null&&(o=A.child,o!==null)){A.child=null;do A=o.sibling,o.sibling=null,o=A;while(o!==null)}}function Tr(o){var A=o.deletions;if((o.flags&16)!==0){if(A!==null)for(var g=0;g<A.length;g++){var E=A[g];se=E,Ch(E,o)}MA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ou(o),o=o.sibling}function Ou(o){switch(o.tag){case 0:case 11:case 15:Tr(o),o.flags&2048&&br(9,o,o.return);break;case 3:Tr(o);break;case 12:Tr(o);break;case 22:var A=o.stateNode;o.memoizedState!==null&&A._visibility&4&&(o.return===null||o.return.tag!==13)?(A._visibility&=-5,js(o)):Tr(o);break;default:Tr(o)}}function js(o){var A=o.deletions;if((o.flags&16)!==0){if(A!==null)for(var g=0;g<A.length;g++){var E=A[g];se=E,Ch(E,o)}MA(o)}for(o=o.child;o!==null;){switch(A=o,A.tag){case 0:case 11:case 15:br(8,A,A.return),js(A);break;case 22:g=A.stateNode,g._visibility&4&&(g._visibility&=-5,js(A));break;default:js(A)}o=o.sibling}}function Ch(o,A){for(;se!==null;){var g=se;switch(g.tag){case 0:case 11:case 15:br(8,g,A);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var E=g.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:vA(g.memoizedState.cache)}if(E=g.child,E!==null)E.return=g,se=E;else t:for(g=o;se!==null;){E=se;var I=E.sibling,Q=E.return;if(Eh(E),E===g){se=null;break t}if(I!==null){I.return=Q,se=I;break t}se=Q}}}function yl(o){var A=vf(o);if(A!=null){if(typeof A.memoizedProps["data-testname"]!="string")throw Error(s(364));return A}if(o=Hh(o),o===null)throw Error(s(362));return o.stateNode.current}function Rr(o,A){var g=o.tag;switch(A.$$typeof){case zl:if(o.type===A.value)return!0;break;case Ma:t:{for(A=A.value,o=[o,0],g=0;g<o.length;){var E=o[g++],I=E.tag,Q=o[g++],k=A[Q];if(I!==5&&I!==26&&I!==27||!Dl(E)){for(;k!=null&&Rr(E,k);)Q++,k=A[Q];if(Q===A.length){A=!0;break t}else for(E=E.child;E!==null;)o.push(E,Q),E=E.sibling}}A=!1}return A;case ti:if((g===5||g===26||g===27)&&Rf(o.stateNode,A.value))return!0;break;case Is:if((g===5||g===6||g===26||g===27)&&(o=Tf(o),o!==null&&0<=o.indexOf(A.value)))return!0;break;case Za:if((g===5||g===26||g===27)&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===A.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Ih(o){switch(o.$$typeof){case zl:return"<"+(c(o.value)||"Unknown")+">";case Ma:return":has("+(Ih(o)||"")+")";case ti:return'[role="'+o.value+'"]';case Is:return'"'+o.value+'"';case Za:return'[data-testname="'+o.value+'"]';default:throw Error(s(365))}}function Yn(o,A){var g=[];o=[o,0];for(var E=0;E<o.length;){var I=o[E++],Q=I.tag,k=o[E++],Y=A[k];if(Q!==5&&Q!==26&&Q!==27||!Dl(I)){for(;Y!=null&&Rr(I,Y);)k++,Y=A[k];if(k===A.length)g.push(I);else for(I=I.child;I!==null;)o.push(I,k),I=I.sibling}}return g}function wA(o,A){if(!kr)throw Error(s(363));o=yl(o),o=Yn(o,A),A=[],o=Array.from(o);for(var g=0;g<o.length;){var E=o[g++],I=E.tag;if(I===5||I===26||I===27)Dl(E)||A.push(E.stateNode);else for(E=E.child;E!==null;)o.push(E),E=E.sibling}return A}function pi(){if((ve&2)!==0&&ye!==0)return ye&-ye;if(te.T!==null){var o=ra;return o!==0?o:zi()}return bf()}function _h(){da===0&&(da=(ye&536870912)===0||Ie?gt():536870912);var o=oa.current;return o!==null&&(o.flags|=32),da}function ji(o,A,g){(o===we&&ke===2||o.cancelPendingCommit!==null)&&(nn(o,0),Kn(o,ye,da,!1)),L(o,g),((ve&2)===0||o!==we)&&(o===we&&((ve&2)===0&&(rr|=g),ze===4&&Kn(o,ye,da,!1)),Gn(o))}function Dr(o,A,g){if((ve&6)!==0)throw Error(s(327));var E=!g&&(A&60)===0&&(A&o.expiredLanes)===0||$(o,A),I=E?Qh(o,A):ku(o,A,!0),Q=E;do{if(I===0){ca&&!E&&Kn(o,A,0,!1);break}else if(I===6)Kn(o,A,0,!Ga);else{if(g=o.current.alternate,Q&&!Bl(g)){I=ku(o,A,!1),Q=!1;continue}if(I===2){if(Q=A,o.errorRecoveryDisabledLanes&Q)var k=0;else k=o.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){A=k;t:{var Y=o;I=ko;var et=an&&Y.current.memoizedState.isDehydrated;if(et&&(nn(Y,k).flags|=256),k=ku(Y,k,!1),k!==2){if(Ui&&!et){Y.errorRecoveryDisabledLanes|=Q,rr|=Q,I=4;break t}Q=gi,gi=I,Q!==null&&GA(Q)}I=k}if(Q=!1,I!==2)continue}}if(I===1){nn(o,0),Kn(o,A,0,!0);break}t:{switch(E=o,I){case 0:case 1:throw Error(s(345));case 4:if((A&4194176)===A){Kn(E,A,da,!Ga);break t}break;case 2:gi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(E.finishedWork=g,E.finishedLanes=A,(A&62914560)===A&&(Q=Rn+300-Sa(),10<Q)){if(Kn(E,A,da,!Ga),j(E,0)!==0)break t;E.timeoutHandle=vi(Hu.bind(null,E,g,gi,nu,fc,A,da,rr,_s,Ga,2,-0,0),Q);break t}Hu(E,g,gi,nu,fc,A,da,rr,_s,Ga,0,-0,0)}}break}while(!0);Gn(o)}function GA(o){gi===null?gi=o:gi.push.apply(gi,o)}function Hu(o,A,g,E,I,Q,k,Y,et,dt,Tt,Mt,Nt){var re=A.subtreeFlags;if((re&8192||(re&16785408)===16785408)&&(Uh(),Uu(A),A=bi(),A!==null)){o.cancelPendingCommit=A(wr.bind(null,o,g,E,I,k,Y,et,1,Mt,Nt)),Kn(o,Q,k,!dt);return}wr(o,g,E,I,k,Y,et,Tt,Mt,Nt)}function Bl(o){for(var A=o;;){var g=A.tag;if((g===0||g===11||g===15)&&A.flags&16384&&(g=A.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var E=0;E<g.length;E++){var I=g[E],Q=I.getSnapshot;I=I.value;try{if(!Xn(Q(),I))return!1}catch{return!1}}if(g=A.child,A.subtreeFlags&16384&&g!==null)g.return=A,A=g;else{if(A===o)break;for(;A.sibling===null;){if(A.return===null||A.return===o)return!0;A=A.return}A.sibling.return=A.return,A=A.sibling}}return!0}function Kn(o,A,g,E){A&=~iu,A&=~rr,o.suspendedLanes|=A,o.pingedLanes&=~A,E&&(o.warmLanes|=A),E=o.expirationTimes;for(var I=A;0<I;){var Q=31-Sn(I),k=1<<Q;E[Q]=-1,I&=~k}g!==0&&Ot(o,g,A)}function NA(){return(ve&6)===0?(Nn(0),!1):!0}function Cl(){if(Jt!==null){if(ke===0)var o=Jt.return;else o=Jt,Aa=Wa=null,Ba(o),Kr=null,jr=0,o=Jt;for(;o!==null;)mf(o.alternate,o),o=o.return;Jt=null}}function nn(o,A){o.finishedWork=null,o.finishedLanes=0;var g=o.timeoutHandle;g!==Or&&(o.timeoutHandle=Or,Vu(g)),g=o.cancelPendingCommit,g!==null&&(o.cancelPendingCommit=null,g()),Cl(),we=o,Jt=g=xa(o.current,null),ye=A,ke=0,hn=null,Ga=!1,ca=$(o,A),Ui=!1,_s=da=iu=rr=ha=ze=0,gi=ko=null,fc=!1,(A&8)!==0&&(A|=A&32);var E=o.entangledLanes;if(E!==0)for(o=o.entanglements,E&=A;0<E;){var I=31-Sn(E),Q=1<<I;A|=o[I],E&=~Q}return dn=A,_i(),g}function ta(o,A){de=null,te.H=di,A===kl?(A=dA(),ke=3):A===tu?(A=dA(),ke=4):ke=A===hc?8:A!==null&&typeof A=="object"&&typeof A.then=="function"?6:1,hn=A,Jt===null&&(ze=1,hl(o,St(A,o.current)))}function Mr(){var o=oa.current;return o===null?!0:(ye&4194176)===ye?Fe===null:(ye&62914560)===ye||(ye&536870912)!==0?o===Fe:!1}function us(){var o=te.H;return te.H=di,o===null?di:o}function cs(){var o=te.A;return te.A=Pl,o}function Xs(){ze=4,Ga||(ye&4194176)!==ye&&oa.current!==null||(ca=!0),(ha&134217727)===0&&(rr&134217727)===0||we===null||Kn(we,ye,da,!1)}function ku(o,A,g){var E=ve;ve|=2;var I=us(),Q=cs();(we!==o||ye!==A)&&(nu=null,nn(o,A)),A=!1;var k=ze;t:do try{if(ke!==0&&Jt!==null){var Y=Jt,et=hn;switch(ke){case 8:Cl(),k=6;break t;case 3:case 2:case 6:oa.current===null&&(A=!0);var dt=ke;if(ke=0,hn=null,_a(o,Y,et,dt),g&&ca){k=0;break t}break;default:dt=ke,ke=0,hn=null,_a(o,Y,et,dt)}}xh(),k=ze;break}catch(Tt){ta(o,Tt)}while(!0);return A&&o.shellSuspendCounter++,Aa=Wa=null,ve=E,te.H=I,te.A=Q,Jt===null&&(we=null,ye=0,_i()),k}function xh(){for(;Jt!==null;)oi(Jt)}function Qh(o,A){var g=ve;ve|=2;var E=us(),I=cs();we!==o||ye!==A?(nu=null,Yl=Sa()+500,nn(o,A)):ca=$(o,A);t:do try{if(ke!==0&&Jt!==null){A=Jt;var Q=hn;e:switch(ke){case 1:ke=0,hn=null,_a(o,A,Q,1);break;case 2:if(pr(Q)){ke=0,hn=null,be(A);break}A=function(){ke===2&&we===o&&(ke=7),Gn(o)},Q.then(A,A);break t;case 3:ke=7;break t;case 4:ke=5;break t;case 7:pr(Q)?(ke=0,hn=null,be(A)):(ke=0,hn=null,_a(o,A,Q,7));break;case 5:var k=null;switch(Jt.tag){case 26:k=Jt.memoizedState;case 5:case 27:var Y=Jt,et=Y.type,dt=Y.pendingProps;if(k?Qo(k):qu(et,dt)){ke=0,hn=null;var Tt=Y.sibling;if(Tt!==null)Jt=Tt;else{var Mt=Y.return;Mt!==null?(Jt=Mt,ea(Mt)):Jt=null}break e}}ke=0,hn=null,_a(o,A,Q,5);break;case 6:ke=0,hn=null,_a(o,A,Q,6);break;case 8:Cl(),ze=6;break t;default:throw Error(s(462))}}Qn();break}catch(Nt){ta(o,Nt)}while(!0);return Aa=Wa=null,te.H=E,te.A=I,ve=g,Jt!==null?0:(we=null,ye=0,_i(),ze)}function Qn(){for(;Jt!==null&&!og();)oi(Jt)}function oi(o){var A=ff(o.alternate,o,dn);o.memoizedProps=o.pendingProps,A===null?ea(o):Jt=A}function be(o){var A=o,g=A.alternate;switch(A.tag){case 15:case 0:A=lf(g,A,A.pendingProps,A.type,void 0,ye);break;case 11:A=lf(g,A,A.pendingProps,A.type.render,A.ref,ye);break;case 5:Ba(A);default:mf(g,A),A=Jt=OA(A,dn),A=ff(g,A,dn)}o.memoizedProps=o.pendingProps,A===null?ea(o):Jt=A}function _a(o,A,g,E){Aa=Wa=null,Ba(A),Kr=null,jr=0;var I=A.return;try{if(bp(o,I,A,g,ye)){ze=1,hl(o,St(g,o.current)),Jt=null;return}}catch(Q){if(I!==null)throw Jt=I,Q;ze=1,hl(o,St(g,o.current)),Jt=null;return}A.flags&32768?(Ie||E===1?o=!0:ca||(ye&536870912)!==0?o=!1:(Ga=o=!0,(E===2||E===3||E===6)&&(E=oa.current,E!==null&&E.tag===13&&(E.flags|=16384))),Lu(A,o)):ea(A)}function ea(o){var A=o;do{if((A.flags&32768)!==0){Lu(A,Ga);return}o=A.return;var g=pf(A.alternate,A,dn);if(g!==null){Jt=g;return}if(A=A.sibling,A!==null){Jt=A;return}Jt=A=o}while(A!==null);ze===0&&(ze=5)}function Lu(o,A){do{var g=Tp(o.alternate,o);if(g!==null){g.flags&=32767,Jt=g;return}if(g=o.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!A&&(o=o.sibling,o!==null)){Jt=o;return}Jt=o=g}while(o!==null);ze=6,Jt=null}function wr(o,A,g,E,I,Q,k,Y,et,dt){var Tt=te.T,Mt=$s();try{cn(2),te.T=null,Cf(o,A,g,E,Mt,I,Q,k,Y,et,dt)}finally{te.T=Tt,cn(Mt)}}function Cf(o,A,g,E,I,Q,k,Y){do za();while(xs!==null);if((ve&6)!==0)throw Error(s(327));var et=o.finishedWork;if(E=o.finishedLanes,et===null)return null;if(o.finishedWork=null,o.finishedLanes=0,et===o.current)throw Error(s(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var dt=et.lanes|et.childLanes;if(dt|=qa,Dt(o,E,dt,Q,k,Y),o===we&&(Jt=we=null,ye=0),(et.subtreeFlags&10256)===0&&(et.flags&10256)===0||$a||($a=!0,Wr=dt,gc=g,qs(lc,function(){return za(),null})),g=(et.flags&15990)!==0,(et.subtreeFlags&15990)!==0||g?(g=te.T,te.T=null,Q=$s(),cn(2),k=ve,ve|=4,RA(o,et),yh(et,o),Qf(o.containerInfo),o.current=et,wu(o,et.alternate,et),rc(),ve=k,cn(Q),te.T=g):o.current=et,$a?($a=!1,xs=o,Lo=E):vh(o,dt),dt=o.pendingLanes,dt===0&&(Jr=null),P(et.stateNode),Gn(o),A!==null)for(I=o.onRecoverableError,et=0;et<A.length;et++)dt=A[et],I(dt.value,{componentStack:dt.stack});return(Lo&3)!==0&&za(),dt=o.pendingLanes,(E&4194218)!==0&&(dt&42)!==0?o===pc?Kl++:(Kl=0,pc=o):Kl=0,Nn(0),null}function vh(o,A){(o.pooledCacheLanes&=A)===0&&(A=o.pooledCache,A!=null&&(o.pooledCache=null,vA(A)))}function za(){if(xs!==null){var o=xs,A=Wr;Wr=0;var g=ne(Lo),E=32>g?32:g;g=te.T;var I=$s();try{if(cn(E),te.T=null,xs===null)var Q=!1;else{E=gc,gc=null;var k=xs,Y=Lo;if(xs=null,Lo=0,(ve&6)!==0)throw Error(s(331));var et=ve;if(ve|=4,Ou(k.current),Bh(k,k.current,Y,E),ve=et,Nn(0,!1),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(yi,k)}catch{}Q=!0}return Q}finally{cn(I),te.T=g,vh(o,A)}}return!1}function Il(o,A,g){A=St(g,A),A=fl(o.stateNode,A,2),o=Yi(o,A,2),o!==null&&(L(o,2),Gn(o))}function De(o,A,g){if(o.tag===3)Il(o,o,g);else for(;A!==null;){if(A.tag===3){Il(A,o,g);break}else if(A.tag===1){var E=A.stateNode;if(typeof A.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Jr===null||!Jr.has(E))){o=St(g,o),g=sh(2),E=Yi(A,g,2),E!==null&&(nf(g,E,A,o),L(E,2),Gn(E));break}}A=A.return}}function Io(o,A,g){var E=o.pingCache;if(E===null){E=o.pingCache=new wa;var I=new Set;E.set(A,I)}else I=E.get(A),I===void 0&&(I=new Set,E.set(A,I));I.has(g)||(Ui=!0,I.add(g),o=bh.bind(null,o,A,g),A.then(o,o))}function bh(o,A,g){var E=o.pingCache;E!==null&&E.delete(A),o.pingedLanes|=o.suspendedLanes&g,o.warmLanes&=~g,we===o&&(ye&g)===g&&(ze===4||ze===3&&(ye&62914560)===ye&&300>Sa()-Rn?(ve&2)===0&&nn(o,0):iu|=g,_s===ye&&(_s=0)),Gn(o)}function Gr(o,A){A===0&&(A=ht()),o=ii(o,A),o!==null&&(L(o,A),Gn(o))}function Vs(o){var A=o.memoizedState,g=0;A!==null&&(g=A.retryLane),Gr(o,g)}function Nr(o,A){var g=0;switch(o.tag){case 13:var E=o.stateNode,I=o.memoizedState;I!==null&&(g=I.retryLane);break;case 19:E=o.stateNode;break;case 22:E=o.stateNode._retryCache;break;default:throw Error(s(314))}E!==null&&E.delete(A),Gr(o,g)}function qs(o,A){return WA(o,A)}function Sh(o,A,g,E){this.tag=o,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=A,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function UA(o){return o=o.prototype,!(!o||!o.isReactComponent)}function xa(o,A){var g=o.alternate;return g===null?(g=e(o.tag,A,o.key,o.mode),g.elementType=o.elementType,g.type=o.type,g.stateNode=o.stateNode,g.alternate=o,o.alternate=g):(g.pendingProps=A,g.type=o.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=o.flags&31457280,g.childLanes=o.childLanes,g.lanes=o.lanes,g.child=o.child,g.memoizedProps=o.memoizedProps,g.memoizedState=o.memoizedState,g.updateQueue=o.updateQueue,A=o.dependencies,g.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext},g.sibling=o.sibling,g.index=o.index,g.ref=o.ref,g.refCleanup=o.refCleanup,g}function OA(o,A){o.flags&=31457282;var g=o.alternate;return g===null?(o.childLanes=0,o.lanes=A,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,A=g.dependencies,o.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),o}function hs(o,A,g,E,I,Q){var k=0;if(E=o,typeof o=="function")UA(o)&&(k=1);else if(typeof o=="string")k=na&&Le?VA(o,g,Gi.current)?26:fs(o)?27:5:na?VA(o,g,Gi.current)?26:5:Le&&fs(o)?27:5;else t:switch(o){case Ur:return hi(g.children,I,Q,A);case FA:k=8,I|=24;break;case Yu:return o=e(12,g,A,I|2),o.elementType=Yu,o.lanes=Q,o;case Ku:return o=e(13,g,A,I),o.elementType=Ku,o.lanes=Q,o;case vl:return o=e(19,g,A,I),o.elementType=vl,o.lanes=Q,o;case Dh:return HA(g,I,Q,A);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case PA:case Ya:k=10;break t;case Rh:k=9;break t;case zA:k=11;break t;case ju:k=14;break t;case va:k=16,E=null;break t}k=29,g=Error(s(130,o===null?"null":typeof o,"")),E=null}return A=e(k,g,A,I),A.elementType=o,A.type=E,A.lanes=Q,A}function hi(o,A,g,E){return o=e(7,o,E,A),o.lanes=g,o}function HA(o,A,g,E){o=e(22,o,E,A),o.elementType=Dh,o.lanes=g;var I={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var Q=I._current;if(Q===null)throw Error(s(456));if((I._pendingVisibility&2)===0){var k=ii(Q,2);k!==null&&(I._pendingVisibility|=2,ji(k,Q,2))}},attach:function(){var Q=I._current;if(Q===null)throw Error(s(456));if((I._pendingVisibility&2)!==0){var k=ii(Q,2);k!==null&&(I._pendingVisibility&=-3,ji(k,Q,2))}}};return o.stateNode=I,o}function Fu(o,A,g){return o=e(6,o,null,A),o.lanes=g,o}function Th(o,A,g){return A=e(4,o.children!==null?o.children:[],o.key,A),A.lanes=g,A.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},A}function Rp(o,A,g,E,I,Q,k,Y){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Or,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=At(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.hiddenUpdates=At(null),this.identifierPrefix=E,this.onUncaughtError=I,this.onCaughtError=Q,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function If(o,A,g,E,I,Q,k,Y,et,dt,Tt,Mt){return o=new Rp(o,A,g,k,Y,et,dt,Mt),A=1,Q===!0&&(A|=24),Q=e(3,null,null,A),o.current=Q,Q.stateNode=o,A=vr(),A.refCount++,o.pooledCache=A,A.refCount++,Q.memoizedState={element:E,isDehydrated:g,cache:A},gr(Q),o}function Qi(o){return o?(o=Pr,o):Pr}function Pu(o){var A=o._reactInternals;if(A===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return o=x(A),o=o!==null?v(o):null,o===null?null:Tl(o.stateNode)}function _l(o,A,g,E,I,Q){I=Qi(I),E.context===null?E.context=I:E.pendingContext=I,E=Wi(A),E.payload={element:g},Q=Q===void 0?null:Q,Q!==null&&(E.callback=Q),g=Yi(o,E,A),g!==null&&(ji(g,o,A),An(g,o,A))}function xl(o,A){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var g=o.retryLane;o.retryLane=g!==0&&g<A?g:A}}function kA(o,A){xl(o,A),(o=o.alternate)&&xl(o,A)}var le={},Ql=Ep(),ia=kw(),zu=Object.assign,Dp=Symbol.for("react.element"),LA=Symbol.for("react.transitional.element"),Qa=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),FA=Symbol.for("react.strict_mode"),Yu=Symbol.for("react.profiler"),PA=Symbol.for("react.provider"),Rh=Symbol.for("react.consumer"),Ya=Symbol.for("react.context"),zA=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),vl=Symbol.for("react.suspense_list"),ju=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),Dh=Symbol.for("react.offscreen"),_f=Symbol.for("react.memo_cache_sentinel"),Js=Symbol.iterator,Mh=Symbol.for("react.client.reference"),te=Ql.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ds,Ws,_o=!1,bl=Array.isArray,wh=t.rendererVersion,YA=t.rendererPackageName,Sl=t.extraDevToolsConfig,Tl=t.getPublicInstance,xf=t.getRootHostContext,Rl=t.getChildHostContext,Xu=t.prepareForCommit,Qf=t.resetAfterCommit,Gh=t.createInstance,KA=t.appendInitialChild,Zs=t.finalizeInitialChildren,Ae=t.shouldSetTextContent,Oe=t.createTextInstance,vi=t.scheduleTimeout,Vu=t.cancelTimeout,Or=t.noTimeout,vn=t.isPrimaryRenderer;t.warnsIfNotActing;var wi=t.supportsMutation,ba=t.supportsPersistence,an=t.supportsHydration,vf=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var mi=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var cn=t.setCurrentUpdatePriority,$s=t.getCurrentUpdatePriority,bf=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var Sf=t.shouldAttemptEagerTransition,Mp=t.detachDeletedInstance;t.requestPostPaintCallback;var Nh=t.maySuspendCommit,qu=t.preloadInstance,Uh=t.startSuspendingCommit,bn=t.suspendInstance,bi=t.waitForCommitToBeReady,Hr=t.NotPendingTransition,Ka=t.HostTransitionContext,Ju=t.resetFormInstance;t.bindToConsole;var Oh=t.supportsMicrotasks,tr=t.scheduleMicrotask,kr=t.supportsTestSelectors,Hh=t.findFiberRoot,kh=t.getBoundingRect,Tf=t.getTextContent,Dl=t.isHiddenSubtree,Rf=t.matchAccessibilityRole,Df=t.setFocusIfFocusable,Mf=t.setupIntersectionObserver,wf=t.appendChild,Lh=t.appendChildToContainer,Gf=t.commitTextUpdate,wp=t.commitMount,Nf=t.commitUpdate,Uf=t.insertBefore,Of=t.insertInContainerBefore,Fh=t.removeChild,Hf=t.removeChildFromContainer,Ph=t.resetTextContent,kf=t.hideInstance,Lf=t.hideTextInstance,Ff=t.unhideInstance,Gp=t.unhideTextInstance,Pf=t.clearContainer,Ml=t.cloneInstance,jA=t.createContainerChildSet,zh=t.appendChildToContainerChildSet,Wu=t.finalizeContainerChildren,wl=t.replaceContainerChildren,Yh=t.cloneHiddenInstance,Kh=t.cloneHiddenTextInstance,Zu=t.isSuspenseInstancePending,$u=t.isSuspenseInstanceFallback,zf=t.getSuspenseInstanceFallbackErrorDetails,Yf=t.registerSuspenseInstanceRetry,jh=t.canHydrateFormStateMarker,Kf=t.isFormStateMarkerMatching,Xh=t.getNextHydratableSibling,tc=t.getFirstHydratableChild,jf=t.getFirstHydratableChildWithinContainer,Xf=t.getFirstHydratableChildWithinSuspenseInstance,Np=t.canHydrateInstance,Vh=t.canHydrateTextInstance,Vf=t.canHydrateSuspenseInstance,qf=t.hydrateInstance,qh=t.hydrateTextInstance,Jf=t.hydrateSuspenseInstance,Wf=t.getNextHydratableInstanceAfterSuspenseInstance,Up=t.commitHydratedContainer,Op=t.commitHydratedSuspenseInstance,Zf=t.clearSuspenseBoundary,XA=t.clearSuspenseBoundaryFromContainer,ec=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var ic=t.validateHydratableInstance,$f=t.validateHydratableTextInstance,na=t.supportsResources,VA=t.isHostHoistableType,nc=t.getHoistableRoot,Jh=t.getResource,tg=t.acquireResource,xo=t.releaseResource,qA=t.hydrateHoistable,JA=t.mountHoistable,Gl=t.unmountHoistable,ac=t.createHoistableInstance,eg=t.prepareToCommitHoistables,ig=t.mayResourceSuspendCommit,Qo=t.preloadResource,ng=t.suspendResource,Le=t.supportsSingletons,ja=t.resolveSingletonInstance,Lr=t.clearSingleton,ag=t.acquireSingletonInstance,Fr=t.releaseSingletonInstance,fs=t.isHostSingletonType,Ei=[],er=-1,Pr={},Sn=Math.clz32?Math.clz32:D,sg=Math.log,rg=Math.LN2,gs=128,vo=4194304,WA=ia.unstable_scheduleCallback,sc=ia.unstable_cancelCallback,og=ia.unstable_shouldYield,rc=ia.unstable_requestPaint,Sa=ia.unstable_now,oc=ia.unstable_ImmediatePriority,lg=ia.unstable_UserBlockingPriority,lc=ia.unstable_NormalPriority,Hp=ia.unstable_IdlePriority,Ag=ia.log,Xi=ia.unstable_setDisableYieldValue,yi=null,jn=null,Xn=typeof Object.is=="function"?Object.is:Bt,Wh=new WeakMap,bo=[],So=0,To=null,Nl=0,aa=[],sa=0,zr=null,Xa=1,Va="",Gi=S(null),Ul=S(null),ps=S(null),Ro=S(null),sn=null,rn=null,Ie=!1,Ta=null,Vi=!1,ZA=Error(s(519)),Ra=[],Do=0,qa=0,$A=null,ir=null,Mo=!1,je=!1,Zh=!1,Ol=0,Hl=null,wo=0,ra=0,Go=null,nr=!1,No=!1,ms=Object.prototype.hasOwnProperty,kl=Error(s(460)),tu=Error(s(474)),eu={then:function(){}},Yr=null,Kr=null,jr=0,Xr=ka(!0),Es=ka(!1),Xe=S(null),Ll=S(0),oa=S(null),Fe=null,Ni=S(0),ar=0,de=null,qt=null,Qe=null,Da=!1,Uo=!1,Vr=!1,Ac=0,Oo=0,qi=null,Ja=0,uc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},di={readContext:$i,use:Br,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze};di.useCacheRefresh=Ze,di.useMemoCache=Ze,di.useHostTransitionStatus=Ze,di.useFormState=Ze,di.useActionState=Ze,di.useOptimistic=Ze;var qr={readContext:$i,use:Br,useCallback:function(o,A){return ni().memoizedState=[o,A===void 0?null:A],o},useContext:$i,useEffect:Eo,useImperativeHandle:function(o,A,g){g=g!=null?g.concat([o]):null,Fa(4194308,4,Iu.bind(null,A,o),g)},useLayoutEffect:function(o,A){return Fa(4194308,4,o,A)},useInsertionEffect:function(o,A){Fa(4,2,o,A)},useMemo:function(o,A){var g=ni();A=A===void 0?null:A;var E=o();if(Vr){Z(!0);try{o()}finally{Z(!1)}}return g.memoizedState=[E,A],E},useReducer:function(o,A,g){var E=ni();if(g!==void 0){var I=g(A);if(Vr){Z(!0);try{g(A)}finally{Z(!1)}}}else I=A;return E.memoizedState=E.baseState=I,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:I},E.queue=o,o=o.dispatch=xu.bind(null,de,o),[E.memoizedState,o]},useRef:function(o){var A=ni();return o={current:o},A.memoizedState=o},useState:function(o){o=G(o);var A=o.queue,g=ah.bind(null,de,A);return A.dispatch=g,[o.memoizedState,g]},useDebugValue:Cr,useDeferredValue:function(o,A){var g=ni();return mA(g,o,A)},useTransition:function(){var o=G(!1);return o=ol.bind(null,de,o.queue,!0,!1),ni().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,A,g){var E=de,I=ni();if(Ie){if(g===void 0)throw Error(s(407));g=g()}else{if(g=A(),we===null)throw Error(s(349));(ye&60)!==0||La(E,A,g)}I.memoizedState=g;var Q={value:g,getSnapshot:A};return I.queue=Q,Eo(Os.bind(null,E,Q,o),[o]),E.flags|=2048,$e(9,Hn.bind(null,E,Q,g,A),{destroy:void 0},null),g},useId:function(){var o=ni(),A=we.identifierPrefix;if(Ie){var g=Va,E=Xa;g=(E&~(1<<32-Sn(E)-1)).toString(32)+g,A=":"+A+"R"+g,g=Ac++,0<g&&(A+="H"+g.toString(32)),A+=":"}else g=Ja++,A=":"+A+"r"+g.toString(32)+":";return o.memoizedState=A},useCacheRefresh:function(){return ni().memoizedState=nh.bind(null,de)}};qr.useMemoCache=fA,qr.useHostTransitionStatus=EA,qr.useFormState=wt,qr.useActionState=wt,qr.useOptimistic=function(o){var A=ni();A.memoizedState=A.baseState=o;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return A.queue=g,A=Al.bind(null,de,!0,g),g.dispatch=A,[o,A]};var Tn={readContext:$i,use:Br,useCallback:yo,useContext:$i,useEffect:rl,useImperativeHandle:_u,useInsertionEffect:tf,useLayoutEffect:pA,useMemo:eh,useReducer:Ca,useRef:kn,useState:function(){return Ca(Cn)},useDebugValue:Cr,useDeferredValue:function(o,A){var g=ci();return ih(g,qt.memoizedState,o,A)},useTransition:function(){var o=Ca(Cn)[0],A=ci().memoizedState;return[typeof o=="boolean"?o:yr(o),A]},useSyncExternalStore:sl,useId:ll};Tn.useCacheRefresh=Hs,Tn.useMemoCache=fA,Tn.useHostTransitionStatus=EA,Tn.useFormState=Pt,Tn.useActionState=Pt,Tn.useOptimistic=function(o,A){var g=ci();return K(g,qt,o,A)};var la={readContext:$i,use:Br,useCallback:yo,useContext:$i,useEffect:rl,useImperativeHandle:_u,useInsertionEffect:tf,useLayoutEffect:pA,useMemo:eh,useReducer:mo,useRef:kn,useState:function(){return mo(Cn)},useDebugValue:Cr,useDeferredValue:function(o,A){var g=ci();return qt===null?mA(g,o,A):ih(g,qt.memoizedState,o,A)},useTransition:function(){var o=mo(Cn)[0],A=ci().memoizedState;return[typeof o=="boolean"?o:yr(o),A]},useSyncExternalStore:sl,useId:ll};la.useCacheRefresh=Hs,la.useMemoCache=fA,la.useHostTransitionStatus=EA,la.useFormState=xe,la.useActionState=xe,la.useOptimistic=function(o,A){var g=ci();return qt!==null?K(g,qt,o,A):(g.baseState=o,[o,g.queue.dispatch])};var ys={isMounted:function(o){return(o=o._reactInternals)?B(o)===o:!1},enqueueSetState:function(o,A,g){o=o._reactInternals;var E=pi(),I=Wi(E);I.payload=A,g!=null&&(I.callback=g),A=Yi(o,I,E),A!==null&&(ji(A,o,E),An(A,o,E))},enqueueReplaceState:function(o,A,g){o=o._reactInternals;var E=pi(),I=Wi(E);I.tag=1,I.payload=A,g!=null&&(I.callback=g),A=Yi(o,I,E),A!==null&&(ji(A,o,E),An(A,o,E))},enqueueForceUpdate:function(o,A){o=o._reactInternals;var g=pi(),E=Wi(g);E.tag=2,A!=null&&(E.callback=A),A=Yi(o,E,g),A!==null&&(ji(A,o,g),An(A,o,g))}},cc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}},hc=Error(s(461)),Pe=!1,dc={dehydrated:null,treeContext:null,retryLane:0},sr=S(null),Wa=null,Aa=null,Fl=typeof AbortController<"u"?AbortController:function(){var o=[],A=this.signal={aborted:!1,addEventListener:function(g,E){o.push(E)}};this.abort=function(){A.aborted=!0,o.forEach(function(g){return g()})}},ug=ia.unstable_scheduleCallback,cg=ia.unstable_NormalPriority,Ve={$$typeof:Ya,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},$h=te.S;te.S=function(o,A){typeof A=="object"&&A!==null&&typeof A.then=="function"&&Jn(o,A),$h!==null&&$h(o,A)};var Bs=S(null),Cs=!1,fi=!1,td=!1,Me=typeof WeakSet=="function"?WeakSet:Set,se=null,ge=!1,Vt=null,ce=!1,li=null,ua=8192,Pl={getCacheForType:function(o){var A=$i(Ve),g=A.data.get(o);return g===void 0&&(g=o(),A.data.set(o,g)),g}},zl=0,Ma=1,ti=2,Za=3,Is=4;if(typeof Symbol=="function"&&Symbol.for){var Ho=Symbol.for;zl=Ho("selector.component"),Ma=Ho("selector.has_pseudo_class"),ti=Ho("selector.role"),Za=Ho("selector.test_id"),Is=Ho("selector.text")}var wa=typeof WeakMap=="function"?WeakMap:Map,ve=0,we=null,Jt=null,ye=0,ke=0,hn=null,Ga=!1,ca=!1,Ui=!1,dn=0,ze=0,ha=0,rr=0,iu=0,da=0,_s=0,ko=null,gi=null,fc=!1,Rn=0,Yl=1/0,nu=null,Jr=null,$a=!1,xs=null,Lo=0,Wr=0,gc=null,Kl=0,pc=null;return le.attemptContinuousHydration=function(o){if(o.tag===13){var A=ii(o,67108864);A!==null&&ji(A,o,67108864),kA(o,67108864)}},le.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var A=pi(),g=ii(o,A);g!==null&&ji(g,o,A),kA(o,A)}},le.attemptSynchronousHydration=function(o){switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var A=F(o.pendingLanes);if(A!==0){for(o.pendingLanes|=2,o.entangledLanes|=2;A;){var g=1<<31-Sn(A);o.entanglements[1]|=g,A&=~g}Gn(o),(ve&6)===0&&(Yl=Sa()+500,Nn(0))}}break;case 13:A=ii(o,2),A!==null&&ji(A,o,2),NA(),kA(o,2)}},le.batchedUpdates=function(o,A){return o(A)},le.createComponentSelector=function(o){return{$$typeof:zl,value:o}},le.createContainer=function(o,A,g,E,I,Q,k,Y,et,dt){return If(o,A,!1,null,g,E,Q,k,Y,et,dt,null)},le.createHasPseudoClassSelector=function(o){return{$$typeof:Ma,value:o}},le.createHydrationContainer=function(o,A,g,E,I,Q,k,Y,et,dt,Tt,Mt,Nt){return o=If(g,E,!0,o,I,Q,Y,et,dt,Tt,Mt,Nt),o.context=Qi(null),g=o.current,E=pi(),I=Wi(E),I.callback=A??null,Yi(g,I,E),o.current.lanes=E,L(o,E),Gn(o),o},le.createPortal=function(o,A,g){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qa,key:E==null?null:""+E,children:o,containerInfo:A,implementation:g}},le.createRoleSelector=function(o){return{$$typeof:ti,value:o}},le.createTestNameSelector=function(o){return{$$typeof:Za,value:o}},le.createTextSelector=function(o){return{$$typeof:Is,value:o}},le.defaultOnCaughtError=function(o){},le.defaultOnRecoverableError=function(o){cc(o)},le.defaultOnUncaughtError=function(o){cc(o)},le.deferredUpdates=function(o){var A=te.T,g=$s();try{return cn(32),te.T=null,o()}finally{cn(g),te.T=A}},le.discreteUpdates=function(o,A,g,E,I){var Q=te.T,k=$s();try{return cn(2),te.T=null,o(A,g,E,I)}finally{cn(k),te.T=Q,ve===0&&(Yl=Sa()+500)}},le.findAllNodes=wA,le.findBoundingRects=function(o,A){if(!kr)throw Error(s(363));A=wA(o,A),o=[];for(var g=0;g<A.length;g++)o.push(kh(A[g]));for(A=o.length-1;0<A;A--){g=o[A];for(var E=g.x,I=E+g.width,Q=g.y,k=Q+g.height,Y=A-1;0<=Y;Y--)if(A!==Y){var et=o[Y],dt=et.x,Tt=dt+et.width,Mt=et.y,Nt=Mt+et.height;if(E>=dt&&Q>=Mt&&I<=Tt&&k<=Nt){o.splice(A,1);break}else if(E!==dt||g.width!==et.width||Nt<Q||Mt>k){if(!(Q!==Mt||g.height!==et.height||Tt<E||dt>I)){dt>E&&(et.width+=dt-E,et.x=E),Tt<I&&(et.width=I-dt),o.splice(A,1);break}}else{Mt>Q&&(et.height+=Mt-Q,et.y=Q),Nt<k&&(et.height=k-Mt),o.splice(A,1);break}}}return o},le.findHostInstance=Pu,le.findHostInstanceWithNoPortals=function(o){return o=x(o),o=o!==null?T(o):null,o===null?null:Tl(o.stateNode)},le.findHostInstanceWithWarning=function(o){return Pu(o)},le.flushPassiveEffects=za,le.flushSyncFromReconciler=function(o){var A=ve;ve|=1;var g=te.T,E=$s();try{if(cn(2),te.T=null,o)return o()}finally{cn(E),te.T=g,ve=A,(ve&6)===0&&Nn(0)}},le.flushSyncWork=NA,le.focusWithin=function(o,A){if(!kr)throw Error(s(363));for(o=yl(o),A=Yn(o,A),A=Array.from(A),o=0;o<A.length;){var g=A[o++],E=g.tag;if(!Dl(g)){if((E===5||E===26||E===27)&&Df(g.stateNode))return!0;for(g=g.child;g!==null;)A.push(g),g=g.sibling}}return!1},le.getFindAllNodesFailureDescription=function(o,A){if(!kr)throw Error(s(363));var g=0,E=[];o=[yl(o),0];for(var I=0;I<o.length;){var Q=o[I++],k=Q.tag,Y=o[I++],et=A[Y];if((k!==5&&k!==26&&k!==27||!Dl(Q))&&(Rr(Q,et)&&(E.push(Ih(et)),Y++,Y>g&&(g=Y)),Y<A.length))for(Q=Q.child;Q!==null;)o.push(Q,Y),Q=Q.sibling}if(g<A.length){for(o=[];g<A.length;g++)o.push(Ih(A[g]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},le.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 27:case 5:return Tl(o.child.stateNode);default:return o.child.stateNode}},le.injectIntoDevTools=function(){var o={bundleType:0,version:wh,rendererPackageName:YA,currentDispatcherRef:te,findFiberByHostInstance:vf,reconcilerVersion:"19.0.0"};if(Sl!==null&&(o.rendererConfig=Sl),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var A=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(A.isDisabled||!A.supportsFiber)o=!0;else{try{yi=A.inject(o),jn=A}catch{}o=!!A.checkDCE}}return o},le.isAlreadyRendering=function(){return!1},le.observeVisibleRects=function(o,A,g,E){if(!kr)throw Error(s(363));o=wA(o,A);var I=Mf(o,g,E).disconnect;return{disconnect:function(){I()}}},le.shouldError=function(){return null},le.shouldSuspend=function(){return!1},le.startHostTransition=function(o,A,g,E){if(o.tag!==5)throw Error(s(476));var I=As(o).queue;ol(o,I,A,Hr,g===null?n:function(){var Q=As(o).next.queue;return Ir(o,Q,{},pi()),g(E)})},le.updateContainer=function(o,A,g,E){var I=A.current,Q=pi();return _l(I,Q,o,A,g,E),Q},le.updateContainerSync=function(o,A,g,E){return A.tag===0&&za(),_l(A.current,2,o,A,g,E),2},le},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})}(rE)),rE.exports}var YC;function Fw(){return YC||(YC=1,sE.exports=Lw()),sE.exports}var Pw=Fw();const zw=jd(Pw),Yw=zw;function Kw(i,t,e,n){throw new Error("Text instances are not yet supported. Please use a `<text>` component.")}function jw(){}function Xw(){return!1}const mv={};function Vw(i){return i??mv}function qw(){return aA.currentUpdatePriority}function Jw(){return null}function Ww(i){throw new Error("Not yet implemented.")}function Zw(i){return i}function $w(){return mv}function tG(i){i instanceof He?i.visible=!1:i instanceof lA&&(i.enabled=!1)}function eG(i){throw new Error("Text instances are not yet supported. Please use a `<text>` component.")}function Ev(i){if(i instanceof lA){const t=i.__pixireact.parent;if(t){const e=t.__pixireact.filters.indexOf(i);t.__pixireact.filters.splice(e,1),t.filters=t.__pixireact.filters}i.__pixireact.parent=null}}function iG(i,t,...e){}function KC(i,t,e){if(iG(),t instanceof He){const n=t,s=t,l=e;n.parent===i&&i.removeChild(s);const c=i.getChildIndex(l);i.addChildAt(s,c)}else if(t instanceof lA){const l=t.__pixireact.filters.indexOf(e);Ev(t),cv(i,t,l)}}function nG(){return!1}function aG(){return!0}function sG(){return null}function rG(){}function oG(){}function jC(i,t){t instanceof lA&&Ev(t),t.destroy()}function lG(i){}function AG(){}function uG(){}function cG(){return-1.1}function hG(){return null}function dG(){if(aA.currentUpdatePriority)return aA.currentUpdatePriority;const i=typeof self<"u"&&self||typeof window<"u"&&window;if(!i)return Dc.DefaultEventPriority;switch(i.event?.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Dc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Dc.ContinuousEventPriority;default:return Dc.DefaultEventPriority}}function fG(i){aA.currentUpdatePriority=i}function gG(){return!1}function pG(){return!1}function mG(){}function EG(){}function yG(){}function BG(i){i instanceof He?i.visible=!0:i instanceof lA&&(i.enabled=!0)}function CG(i){throw new Error("Text instances are not yet supported. Please use a `<text>` component.")}function IG(){return null}const _G={isPrimaryRenderer:!1,noTimeout:-1,NotPendingTransition:null,supportsHydration:!1,supportsMutation:!0,supportsPersistence:!1,warnsIfNotActing:!1,afterActiveInstanceBlur:yw,appendChild:aE,appendChildToContainer:aE,appendInitialChild:aE,beforeActiveInstanceBlur:Bw,cancelTimeout:clearTimeout,clearContainer:Cw,commitUpdate:Mw,createInstance:Ow,createTextInstance:Kw,hideTextInstance:eG,unhideTextInstance:CG,detachDeletedInstance:jw,finalizeInitialChildren:Xw,getChildHostContext:Vw,getCurrentUpdatePriority:qw,getInstanceFromNode:Jw,getInstanceFromScope:Ww,getPublicInstance:Zw,getRootHostContext:$w,hideInstance:tG,insertBefore:KC,insertInContainerBefore:KC,maySuspendCommit:nG,preloadInstance:aG,prepareForCommit:sG,preparePortalMount:rG,prepareScopeUpdate:oG,removeChild:jC,removeChildFromContainer:jC,requestPostPaintCallback:lG,resetAfterCommit:AG,resetFormInstance:uG,resolveEventTimeStamp:cG,resolveEventType:hG,resolveUpdatePriority:dG,scheduleTimeout:setTimeout,shouldAttemptEagerTransition:gG,setCurrentUpdatePriority:fG,shouldSetTextContent:pG,startSuspendingCommit:mG,suspendInstance:EG,trackSchedulerEvent:yG,unhideInstance:BG,waitForCommitToBeReady:IG},pp=Yw(_G);pp.injectIntoDevTools({bundleType:0,rendererPackageName:"@pixi/react",version:Ew.version});const Vc=new Map;function xG(i,t={}){let e=Vc.get(i),n=e?.applicationState??{isInitialised:!1,isInitialising:!1};const s=e?.internalState??{};e||(n.app=new v_,s.rootContainer=uv(n.app.stage));const l=e?.fiber??pp.createContainer(s.rootContainer,Dc.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null);if(!e){let c;i instanceof HTMLCanvasElement&&(c=i),c||(c=document.createElement("canvas"),i.innerHTML="",i.appendChild(c)),s.canvas=c,e={applicationState:n,fiber:l,internalState:s,render:async(f,p)=>(!n.app.renderer&&!n.isInitialised&&!n.isInitialising&&(n.isInitialising=!0,await n.app.init({...p,canvas:c}),n.isInitialising=!1,n.isInitialised=!0,n={...n},t.onInit?.(n.app)),Object.entries(p).forEach(([y,B])=>{const _=y;Av(p,_)||(n.app[_]=B)}),pp.updateContainer(w.jsx(pw,{value:n,children:f}),l,null,()=>{}),n.app)},Vc.set(c,e)}return e}function yv(i){aA.unmountQueue.delete(i);const t=i.fiber;t&&pp.updateContainer(null,t,null,()=>{i.applicationState.app&&i.applicationState.app.destroy(),Vc.delete(i.internalState.canvas)})}function QG(){for(const i of aA.unmountQueue)yv(i)}function vG(i){const t=Vc.get(i);t&&(t.applicationState.isInitialised?yv(t):aA.unmountQueue.add(t))}function bG(i){const t=Vc.get(i);t&&aA.unmountQueue.delete(t)}const Vg=typeof window<"u"&&(window.document?.createElement||window.navigator?.product==="ReactNative")?pt.useLayoutEffect:pt.useEffect,SG={...Ri.defaultTextStyle},TG=pt.forwardRef(function(t,e){const{children:n,className:s,defaultTextStyle:l,extensions:c,onInit:h,resizeTo:f,...p}=t,y=Ob(),B=pt.useRef(null),_=pt.useRef(null),x=pt.useRef(new Set);pt.useImperativeHandle(e,()=>({getApplication(){return B.current},getCanvas(){return _.current}}));const v=pt.useCallback(()=>{const S=B.current;S&&(f?"current"in f?f.current instanceof HTMLElement&&(S.resizeTo=f.current):S.resizeTo=f:S.resizeTo=void 0)},[f]),T=pt.useCallback(S=>{QG(),B.current=S,v(),h?.(S)},[h]);return Vg(()=>{if(c){const S=[...c],R=x.current;for(const O of R.values()){const D=S.indexOf(O);D===-1&&(Xt.remove(O),R.delete(O)),S.splice(D,1)}for(const O in S)Xt.add(O),R.add(O)}},[c]),Vg(()=>{const S=_.current;if(S){let R=Vc.get(S);R||(R=xG(S,{onInit:T})),R.render(w.jsx(y,{children:n}),p)}},[p,n,T,f]),Vg(()=>{v()},[f]),Vg(()=>{l?Object.assign(Ri.defaultTextStyle,l):Object.assign(Ri.defaultTextStyle,SG)},[l]),pt.useEffect(()=>{const S=_.current;if(S)return bG(S),()=>{vG(S)}},[]),w.jsx("canvas",{ref:_,className:s})}),RG=pt.forwardRef(function(t,e){return w.jsx(RI,{children:w.jsx(TG,{ref:e,...t})})});function Qp(i){Object.assign(JE,i)}class DG{_masterVolume=1;_musicVolume=.7;_sfxVolume=.8;_muted=!1;_currentMusicTrack=null;_fallbackMode=!1;currentMusic=null;soundCache=new Map;_isInitialized=!1;constructor(t){t&&(this._masterVolume=t.masterVolume??1,this._musicVolume=t.musicVolume??.7,this._sfxVolume=t.sfxVolume??.8)}get isInitialized(){return this._isInitialized}get fallbackMode(){return this._fallbackMode}get currentMusicTrack(){return this._currentMusicTrack}get masterVolume(){return this._masterVolume}get sfxVolume(){return this._sfxVolume}get musicVolume(){return this._musicVolume}get muted(){return this._muted}async initialize(t){try{new(window.AudioContext||window.webkitAudioContext),this._isInitialized=!0,this._fallbackMode=!1,t&&(this._masterVolume=t.masterVolume??this._masterVolume,this._musicVolume=t.musicVolume??this._musicVolume,this._sfxVolume=t.sfxVolume??this._sfxVolume)}catch{this._isInitialized=!0,this._fallbackMode=!0}}async loadAsset(t){try{const e=new Audio(t.url);e.volume=t.volume||1,e.preload="auto",this.soundCache.set(t.id,e)}catch{}}async playSoundEffect(t){if(this._muted)return;const e=this.soundCache.get(t);if(e)try{e.currentTime=0,e.volume=this._sfxVolume*this._masterVolume,await e.play()}catch{}}async playSFX(t,e){if(this._muted)return;const n=this.soundCache.get(t);if(n)try{n.currentTime=0,n.volume=(e??this._sfxVolume)*this._masterVolume,await n.play()}catch{}}async playMusic(t,e){if(this._muted)return;this.stopMusic();const n=this.soundCache.get(t);if(n)try{n.currentTime=0,n.volume=(e??this._musicVolume)*this._masterVolume,n.loop=!0,this.currentMusic=n,this._currentMusicTrack=t,await n.play()}catch{}}stopMusic(){this.currentMusic&&(this.currentMusic.pause(),this.currentMusic.currentTime=0,this.currentMusic=null,this._currentMusicTrack=null)}stopAll(){this.stopMusic(),this.soundCache.forEach(t=>{t.paused||(t.pause(),t.currentTime=0)})}setVolume(t,e){const n=Math.max(0,Math.min(1,e));switch(t){case"master":this._masterVolume=n;break;case"sfx":this._sfxVolume=n;break;case"music":this._musicVolume=n,this.currentMusic&&(this.currentMusic.volume=this._musicVolume*this._masterVolume);break}}mute(){this._muted=!0,this.currentMusic&&(this.currentMusic.volume=0)}unmute(){this._muted=!1,this.currentMusic&&(this.currentMusic.volume=this._musicVolume*this._masterVolume)}async fadeOut(t=1e3){if(this.currentMusic)return new Promise(e=>{const s=this.currentMusic.volume/(t/50),l=setInterval(()=>{this.currentMusic&&this.currentMusic.volume>0?this.currentMusic.volume=Math.max(0,this.currentMusic.volume-s):(clearInterval(l),this.stopMusic(),e())},50)})}async fadeIn(t,e=1e3){if(await this.playMusic(t,0),!!this.currentMusic)return new Promise(n=>{const s=this._musicVolume*this._masterVolume,l=s/(e/50),c=setInterval(()=>{this.currentMusic&&this.currentMusic.volume<s?this.currentMusic.volume=Math.min(s,this.currentMusic.volume+l):(clearInterval(c),n())},50)})}async crossfade(t,e,n=1e3){await this.fadeOut(n),await this.fadeIn(e,n)}getLoadedAssets(){return new Map(this.soundCache)}async playVoice(t){return this.playSoundEffect(t)}async playKoreanTechniqueSound(t,e){const n=`${e}_${t}`;return this.playSoundEffect(n)}async playTrigramStanceSound(t){const e=`stance_${t}`;return this.playSoundEffect(e)}async playVitalPointHitSound(t){const e=`vital_point_${t}`;return this.playSoundEffect(e)}async playDojiangAmbience(){return this.playMusic("dojang_ambience")}getMasterVolume(){return this._masterVolume}getMusicVolume(){return this._musicVolume}getSfxVolume(){return this._sfxVolume}get initialized(){return this._isInitialized}}var Ti=(i=>(i.SFX="sfx",i.MUSIC="music",i.VOICE="voice",i.UI="ui",i))(Ti||{});const MG=[{id:"attack_light",name:"Light Attack",type:"sound",url:"/assets/audio/sfx/attack_light.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.7,category:Ti.SFX,pitch:1},{id:"attack_medium",name:"Medium Attack",type:"sound",url:"/assets/audio/sfx/attack_medium.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.8,category:Ti.SFX,pitch:1},{id:"attack_heavy",name:"Heavy Attack",type:"sound",url:"/assets/audio/sfx/attack_heavy.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.9,category:Ti.SFX,pitch:.8},{id:"stance_change",name:"Stance Change",type:"sound",url:"/assets/audio/sfx/stance_change.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.6,category:Ti.SFX,pitch:1.2},{id:"block_success",name:"Successful Block",type:"sound",url:"/assets/audio/sfx/block_success.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.7,category:Ti.SFX,pitch:1.1},{id:"vital_hit_critical",name:"Critical Vital Point Hit",type:"sound",url:"/assets/audio/sfx/vital_hit_critical.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.9,category:Ti.SFX,pitch:.8}],wG=[{id:"intro_theme",name:"Black Trigram Theme",type:"music",url:"/assets/audio/music/intro_theme.mp3",formats:["audio/mp3","audio/webm"],loaded:!1,title:{korean:"흑괘 테마",english:"Black Trigram Theme"},volume:.7,loop:!0,category:Ti.MUSIC,bpm:90},{id:"combat_theme",name:"Combat Music",type:"music",url:"/assets/audio/music/combat_theme.mp3",formats:["audio/mp3","audio/webm"],loaded:!1,title:{korean:"전투 음악",english:"Combat Music"},volume:.8,loop:!0,category:Ti.MUSIC,bpm:140},{id:"dojang_ambience",name:"Dojang Atmosphere",type:"music",url:"/assets/audio/music/dojang_ambience.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,title:{korean:"도장 분위기",english:"Dojang Atmosphere"},volume:.4,loop:!0,category:"music",bpm:60}],Bv=[{id:"musa_theme",name:"Traditional Warrior",type:"music",url:"/assets/audio/music/archetype_themes/musa_warrior.mp3",formats:["audio/mp3"],loaded:!1,title:{korean:"무사의 테마",english:"Warrior's Theme"},volume:.8,loop:!0,category:Ti.MUSIC,bpm:120},{id:"amsalja_theme",name:"Shadow Assassin",type:"music",url:"/assets/audio/music/archetype_themes/amsalja_shadow.mp3",formats:["audio/mp3"],loaded:!1,title:{korean:"암살자의 테마",english:"Assassin's Theme"},volume:.7,loop:!0,category:Ti.MUSIC,bpm:160},{id:"hacker_theme",name:"Cyber Warrior",type:"music",url:"/assets/audio/music/archetype_themes/hacker_cyber.mp3",formats:["audio/mp3"],loaded:!1,title:{korean:"해커의 테마",english:"Hacker's Theme"},volume:.8,loop:!0,category:Ti.MUSIC,bpm:180},{id:"jeongbo_theme",name:"Intelligence Operative",type:"music",url:"/assets/audio/music/archetype_themes/jeongbo_intel.mp3",formats:["audio/mp3"],loaded:!1,title:{korean:"정보요원의 테마",english:"Intelligence Theme"},volume:.7,loop:!0,category:Ti.MUSIC,bpm:100},{id:"jojik_theme",name:"Organized Crime",type:"music",url:"/assets/audio/music/archetype_themes/jojik_street.mp3",formats:["audio/mp3"],loaded:!1,title:{korean:"조직폭력배의 테마",english:"Crime Fighter's Theme"},volume:.8,loop:!0,category:Ti.MUSIC,bpm:140}],Cv=[{id:"geon_technique",name:"Heaven Technique",type:"sound",url:"/assets/audio/sfx/techniques/geon_heaven.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.8,category:Ti.SFX,pitch:1},{id:"tae_technique",name:"Lake Technique",type:"sound",url:"/assets/audio/sfx/techniques/tae_lake.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.7,category:Ti.SFX,pitch:1.1},{id:"li_technique",name:"Fire Technique",type:"sound",url:"/assets/audio/sfx/techniques/li_fire.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.9,category:Ti.SFX,pitch:1.3},{id:"jin_technique",name:"Thunder Technique",type:"sound",url:"/assets/audio/sfx/techniques/jin_thunder.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.9,category:Ti.SFX,pitch:.9},{id:"son_technique",name:"Wind Technique",type:"sound",url:"/assets/audio/sfx/techniques/son_wind.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.6,category:Ti.SFX,pitch:1.4},{id:"gam_technique",name:"Water Technique",type:"sound",url:"/assets/audio/sfx/techniques/gam_water.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.7,category:Ti.SFX,pitch:.8},{id:"gan_technique",name:"Mountain Technique",type:"sound",url:"/assets/audio/sfx/techniques/gan_mountain.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.8,category:Ti.SFX,pitch:.7},{id:"gon_technique",name:"Earth Technique",type:"sound",url:"/assets/audio/sfx/techniques/gon_earth.mp3",formats:["audio/mp3","audio/wav"],loaded:!1,volume:.8,category:Ti.SFX,pitch:.6}],GG=[...MG,...Cv],NG=[...wG,...Bv],UG={soundEffects:GG,musicTracks:NG,techniques:Cv,archetypeThemes:Bv},Iv=pt.createContext(null),_v=()=>{const i=pt.useContext(Iv);if(!i)throw new Error("useAudio must be inside AudioProvider");return i},q0=({children:i,config:t,manager:e})=>{const[n]=pt.useState(()=>e||new DG(t));return pt.useEffect(()=>{(async()=>{await n.initialize();const s=Object.values(UG).flat();await Promise.all(s.map(l=>n.loadAsset(l)))})()},[n]),w.jsx(Iv.Provider,{value:n,children:i})},U={PRIMARY_CYAN:65535,SECONDARY_MAGENTA:16711935,SECONDARY_YELLOW:16776960,ACCENT_GOLD:16766720,ACCENT_RED:16724787,ACCENT_GREEN:65331,ACCENT_PRIMARY:54527,ACCENT_CYAN:65535,ACCENT_ORANGE:16746547,KOREAN_RED:13111342,KOREAN_BLUE:13432,KOREAN_WHITE:16777215,KOREAN_BLACK:0,TEXT_PRIMARY:16777215,TEXT_SECONDARY:13421772,TEXT_TERTIARY:10066329,UI_BACKGROUND_DARK:1710638,UI_BACKGROUND_MEDIUM:1450302,UI_BACKGROUND_LIGHT:986915,UI_STEEL_GRAY:4871528,UI_GRAY:8421504,UI_DISABLED_BORDER:1710638,UI_DISABLED_BG:3355443,UI_DISABLED_TEXT:6710886,TRIGRAM_GEON_PRIMARY:16766720,TRIGRAM_TAE_PRIMARY:8900331,TRIGRAM_LI_PRIMARY:16729344,TRIGRAM_JIN_PRIMARY:9662683,TRIGRAM_SON_PRIMARY:3329330,TRIGRAM_GAM_PRIMARY:2003199,TRIGRAM_GAN_PRIMARY:9127187,TRIGRAM_GON_PRIMARY:3100495,NEGATIVE_RED:16711680,BLACK_SOLID:0,TRANSPARENT:0,ARENA_BACKGROUND:1710638,PLAYER_1_COLOR:52479,PLAYER_2_COLOR:16739125,NEON_CYAN:65535,NEON_PURPLE:16711935,NEON_PINK:16716947};var Ua=(i=>(i.VERSUS="versus",i.TRAINING="training",i.TUTORIAL="tutorial",i.PRACTICE="practice",i.STORY="story",i.ARCADE="arcade",i.CONTROLS="controls",i.PHILOSOPHY="philosophy",i))(Ua||{}),so=(i=>(i.MUSA="musa",i.AMSALJA="amsalja",i.HACKER="hacker",i.JEONGBO_YOWON="jeongbo_yowon",i.JOJIK_POKRYEOKBAE="jojik_pokryeokbae",i))(so||{}),bt=(i=>(i.GEON="geon",i.TAE="tae",i.LI="li",i.JIN="jin",i.SON="son",i.GAM="gam",i.GAN="gan",i.GON="gon",i))(bt||{}),Hi=(i=>(i.STRIKE="strike",i.THRUST="thrust",i.BLOCK="block",i.COUNTER_ATTACK="counter_attack",i.THROW="throw",i.GRAPPLE="grapple",i.PRESSURE_POINT="pressure_point",i.NERVE_STRIKE="nerve_strike",i.PUNCH="punch",i.KICK="kick",i.ELBOW="elbow",i.KNEE="knee",i))(Hi||{}),Xo=(i=>(i.BLUNT="blunt",i.PIERCING="piercing",i.SLASHING="slashing",i.PRESSURE="pressure",i.NERVE="nerve",i.JOINT="joint",i.INTERNAL="internal",i.IMPACT="impact",i.CRUSHING="crushing",i.SHARP="sharp",i.ELECTRIC="electric",i.FIRE="fire",i.ICE="ice",i.POISON="poison",i.PSYCHIC="psychic",i.BLOOD="blood",i))(Xo||{}),WE=(i=>(i.NEUROLOGICAL="neurological",i.VASCULAR="vascular",i.RESPIRATORY="respiratory",i.MUSCULAR="muscular",i.SKELETAL="skeletal",i.ORGAN="organ",i.CIRCULATORY="circulatory",i.LYMPHATIC="lymphatic",i.ENDOCRINE="endocrine",i.JOINT="joint",i.NERVE="nerve",i.PRESSURE="pressure",i))(WE||{}),ZE=(i=>(i.MINOR="minor",i.MODERATE="moderate",i.MAJOR="major",i.CRITICAL="critical",i.LETHAL="lethal",i))(ZE||{}),$E=(i=>(i.UNCONSCIOUSNESS="unconsciousness",i.BREATHLESSNESS="breathlessness",i.PAIN="pain",i.PARALYSIS="paralysis",i.STUN="stun",i.WEAKNESS="weakness",i.DISORIENTATION="disorientation",i.BLOOD_FLOW_RESTRICTION="blood_flow_restriction",i.NERVE_DISRUPTION="nerve_disruption",i.ORGAN_DISRUPTION="organ_disruption",i))($E||{}),t0=(i=>(i.WEAK="weak",i.MINOR="minor",i.LOW="low",i.MEDIUM="medium",i.MODERATE="moderate",i.HIGH="high",i.SEVERE="severe",i.CRITICAL="critical",i.EXTREME="extreme",i))(t0||{}),xv=(i=>(i.IDLE="idle",i.ATTACKING="attacking",i.DEFENDING="defending",i.STUNNED="stunned",i.RECOVERING="recovering",i.COUNTERING="countering",i.TRANSITIONING="transitioning",i))(xv||{});const e0={[so.MUSA]:{id:"musa",name:{korean:"무사",english:"Warrior"},description:{korean:"전통 무사의 길",english:"Path of the traditional warrior"},baseHealth:120,baseKi:100,baseStamina:110,coreStance:bt.GEON,theme:{primary:U.TRIGRAM_GEON_PRIMARY,secondary:U.KOREAN_RED},colors:{primary:U.TRIGRAM_GEON_PRIMARY,secondary:U.KOREAN_RED},stats:{attackPower:85,defense:90,speed:70,technique:80},favoredStances:[bt.GEON,bt.GAN],specialAbilities:["Honor Strike","Defensive Mastery"],philosophy:{korean:"명예와 정의의 길",english:"The way of honor and justice"}},[so.AMSALJA]:{id:"amsalja",name:{korean:"암살자",english:"Assassin"},description:{korean:"그림자 속의 효율성",english:"Efficiency from the shadows"},baseHealth:80,baseKi:120,baseStamina:100,coreStance:bt.SON,theme:{primary:U.TRIGRAM_SON_PRIMARY,secondary:U.UI_BACKGROUND_DARK},colors:{primary:U.TRIGRAM_SON_PRIMARY,secondary:U.UI_BACKGROUND_DARK},stats:{attackPower:95,defense:60,speed:95,technique:90},favoredStances:[bt.SON,bt.GAM],specialAbilities:["Shadow Strike","Vital Point Mastery"],philosophy:{korean:"침묵과 정확성의 도",english:"The way of silence and precision"}},[so.HACKER]:{id:"hacker",name:{korean:"해커",english:"Hacker"},description:{korean:"정보를 통한 힘",english:"Power through information"},baseHealth:90,baseKi:130,baseStamina:80,coreStance:bt.LI,theme:{primary:U.PRIMARY_CYAN,secondary:U.TRIGRAM_LI_PRIMARY},colors:{primary:U.PRIMARY_CYAN,secondary:U.TRIGRAM_LI_PRIMARY},stats:{attackPower:75,defense:70,speed:85,technique:95},favoredStances:[bt.LI,bt.JIN],specialAbilities:["System Override","Digital Precision"],philosophy:{korean:"지식과 기술의 융합",english:"The fusion of knowledge and technology"}},[so.JEONGBO_YOWON]:{id:"jeongbo_yowon",name:{korean:"정보요원",english:"Agent"},description:{korean:"관찰을 통한 지식",english:"Knowledge through observation"},baseHealth:100,baseKi:110,baseStamina:100,coreStance:bt.TAE,theme:{primary:U.TRIGRAM_TAE_PRIMARY,secondary:U.UI_STEEL_GRAY},colors:{primary:U.TRIGRAM_TAE_PRIMARY,secondary:U.UI_STEEL_GRAY},stats:{attackPower:80,defense:85,speed:80,technique:85},favoredStances:[bt.TAE,bt.GAN],specialAbilities:["Intel Gathering","Adaptive Combat"],philosophy:{korean:"적응과 전략의 예술",english:"The art of adaptation and strategy"}},[so.JOJIK_POKRYEOKBAE]:{id:"jojik_pokryeokbae",name:{korean:"조직폭력배",english:"Gangster"},description:{korean:"무자비함을 통한 생존",english:"Survival through ruthlessness"},baseHealth:110,baseKi:90,baseStamina:120,coreStance:bt.JIN,theme:{primary:U.TRIGRAM_JIN_PRIMARY,secondary:U.NEGATIVE_RED},colors:{primary:U.TRIGRAM_JIN_PRIMARY,secondary:U.NEGATIVE_RED},stats:{attackPower:90,defense:75,speed:75,technique:70},favoredStances:[bt.JIN,bt.GON],specialAbilities:["Brutal Force","Street Fighting"],philosophy:{korean:"강함과 의지의 길",english:"The way of strength and will"}}},XC={[bt.GEON]:[{id:"geon_heaven_strike",name:{korean:"천둥벽력",english:"Thunder Strike",romanized:"cheondung_byeokryeok"},koreanName:"천둥벽력",englishName:"Thunder Strike",romanized:"cheondung_byeokryeok",description:{korean:"하늘의 힘을 담은 직접적인 타격",english:"Direct strike imbued with heavenly power"},stance:bt.GEON,type:Hi.STRIKE,damageType:Xo.BLUNT,damage:30,kiCost:15,staminaCost:20,accuracy:.8,range:1.2,executionTime:800,recoveryTime:1200,critChance:.1,critMultiplier:1.5,effects:[]}],[bt.TAE]:[{id:"tae_flowing_strikes",name:{korean:"유수연타",english:"Flowing Strikes",romanized:"yusu_yeonta"},koreanName:"유수연타",englishName:"Flowing Strikes",romanized:"yusu_yeonta",description:{korean:"물의 흐름처럼 연속적인 타격",english:"Continuous strikes like flowing water"},stance:bt.TAE,type:Hi.STRIKE,damageType:Xo.BLUNT,damage:25,kiCost:12,staminaCost:18,accuracy:.85,range:1,executionTime:600,recoveryTime:1e3,critChance:.08,critMultiplier:1.3,effects:[]}],[bt.LI]:[{id:"li_flame_spear",name:{korean:"화염지창",english:"Flame Spear",romanized:"hwayeom_jichang"},koreanName:"화염지창",englishName:"Flame Spear",romanized:"hwayeom_jichang",description:{korean:"불꽃처럼 정확하고 날카로운 공격",english:"Precise and sharp attack like flame"},stance:bt.LI,type:Hi.THRUST,damageType:Xo.PIERCING,damage:35,kiCost:18,staminaCost:15,accuracy:.9,range:1.5,executionTime:700,recoveryTime:1100,critChance:.15,critMultiplier:1.8,effects:[]}],[bt.JIN]:[{id:"jin_lightning_flash",name:{korean:"벽력일섬",english:"Lightning Flash",romanized:"byeokryeok_ilseom"},koreanName:"벽력일섬",englishName:"Lightning Flash",romanized:"byeokryeok_ilseom",description:{korean:"번개처럼 빠른 일격",english:"Swift strike like lightning"},stance:bt.JIN,type:Hi.STRIKE,damageType:Xo.BLUNT,damage:28,kiCost:10,staminaCost:25,accuracy:.75,range:1,executionTime:500,recoveryTime:800,critChance:.12,critMultiplier:1.6,effects:[]}],[bt.SON]:[{id:"son_whirlwind_barrage",name:{korean:"선풍연격",english:"Whirlwind Barrage",romanized:"seonpung_yeongyeok"},koreanName:"선풍연격",englishName:"Whirlwind Barrage",romanized:"seonpung_yeongyeok",description:{korean:"바람처럼 연속적인 공격",english:"Continuous attacks like wind"},stance:bt.SON,type:Hi.STRIKE,damageType:Xo.BLUNT,damage:22,kiCost:8,staminaCost:30,accuracy:.7,range:.8,executionTime:400,recoveryTime:600,critChance:.06,critMultiplier:1.2,effects:[]}],[bt.GAM]:[{id:"gam_water_counter",name:{korean:"수류반격",english:"Water Counter",romanized:"suryu_bangyeok"},koreanName:"수류반격",englishName:"Water Counter",romanized:"suryu_bangyeok",description:{korean:"물의 흐름으로 적의 공격을 받아넘기는 반격",english:"Counter-attack that flows like water"},stance:bt.GAM,type:Hi.COUNTER_ATTACK,damageType:Xo.BLUNT,damage:32,kiCost:20,staminaCost:12,accuracy:.85,range:.9,executionTime:600,recoveryTime:900,critChance:.18,critMultiplier:1.7,effects:[]}],[bt.GAN]:[{id:"gan_rock_defense",name:{korean:"반석방어",english:"Rock Defense",romanized:"banseok_bangeo"},koreanName:"반석방어",englishName:"Rock Defense",romanized:"banseok_bangeo",description:{korean:"바위처럼 견고한 방어 자세",english:"Solid defense like a rock"},stance:bt.GAN,type:Hi.BLOCK,damageType:Xo.BLUNT,damage:15,kiCost:5,staminaCost:8,accuracy:.95,range:.5,executionTime:300,recoveryTime:500,critChance:.02,critMultiplier:1,effects:[]}],[bt.GON]:[{id:"gon_earth_embrace",name:{korean:"대지포옹",english:"Earth Embrace",romanized:"daeji_pooong"},koreanName:"대지포옹",englishName:"Earth Embrace",romanized:"daeji_pooong",description:{korean:"대지의 힘으로 상대를 제압하는 기술",english:"Grappling technique using earth's power"},stance:bt.GON,type:Hi.GRAPPLE,damageType:Xo.BLUNT,damage:26,kiCost:16,staminaCost:22,accuracy:.72,range:.7,executionTime:900,recoveryTime:1300,critChance:.08,critMultiplier:1.4,effects:[]}]};Hi.STRIKE+"",Hi.THRUST+"",Hi.BLOCK+"",Hi.COUNTER_ATTACK+"",Hi.THROW+"",Hi.GRAPPLE+"",Hi.PRESSURE_POINT+"",Hi.NERVE_STRIKE+"",Hi.PUNCH+"",Hi.KICK+"",Hi.ELBOW+"",Hi.KNEE+"";bt.GEON+"",bt.TAE+"",bt.LI+"",bt.JIN+"",bt.SON+"",bt.GAM+"",bt.GAN+"",bt.GON+"";bt.GEON+"",bt.GON+"",bt.SON+"",bt.TAE+"",bt.JIN+"",bt.GAN+"",bt.LI+"",bt.GAM+"",bt.TAE+"",bt.JIN+"",bt.SON+"",bt.GEON+"",bt.SON+"",bt.GON+"",bt.LI+"",bt.GAM+"",bt.LI+"",bt.JIN+"",bt.GAN+"",bt.TAE+"",bt.GAM+"",bt.GON+"",bt.GEON+"",bt.SON+"",bt.GAM+"";const pu={KOREAN_BATTLE:'"Noto Sans KR", Impact, sans-serif',KOREAN:'"Noto Sans KR", "Malgun Gothic", Arial, sans-serif'},Cd={medium:16,large:20,title:36},OG={medium:16},sp={normal:"normal",bold:"bold"},Id={fontFamily:pu.KOREAN,fontSize:OG.medium,fill:U.TEXT_PRIMARY,align:"left",wordWrap:!1,fontWeight:sp.normal,dropShadow:{alpha:.5,angle:Math.PI/6,blur:2,color:0,distance:2}};new Ri(Id),new Ri({...Id,fontFamily:pu.KOREAN_BATTLE,fontSize:Cd.title,fontWeight:sp.bold,fill:U.ACCENT_PRIMARY,align:"center",dropShadow:{alpha:.8,angle:Math.PI/6,blur:3,color:0,distance:3}}),new Ri({...Id,fontSize:Cd.large,fontWeight:sp.normal,fill:U.TEXT_SECONDARY,align:"center"}),new Ri({...Id,fontSize:Cd.medium,lineHeight:Cd.medium*1.5}),new Ri({...Id,fontSize:Cd.medium,fontWeight:sp.bold,fill:U.TEXT_PRIMARY,align:"center"});const VC={stanceControls:{1:{stance:"geon",korean:"건",technique:"천둥벽력"},2:{stance:"tae",korean:"태",technique:"유수연타"},3:{stance:"li",korean:"리",technique:"화염지창"},4:{stance:"jin",korean:"진",technique:"벽력일섬"},5:{stance:"son",korean:"손",technique:"선풍연격"},6:{stance:"gam",korean:"감",technique:"수류반격"},7:{stance:"gan",korean:"간",technique:"반석방어"},8:{stance:"gon",korean:"곤",technique:"대지포옹"}},combat:{SPACE:"Execute current stance technique",SHIFT:"Defensive guard/block position",CTRL:"Precision vital point targeting mode",TAB:"Cycle through player archetypes"}},qC=[{id:"baekhoehoel",names:{korean:"백회혈",english:"Crown Point",romanized:"baekhoehoel"},position:{x:0,y:-50},category:WE.NEUROLOGICAL,severity:ZE.CRITICAL,baseDamage:50,effects:[{id:"unconsciousness_effect",type:$E.UNCONSCIOUSNESS,intensity:t0.HIGH,duration:5e3,description:{korean:"의식 잃음",english:"Loss of consciousness"},stackable:!1}],description:{korean:"머리 정수리의 중요 혈점",english:"Critical pressure point at crown of head"},targetingDifficulty:.9,effectiveStances:[bt.GEON,bt.LI,bt.JIN],korean:{korean:"백회혈",english:"Crown Point",romanized:"baekhoehoel"},english:"Crown Point",anatomicalName:"Anterior Fontanelle",radius:15,damage:{min:40,max:60,average:50},difficulty:.9,requiredForce:30,safetyWarning:"Extremely dangerous - can cause death"},{id:"inmyeong",names:{korean:"인명",english:"People's Life",romanized:"inmyeong"},position:{x:0,y:-10},category:WE.NEUROLOGICAL,severity:ZE.MODERATE,baseDamage:20,effects:[{id:"stun_effect",type:$E.STUN,intensity:t0.MEDIUM,duration:2e3,description:{korean:"일시적 기절",english:"Temporary stunning"},stackable:!1}],description:{korean:"인중의 신경 집중 부위",english:"Nerve concentration area of philtrum"},targetingDifficulty:.6,effectiveStances:[bt.LI,bt.SON,bt.GAM],korean:{korean:"인명",english:"People's Life",romanized:"inmyeong"},english:"People's Life",anatomicalName:"Philtrum",radius:8,damage:{min:15,max:25,average:20},difficulty:.6,requiredForce:15,safetyWarning:"Can cause temporary unconsciousness"}];qC.filter(i=>i.position.y<0),qC.filter(i=>i.position.y>=50&&i.position.y<=200);var bs=(i=>(i.GENERAL_DAMAGE="general_damage",i.CRITICAL_HIT="critical_hit",i.VITAL_POINT_STRIKE="vital_point_strike",i.STATUS_EFFECT="status_effect",i.MISS="miss",i.BLOCK="block",i.PARRY="parry",i.COUNTER="counter",i.HIT="hit",i))(bs||{});const sA=()=>{Qp({Container:He,Graphics:uo,Text:w0,Sprite:zc})},J0=()=>(sA(),{extendPixiComponents:sA});Qp({Container:He,Graphics:uo,Text:w0,Sprite:zc});const Qv=({width:i,height:t,lighting:e="normal",animate:n=!0,...s})=>{const[l,c]=pt.useState(null),[h,f]=pt.useState(null);pt.useEffect(()=>{let x=!1;return(async()=>{try{const[T,S]=await Promise.all([oo.load("/src/assets/visual/bg/dojang/dojang_floor_tex.png"),oo.load("/src/assets/visual/bg/dojang/dojang_wall_tex.png")]);x||(c(T),f(S))}catch{}})(),()=>{x=!0}},[]);const p=pt.useCallback(x=>{switch(x){case"dim":return{backgroundAlpha:.7,gridAlpha:.2,accentAlpha:.3,ambientColor:U.UI_BACKGROUND_DARK,tintColor:4473924};case"bright":return{backgroundAlpha:1,gridAlpha:.5,accentAlpha:.7,ambientColor:U.UI_BACKGROUND_LIGHT,tintColor:16777215};case"cyberpunk":return{backgroundAlpha:.95,gridAlpha:.4,accentAlpha:.8,ambientColor:U.NEON_CYAN,tintColor:65535};case"traditional":return{backgroundAlpha:.9,gridAlpha:.3,accentAlpha:.6,ambientColor:U.KOREAN_RED,tintColor:11176038};default:return{backgroundAlpha:.9,gridAlpha:.3,accentAlpha:.4,ambientColor:U.UI_BACKGROUND_DARK,tintColor:16777215}}},[]),y=pt.useCallback(x=>{x.clear();const v=p(e);x.fill({color:v.ambientColor,alpha:v.backgroundAlpha}),x.rect(0,0,i,t),x.fill()},[i,t,e,p]),B=pt.useCallback(x=>{x.clear();const v=p(e);x.stroke({width:1,color:e==="cyberpunk"?U.NEON_CYAN:U.ACCENT_GOLD,alpha:v.gridAlpha});const T=60;for(let D=0;D<i;D+=T)x.moveTo(D,0),x.lineTo(D,t);for(let D=0;D<t;D+=T)x.moveTo(0,D),x.lineTo(i,D);x.stroke();const S=e==="cyberpunk"?U.NEON_PURPLE:e==="traditional"?U.KOREAN_BLUE:U.PRIMARY_CYAN;x.stroke({width:3,color:S,alpha:.6}),x.circle(i/2,t/2,Math.min(i,t)*.2),x.stroke();const R=40,O=e==="cyberpunk"?U.NEON_PINK:e==="traditional"?U.KOREAN_RED:U.ACCENT_GOLD;x.fill({color:O,alpha:v.accentAlpha}),x.rect(0,0,R,R),x.rect(i-R,0,R,R),x.rect(0,t-R,R,R),x.rect(i-R,t-R,R,R),x.fill(),e==="cyberpunk"&&(x.stroke({width:2,color:U.NEON_CYAN,alpha:.8}),x.moveTo(0,t*.25),x.lineTo(i,t*.25),x.moveTo(0,t*.75),x.lineTo(i,t*.75),x.stroke(),x.fill({color:U.NEON_PURPLE,alpha:.2}),x.circle(i/2,t/2,Math.min(i,t)*.1),x.fill()),e==="traditional"&&(x.stroke({width:4,color:U.KOREAN_BLUE,alpha:.6}),x.rect(20,20,i-40,t-40),x.stroke(),x.fill({color:U.KOREAN_BLACK,alpha:.3}),x.circle(i/2,t/2,30),x.fill(),x.fill({color:U.KOREAN_WHITE,alpha:.3}),x.arc(i/2,t/2,30,0,Math.PI),x.fill())},[i,t,e,p]),_=p(e);return w.jsxs("pixiContainer",{...s,children:[l?w.jsx("pixiSprite",{texture:l,x:0,y:0,width:i,height:t,alpha:_.backgroundAlpha,tint:_.tintColor,"data-testid":"dojang-floor-texture"}):w.jsx("pixiGraphics",{draw:y,"data-testid":"dojang-fallback-background"}),h&&e==="traditional"&&w.jsx("pixiSprite",{texture:h,x:i*.8,y:0,width:i*.3,height:t,alpha:.3,tint:_.tintColor,"data-testid":"dojang-wall-texture"}),w.jsx("pixiGraphics",{draw:B,"data-testid":"dojang-overlay"})]})},i0=({x:i=0,y:t=0,text:e,width:n,height:s,variant:l="primary",onClick:c,disabled:h=!1,testId:f,"data-testid":p,screenWidth:y=0,screenHeight:B=0})=>{const _=y,x=p??f,[v,T]=pt.useState(!1),S=pt.useMemo(()=>{const O=_<768,D=_>=768&&_<1024;return O?12:D?14:16},[_]),R=pt.useCallback(()=>{if(h)return U.UI_DISABLED_BG;switch(l){case"primary":return U.PRIMARY_CYAN;case"secondary":return U.UI_STEEL_GRAY;case"accent":return U.ACCENT_GOLD;case"ghost":return U.TRANSPARENT;case"danger":return U.NEGATIVE_RED;default:return U.PRIMARY_CYAN}},[l,h]);return w.jsxs("pixiContainer",{x:i,y:t,"data-testid":x,onClick:c,children:[w.jsx("pixiGraphics",{draw:O=>{O.clear();const D=R(),F=v?.8:.6;O.fill({color:D,alpha:F}),O.roundRect(0,0,n||120,s||40,8),O.fill(),O.stroke({width:2,color:h?U.UI_DISABLED_BORDER:U.ACCENT_GOLD,alpha:.8}),O.roundRect(0,0,n||120,s||40,8),O.stroke()},interactive:!h,onPointerOver:()=>!h&&T(!0),onPointerOut:()=>T(!1),onPointerDown:()=>!h&&c?.()}),w.jsx("pixiText",{text:e,style:{fontSize:S,fill:h?U.UI_DISABLED_TEXT:U.TEXT_PRIMARY,align:"center",fontWeight:"bold"},x:(n||120)/2,y:(s||40)/2,anchor:.5,"data-testid":`${x}-text`})]})},ro=({x:i=0,y:t=0,children:e,testId:n,"data-testid":s,screenWidth:l,screenHeight:c})=>{const h=s??n;return w.jsx("pixiContainer",{x:i,y:t,"data-testid":h,children:e})},Wo=({x:i=0,y:t=0,title:e,children:n,width:s=200,height:l=150,testId:c,"data-testid":h,screenWidth:f,screenHeight:p})=>{const y=h??c;return w.jsxs("pixiContainer",{x:i,y:t,"data-testid":y,children:[w.jsx("pixiGraphics",{draw:B=>{B.clear(),B.fill({color:U.UI_BACKGROUND_MEDIUM,alpha:.9}),B.roundRect(0,0,s,l,8),B.fill(),B.stroke({width:2,color:U.ACCENT_GOLD,alpha:.8}),B.roundRect(0,0,s,l,8),B.stroke()}}),e&&w.jsx("pixiText",{text:e,"data-testid":`${y}-title`,style:{fontSize:14,fill:U.ACCENT_GOLD,fontWeight:"bold"},x:10,y:-20}),w.jsx("pixiContainer",{x:0,y:25,children:n})]})},JC=(i,t,e,n,s,l=5,c=5)=>{const h=n-t,f=s-e,p=Math.sqrt(h*h+f*f),y=Math.floor(p/(l+c)),B=h/p*(l+c),_=f/p*(l+c);i.moveTo(t,e);for(let x=0;x<y;x++){const v=t+x*B,T=e+x*_,S=v+B*(l/(l+c)),R=T+_*(l/(l+c));i.moveTo(v,T),i.lineTo(S,R)}},HG=({effects:i,onEffectComplete:t})=>{const[e,n]=pt.useState([]);pt.useEffect(()=>{n(i);const l=setInterval(()=>{const c=Date.now();n(h=>{const f=h.filter(p=>c-p.startTime<p.duration);return h.filter(p=>c-p.startTime>=p.duration).forEach(p=>{t?.(p.id)}),f})},100);return()=>{clearInterval(l)}},[i,t]);const s=pt.useCallback(l=>{const c=Math.min((Date.now()-l.startTime)/l.duration,1),h=1-c;return w.jsx("pixiContainer",{"data-testid":`hit-effect-${l.id}`,children:w.jsx("pixiGraphics",{draw:f=>{if(f.clear(),!l.position)return;switch(l.type){case bs.HIT:f.fill({color:U.ACCENT_RED,alpha:h*.5}),f.circle(l.position.x,l.position.y,50*l.intensity),f.fill(),f.stroke({width:2,color:U.ACCENT_RED,alpha:h}),f.circle(l.position.x,l.position.y,60*l.intensity),f.stroke();break;case bs.CRITICAL_HIT:f.fill({color:U.ACCENT_GOLD,alpha:h*.7}),f.circle(l.position.x,l.position.y,70*l.intensity),f.fill(),f.stroke({width:3,color:U.ACCENT_RED,alpha:h}),f.circle(l.position.x,l.position.y,80*l.intensity),f.stroke(),f.stroke({width:4,color:U.ACCENT_RED,alpha:h}),f.moveTo(l.position.x-30,l.position.y-30),f.lineTo(l.position.x+30,l.position.y+30),f.moveTo(l.position.x+30,l.position.y-30),f.lineTo(l.position.x-30,l.position.y+30),f.stroke();break;case bs.BLOCK:f.stroke({width:3,color:U.ACCENT_CYAN,alpha:h}),f.arc(l.position.x,l.position.y,40*l.intensity,0,Math.PI),f.stroke(),f.stroke({width:2,color:U.ACCENT_CYAN,alpha:h*.7}),JC(f,l.position.x-50,l.position.y,l.position.x+50,l.position.y,5,5),JC(f,l.position.x,l.position.y-30,l.position.x,l.position.y+20,5,5),f.stroke();break;case bs.MISS:f.stroke({width:2,color:U.TEXT_TERTIARY,alpha:h}),f.moveTo(l.position.x-40,l.position.y-20),f.lineTo(l.position.x+40,l.position.y+10),f.moveTo(l.position.x-35,l.position.y),f.lineTo(l.position.x+45,l.position.y-15),f.stroke(),f.fill({color:U.TEXT_TERTIARY,alpha:h*.3}),f.circle(l.position.x,l.position.y,30*l.intensity),f.fill();break;case bs.VITAL_POINT_STRIKE:f.fill({color:U.SECONDARY_MAGENTA,alpha:h*.5}),f.circle(l.position.x,l.position.y,45*l.intensity),f.fill(),f.stroke({width:2,color:U.SECONDARY_MAGENTA,alpha:h}),f.circle(l.position.x,l.position.y,25*l.intensity),f.circle(l.position.x,l.position.y,35*l.intensity),f.circle(l.position.x,l.position.y,55*l.intensity),f.stroke(),f.stroke({width:1,color:U.SECONDARY_MAGENTA,alpha:h*.8}),f.moveTo(l.position.x-60,l.position.y),f.lineTo(l.position.x+60,l.position.y),f.moveTo(l.position.x,l.position.y-60),f.lineTo(l.position.x,l.position.y+60),f.stroke();break;case bs.PARRY:f.stroke({width:3,color:U.ACCENT_GOLD,alpha:h}),f.arc(l.position.x,l.position.y,35*l.intensity,-Math.PI/4,Math.PI/4),f.stroke();for(let B=0;B<3;B++){const _=Math.PI/6*(B-1),x=l.position.x+Math.cos(_)*40,v=l.position.y+Math.sin(_)*40;f.fill({color:U.ACCENT_GOLD,alpha:h*.8}),f.circle(x,v,3),f.fill()}break;case bs.COUNTER:f.stroke({width:2,color:U.PRIMARY_CYAN,alpha:h});const y=c*Math.PI*4;for(let B=0;B<4;B++){const _=y+Math.PI/2*B,x=l.position.x+Math.cos(_)*20,v=l.position.y+Math.sin(_)*20,T=l.position.x+Math.cos(_)*40,S=l.position.y+Math.sin(_)*40;f.moveTo(x,v),f.lineTo(T,S)}f.stroke();break;case bs.GENERAL_DAMAGE:case bs.STATUS_EFFECT:default:f.fill({color:U.ACCENT_GREEN,alpha:h*.5}),f.circle(l.position.x,l.position.y,40*l.intensity),f.fill();break}}})},l.id)},[]);return w.jsx("pixiContainer",{"data-testid":"hit-effects-layer",children:e.map(l=>s(l))})};sA();const kG=({players:i,width:t=800,height:e=600,x:n=0,y:s=0,onPlayerClick:l})=>{const[c,h]=pt.useState([{x:t*.3,y:e*.6},{x:t*.7,y:e*.6}]);pt.useEffect(()=>{h([{x:t*.3,y:e*.6},{x:t*.7,y:e*.6}])},[t,e]);const f=pt.useCallback(p=>{l?.(p)},[l]);return w.jsxs("pixiContainer",{x:n,y:s,"data-testid":"combat-arena",children:[w.jsx("pixiGraphics",{draw:p=>{p.clear(),p.fill({color:U.ARENA_BACKGROUND,alpha:.6}),p.roundRect(0,0,t,e,16),p.fill(),p.stroke({width:2,color:U.ACCENT_GOLD,alpha:.2});const y=t/2,B=e/2,_=Math.min(t,e)*.4;for(let x=1;x<=4;x++)p.circle(y,B,_*(x/4)),p.stroke();p.moveTo(y-_,B),p.lineTo(y+_,B),p.moveTo(y,B-_),p.lineTo(y,B+_),p.stroke()}}),w.jsxs("pixiContainer",{x:c[0].x,y:c[0].y,interactive:!0,onPointerDown:()=>f(0),"data-testid":"player-1-container",children:[w.jsx("pixiGraphics",{draw:p=>{p.clear(),p.fill({color:U.PLAYER_1_COLOR,alpha:.8}),p.roundRect(-30,-80,60,160,8),p.fill()}}),w.jsx("pixiText",{text:i[0]?.name?.korean||"플레이어 1",style:{fontSize:16,fill:U.TEXT_PRIMARY,align:"center"},x:0,y:-90,anchor:.5})]}),w.jsxs("pixiContainer",{x:c[1].x,y:c[1].y,interactive:!0,onPointerDown:()=>f(1),"data-testid":"player-2-container",children:[w.jsx("pixiGraphics",{draw:p=>{p.clear(),p.fill({color:U.PLAYER_2_COLOR,alpha:.8}),p.roundRect(-30,-80,60,160,8),p.fill()}}),w.jsx("pixiText",{text:i[1]?.name?.korean||"AI",style:{fontSize:16,fill:U.TEXT_PRIMARY,align:"center"},x:0,y:-90,anchor:.5})]}),w.jsx("pixiGraphics",{draw:p=>{p.clear(),p.fill({color:U.ACCENT_GOLD,alpha:.1}),p.circle(t/2,e/2,50),p.fill(),p.stroke({width:2,color:U.ACCENT_GOLD,alpha:.6}),p.circle(t/2,e/2,50),p.stroke()}})]})};sA();const LG=({onAttack:i,onDefend:t,onSwitchStance:e,onTechniqueExecute:n,player:s,isExecutingTechnique:l,width:c=400,height:h=120,x:f=0,y:p=0})=>{const[y,B]=pt.useState(!1),_=s.currentStance?XC[s.currentStance]:XC[bt.GEON],x=pt.useCallback(()=>{B(R=>!R)},[]),v=pt.useCallback(R=>{e(R),B(!1)},[e]),T=pt.useCallback(()=>{n()},[n]),S=c<400;return w.jsxs("pixiContainer",{x:f,y:p,"data-testid":"combat-controls",children:[w.jsx("pixiGraphics",{draw:R=>{R.clear(),R.fill({color:U.UI_BACKGROUND_DARK,alpha:.6}),R.roundRect(0,0,c,h,8),R.fill(),R.stroke({width:2,color:U.PRIMARY_CYAN,alpha:.6}),R.roundRect(0,0,c,h,8),R.stroke()}}),S?w.jsxs("pixiContainer",{x:10,y:h/2,"data-testid":"mobile-controls",children:[w.jsxs("pixiContainer",{x:0,y:0,"data-testid":"attack-button",children:[w.jsx("pixiGraphics",{draw:R=>{R.clear(),R.fill({color:U.ACCENT_RED,alpha:.8}),R.roundRect(0,0,70,30,5),R.fill()},interactive:!0,onPointerDown:i}),w.jsx("pixiText",{text:"공격",style:{fontSize:12,fill:U.TEXT_PRIMARY},x:35,y:15,anchor:.5})]}),w.jsxs("pixiContainer",{x:80,y:0,"data-testid":"defend-button",children:[w.jsx("pixiGraphics",{draw:R=>{R.clear(),R.fill({color:U.ACCENT_GREEN,alpha:.8}),R.roundRect(0,0,70,30,5),R.fill()},interactive:!0,onPointerDown:t}),w.jsx("pixiText",{text:"방어",style:{fontSize:12,fill:U.TEXT_PRIMARY},x:35,y:15,anchor:.5})]}),w.jsxs("pixiContainer",{x:160,y:0,"data-testid":"technique-button",children:[w.jsx("pixiGraphics",{draw:R=>{R.clear(),R.fill({color:l?U.ACCENT_GOLD:U.PRIMARY_CYAN,alpha:.8}),R.roundRect(0,0,70,30,5),R.fill()},interactive:!l,onPointerDown:()=>T()}),w.jsx("pixiText",{text:"기술",style:{fontSize:12,fill:U.TEXT_PRIMARY},x:35,y:15,anchor:.5})]}),w.jsxs("pixiContainer",{x:240,y:0,"data-testid":"stance-button",children:[w.jsx("pixiGraphics",{draw:R=>{R.clear(),R.fill({color:U.UI_BACKGROUND_MEDIUM,alpha:.8}),R.roundRect(0,0,70,30,5),R.fill()},interactive:!0,onPointerDown:x}),w.jsx("pixiText",{text:"자세",style:{fontSize:12,fill:U.TEXT_PRIMARY},x:35,y:15,anchor:.5})]})]}):w.jsxs("pixiContainer",{x:10,y:10,"data-testid":"desktop-controls",children:[w.jsxs("pixiContainer",{x:0,y:0,"data-testid":"action-buttons",children:[w.jsxs("pixiContainer",{x:0,y:0,"data-testid":"attack-button",children:[w.jsx("pixiGraphics",{draw:R=>{R.clear(),R.fill({color:U.ACCENT_RED,alpha:.8}),R.roundRect(0,0,100,40,5),R.fill()},interactive:!0,onPointerDown:i}),w.jsx("pixiText",{text:"공격",style:{fontSize:16,fill:U.TEXT_PRIMARY},x:50,y:20,anchor:.5})]}),w.jsxs("pixiContainer",{x:0,y:50,"data-testid":"defend-button",children:[w.jsx("pixiGraphics",{draw:R=>{R.clear(),R.fill({color:U.ACCENT_GREEN,alpha:.8}),R.roundRect(0,0,100,40,5),R.fill()},interactive:!0,onPointerDown:t}),w.jsx("pixiText",{text:"방어",style:{fontSize:16,fill:U.TEXT_PRIMARY},x:50,y:20,anchor:.5})]})]}),w.jsxs("pixiContainer",{x:c/2-50,y:h/2-30,"data-testid":"technique-button",children:[w.jsx("pixiGraphics",{draw:R=>{R.clear(),R.fill({color:l?U.ACCENT_GOLD:U.PRIMARY_CYAN,alpha:.8}),R.roundRect(0,0,100,60,5),R.fill()},interactive:!l,onPointerDown:()=>T()}),w.jsx("pixiText",{text:"기술 실행",style:{fontSize:16,fill:U.TEXT_PRIMARY},x:50,y:20,anchor:.5}),w.jsx("pixiText",{text:s.currentStance&&_[0]?.name?.korean||"기본 기술",style:{fontSize:12,fill:U.TEXT_SECONDARY},x:50,y:40,anchor:.5})]}),w.jsxs("pixiContainer",{x:c-110,y:h/2-30,"data-testid":"stance-button",children:[w.jsx("pixiGraphics",{draw:R=>{R.clear(),R.fill({color:U.UI_BACKGROUND_MEDIUM,alpha:.8}),R.roundRect(0,0,100,60,5),R.fill()},interactive:!0,onPointerDown:x}),w.jsx("pixiText",{text:"자세 변경",style:{fontSize:16,fill:U.TEXT_PRIMARY},x:50,y:20,anchor:.5}),w.jsx("pixiText",{text:s.currentStance||"기본 자세",style:{fontSize:12,fill:U.TEXT_SECONDARY},x:50,y:40,anchor:.5})]})]}),y&&w.jsxs("pixiContainer",{x:S?c/2-150:c-220,y:S?40:-60,"data-testid":"stance-menu",children:[w.jsx("pixiGraphics",{draw:R=>{R.clear(),R.fill({color:U.UI_BACKGROUND_DARK,alpha:.9}),R.roundRect(0,0,200,210,8),R.fill(),R.stroke({width:2,color:U.ACCENT_GOLD,alpha:.6}),R.roundRect(0,0,200,210,8),R.stroke()}}),w.jsx("pixiText",{text:"팔괘 자세 선택",style:{fontSize:16,fill:U.ACCENT_GOLD,align:"center"},x:100,y:20,anchor:.5}),Object.values(bt).map((R,O)=>w.jsxs("pixiContainer",{x:10,y:40+O*30,interactive:!0,onPointerDown:()=>v(R),"data-testid":`stance-option-${R}`,children:[w.jsx("pixiGraphics",{draw:D=>{D.clear(),D.fill({color:s.currentStance===R?U.PRIMARY_CYAN:U.UI_BACKGROUND_MEDIUM,alpha:.8}),D.roundRect(0,0,180,25,4),D.fill()}}),w.jsx("pixiText",{text:`${R}`,style:{fontSize:14,fill:U.TEXT_PRIMARY},x:10,y:12.5,anchor:{x:0,y:.5}})]},R))]})]})},WC=({current:i,max:t,playerName:e,position:n="left",x:s,y:l,width:c,height:h,screenWidth:f,screenHeight:p,showText:y=!0,animated:B=!0,showDamageIndicator:_=!0})=>{const x=f<768,{healthPercentage:v,healthStatus:T,displayHealth:S}=pt.useMemo(()=>{const V=t>0?i/t:0;let gt="high";return V<=.15?gt="critical":V<=.35?gt="low":V<=.65&&(gt="medium"),{healthPercentage:Math.max(0,Math.min(1,V)),healthStatus:gt,displayHealth:Math.max(0,i)}},[i,t]),R=()=>{switch(T){case"critical":return U.ACCENT_RED;case"low":return U.ACCENT_GOLD;case"medium":return U.ACCENT_CYAN;default:return U.ACCENT_GREEN}},O=()=>v>.5?[U.ACCENT_GREEN,U.ACCENT_CYAN]:v>.25?[U.ACCENT_GOLD,U.ACCENT_GREEN]:[U.ACCENT_RED,U.ACCENT_GOLD],D=n==="right",F=n==="center",j=B?Math.sin(Date.now()*.005)*.1+.9:1,$=_&&T==="critical"?Math.sin(Date.now()*.01)*.3+.7:1;return w.jsxs(ro,{x:s,y:l,screenWidth:f,screenHeight:p,"data-testid":`health-bar-${n}`,children:[y&&w.jsx("pixiText",{text:e,style:{fontSize:x?12:14,fill:U.TEXT_PRIMARY,fontWeight:"bold",fontFamily:"Noto Sans KR",align:D?"right":F?"center":"left",dropShadow:{color:U.BLACK_SOLID,blur:2,distance:2}},x:D?c:F?c/2:0,y:0,anchor:D?{x:1,y:0}:F?{x:.5,y:0}:{x:0,y:0},"data-testid":`health-bar-name-${n}`}),w.jsxs("pixiContainer",{x:0,y:y?x?20:25:5,"data-testid":`health-bar-container-${n}`,children:[w.jsx("pixiGraphics",{draw:V=>{V.clear();const gt=h-(y?x?25:30:5);V.fill({color:U.UI_BACKGROUND_DARK,alpha:.9}),V.roundRect(0,0,c,gt,4),V.fill(),V.stroke({width:1,color:U.ACCENT_GOLD,alpha:.3});for(let ht=0;ht<c;ht+=20)V.moveTo(ht,0),V.lineTo(ht+10,gt/2),V.lineTo(ht,gt);V.stroke(),V.stroke({width:2,color:U.ACCENT_GOLD,alpha:.8}),V.roundRect(0,0,c,gt,4),V.stroke()},"data-testid":`health-bar-background-${n}`}),w.jsx("pixiGraphics",{draw:V=>{V.clear();const gt=h-(y?x?25:30:5),ht=c*v;if(ht>0){const[At,L]=O(),Dt=new Ms(0,0,ht,0);Dt.addColorStop(0,At),Dt.addColorStop(1,L),V.fill(Dt),D?V.roundRect(c-ht,0,ht,gt,4):V.roundRect(0,0,ht,gt,4),V.fill(),V.fill({color:16777215,alpha:.3*(B?j:1)});const Ot=ht*.6,Rt=gt*.4;D?V.roundRect(c-Ot-4,2,Ot,Rt,2):V.roundRect(4,2,Ot,Rt,2),V.fill()}},"data-testid":`health-bar-fill-${n}`}),_&&T==="critical"&&w.jsx("pixiGraphics",{draw:V=>{V.clear(),V.stroke({width:3,color:U.ACCENT_RED,alpha:.8*$}),V.roundRect(-3,-3,c+6,h-(y?x?21:26:1),7),V.stroke(),V.fill({color:U.ACCENT_RED,alpha:.1*$}),V.roundRect(0,0,c,h-(y?x?25:30:5),4),V.fill()},"data-testid":`health-bar-critical-effect-${n}`}),w.jsx("pixiGraphics",{draw:V=>{V.clear();const gt=h-(y?x?25:30:5);V.stroke({width:1,color:U.ACCENT_GOLD,alpha:.4});const ht=4,At=c/ht;for(let L=1;L<ht;L++){const Dt=At*L;V.moveTo(Dt,2),V.lineTo(Dt,gt-2),V.circle(Dt,gt/2,2)}V.stroke()},"data-testid":`health-bar-segments-${n}`})]}),y&&w.jsx("pixiText",{text:`${Math.ceil(S)} / ${t}`,style:{fontSize:x?10:12,fill:R(),fontWeight:"bold",align:D?"right":F?"center":"left",dropShadow:{color:U.BLACK_SOLID,blur:1,distance:1}},x:D?c:F?c/2:0,y:h-(x?12:15),anchor:D?{x:1,y:0}:F?{x:.5,y:0}:{x:0,y:0},"data-testid":`health-bar-text-${n}`}),y&&w.jsx("pixiText",{text:T==="critical"?"위험 - 기절 직전":T==="low"?"부상 - 약한 상태":T==="medium"?"보통 - 전투 가능":"건강 - 최상 컨디션",style:{fontSize:x?7:9,fill:U.TEXT_SECONDARY,fontFamily:"Noto Sans KR",align:D?"right":F?"center":"left",fontStyle:"italic"},x:D?c-2:F?c/2:2,y:y?x?22:27:7,anchor:D?{x:1,y:0}:F?{x:.5,y:0}:{x:0,y:0},"data-testid":`health-bar-status-${n}`}),v>.8&&B&&w.jsx("pixiGraphics",{draw:V=>{V.clear(),V.fill({color:U.ACCENT_GREEN,alpha:.3*Math.sin(Date.now()*.008)+.3}),V.circle(D?c-10:10,(y?x?22:27:7)+5,3),V.fill()},"data-testid":`health-bar-ki-indicator-${n}`})]})},FG=({timeRemaining:i,totalTime:t,currentRound:e,maxRounds:n,isPaused:s=!1,x:l,y:c,width:h,height:f,screenWidth:p,screenHeight:y,showMilliseconds:B=!1})=>{const _=p<768,{minutes:x,seconds:v,milliseconds:T,timePercentage:S,urgencyLevel:R}=pt.useMemo(()=>{const F=Math.floor(i/60),j=Math.floor(i%60),$=Math.floor(i%1*100),V=t>0?i/t:0;let gt="normal";return V<.1?gt="critical":V<.3&&(gt="warning"),{minutes:F,seconds:j,milliseconds:$,timePercentage:V,urgencyLevel:gt}},[i,t]),O=()=>{if(s)return U.TEXT_SECONDARY;switch(R){case"critical":return U.ACCENT_RED;case"warning":return U.ACCENT_GOLD;default:return U.ACCENT_GREEN}},D=()=>{const F=`${x.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`;return B?`${F}.${T.toString().padStart(2,"0")}`:F};return w.jsxs(ro,{x:l,y:c,screenWidth:p,screenHeight:y,"data-testid":"round-timer",children:[w.jsx(Wo,{title:"",x:0,y:0,width:h,height:f,screenWidth:p,screenHeight:y}),w.jsx("pixiContainer",{x:h/2,y:15,"data-testid":"round-info",children:w.jsx("pixiText",{text:`라운드 ${e} / ${n}`,style:{fontSize:_?12:14,fill:U.TEXT_PRIMARY,fontWeight:"bold",align:"center",fontFamily:"Noto Sans KR"},anchor:.5,"data-testid":"round-counter"})}),w.jsxs("pixiContainer",{x:h/2,y:f/2,"data-testid":"timer-display",children:[w.jsx("pixiGraphics",{draw:F=>{F.clear();const j=_?35:45;F.fill({color:U.UI_BACKGROUND_DARK,alpha:.8}),F.circle(0,0,j),F.fill(),F.stroke({width:4,color:O(),alpha:.9});const $=S*Math.PI*2;F.arc(0,0,j-2,-Math.PI/2,-Math.PI/2+$),F.stroke(),F.stroke({width:2,color:U.ACCENT_GOLD,alpha:.6}),F.circle(0,0,j),F.stroke()},"data-testid":"timer-circle"}),w.jsx("pixiText",{text:D(),style:{fontSize:_?14:18,fill:O(),fontWeight:"bold",align:"center",fontFamily:"monospace"},anchor:.5,"data-testid":"timer-text"}),s&&w.jsx("pixiText",{text:"일시정지",style:{fontSize:_?8:10,fill:U.TEXT_SECONDARY,align:"center",fontFamily:"Noto Sans KR"},x:0,y:_?20:25,anchor:.5,"data-testid":"pause-indicator"})]}),w.jsx("pixiGraphics",{draw:F=>{F.clear();const j=h-20,$=4,V=f-15;F.fill({color:U.UI_BACKGROUND_DARK,alpha:.8}),F.rect(10,V,j,$),F.fill();const gt=j*S;F.fill({color:O(),alpha:.9}),F.rect(10,V,gt,$),F.fill(),F.stroke({width:1,color:U.ACCENT_GOLD,alpha:.6}),F.rect(10,V,j,$),F.stroke()},"data-testid":"timer-progress-bar"}),R==="critical"&&!s&&w.jsx("pixiGraphics",{draw:F=>{F.clear();const j=Math.sin(Date.now()*.01)*.3+.7;F.stroke({width:3,color:U.ACCENT_RED,alpha:j}),F.rect(2,2,h-4,f-4),F.stroke()},"data-testid":"critical-timer-effect"}),w.jsx("pixiContainer",{x:h/2,y:f-30,"data-testid":"time-label",children:w.jsx("pixiText",{text:"남은 시간",style:{fontSize:_?9:11,fill:U.TEXT_TERTIARY,align:"center",fontFamily:"Noto Sans KR"},anchor:.5,"data-testid":"time-label-korean"})})]})},PG={[bt.GEON]:{korean:"건",english:"Heaven",symbol:"☰",color:U.TRIGRAM_GEON_PRIMARY,description:"직접적인 골격 타격",englishDescription:"Direct bone-striking force"},[bt.TAE]:{korean:"태",english:"Lake",symbol:"☱",color:U.TRIGRAM_TAE_PRIMARY,description:"유동적인 관절 조작",englishDescription:"Fluid joint manipulation"},[bt.LI]:{korean:"리",english:"Fire",symbol:"☲",color:U.TRIGRAM_LI_PRIMARY,description:"정밀한 신경 타격",englishDescription:"Precise nerve strikes"},[bt.JIN]:{korean:"진",english:"Thunder",symbol:"☳",color:U.TRIGRAM_JIN_PRIMARY,description:"기절시키는 기술",englishDescription:"Stunning techniques"},[bt.SON]:{korean:"손",english:"Wind",symbol:"☴",color:U.TRIGRAM_SON_PRIMARY,description:"지속적인 압박",englishDescription:"Continuous pressure"},[bt.GAM]:{korean:"감",english:"Water",symbol:"☵",color:U.TRIGRAM_GAM_PRIMARY,description:"혈류 제한",englishDescription:"Blood flow restriction"},[bt.GAN]:{korean:"간",english:"Mountain",symbol:"☶",color:U.TRIGRAM_GAN_PRIMARY,description:"방어적 반격",englishDescription:"Defensive counters"},[bt.GON]:{korean:"곤",english:"Earth",symbol:"☷",color:U.TRIGRAM_GON_PRIMARY,description:"지상 기술",englishDescription:"Ground techniques"}},n0=({stance:i,x:t,y:e,size:n=60,showDetails:s=!0,...l})=>{const c=PG[i],h=n/2,f=pt.useMemo(()=>Math.sin(Date.now()*.003)*.1+.9,[]);return w.jsxs(ro,{x:t,y:e,screenWidth:n*2,screenHeight:s?n*1.8:n,"data-testid":`stance-indicator-${i}`,...l,children:[w.jsx("pixiGraphics",{draw:p=>{p.clear(),p.fill({color:c.color,alpha:.3*f}),p.circle(h,h,h+8),p.fill(),p.fill({color:c.color,alpha:.8}),p.circle(h,h,h),p.fill(),p.stroke({width:3,color:U.ACCENT_GOLD,alpha:.9}),p.circle(h,h,h),p.stroke(),p.stroke({width:2,color:U.TEXT_PRIMARY,alpha:.6}),p.circle(h,h,h-6),p.stroke()},"data-testid":`stance-circle-${i}`}),w.jsx("pixiText",{text:c.symbol,style:{fontSize:n*.4,fill:U.TEXT_PRIMARY,fontWeight:"bold",align:"center"},x:h,y:h,anchor:.5,"data-testid":`stance-symbol-${i}`}),s&&w.jsxs("pixiContainer",{x:0,y:n+10,"data-testid":`stance-details-${i}`,children:[w.jsx("pixiText",{text:`${c.korean} (${c.english})`,style:{fontSize:n*.2,fill:U.TEXT_PRIMARY,fontWeight:"bold",align:"center",fontFamily:"Noto Sans KR"},x:h,y:0,anchor:.5,"data-testid":`stance-name-${i}`}),w.jsx("pixiText",{text:c.description,style:{fontSize:n*.15,fill:U.TEXT_SECONDARY,align:"center",fontFamily:"Noto Sans KR",wordWrap:!0,wordWrapWidth:n*2},x:h,y:n*.25,anchor:.5,"data-testid":`stance-description-${i}`}),w.jsx("pixiText",{text:c.englishDescription,style:{fontSize:n*.12,fill:U.TEXT_TERTIARY,align:"center",fontStyle:"italic",wordWrap:!0,wordWrapWidth:n*2},x:h,y:n*.45,anchor:.5,"data-testid":`stance-description-english-${i}`})]}),w.jsx("pixiGraphics",{draw:p=>{p.clear(),p.fill({color:U.ACCENT_GREEN,alpha:.8*f}),p.circle(h+h*.7,h-h*.7,4),p.fill()},"data-testid":`stance-active-indicator-${i}`})]})};sA();const zG=({player1:i,player2:t,timeRemaining:e,currentRound:n,maxRounds:s,isPaused:l=!1,onPauseToggle:c,width:h=1200,height:f=120,x:p=0,y=0})=>{const B=h<768,_=B?180:250,x=B?140:160,v=h/2,T=pt.useCallback(O=>{O.clear(),O.fill({color:U.UI_BACKGROUND_DARK,alpha:.95}),O.rect(0,0,h,f),O.stroke({width:3,color:U.ACCENT_GOLD,alpha:.8}),O.rect(5,5,h-10,f-10),O.stroke({width:2,color:U.PRIMARY_CYAN,alpha:.6}),O.moveTo(h/2,10),O.lineTo(h/2,f-10),O.fill({color:U.ACCENT_GOLD,alpha:.3}),O.circle(h/2,f/2,25)},[h,f]),S=e0[i.archetype],R=e0[t.archetype];return w.jsxs("pixiContainer",{x:p,y,"data-testid":"combat-hud",children:[w.jsx("pixiGraphics",{draw:T}),w.jsxs("pixiContainer",{x:20,y:15,children:[w.jsx("pixiText",{text:i.name.korean,style:{fontSize:18,fill:S.colors.primary,fontWeight:"bold"}}),w.jsx("pixiText",{text:S.name.korean,style:{fontSize:12,fill:U.TEXT_SECONDARY},y:20}),w.jsx(WC,{current:i.health,max:i.maxHealth,width:_,height:25,showText:!0,x:20,y:35,position:"left",playerName:i.name.korean,screenWidth:h,screenHeight:f,"data-testid":"player1-health-bar"}),w.jsxs("pixiContainer",{y:70,children:[w.jsx("pixiText",{text:"기력",style:{fontSize:8,fill:U.TEXT_SECONDARY}}),w.jsx("pixiGraphics",{draw:O=>{O.clear(),O.beginFill(U.UI_BACKGROUND_MEDIUM,.8),O.drawRect(25,0,100,8),O.endFill(),O.beginFill(U.PRIMARY_CYAN,.9),O.drawRect(25,0,100*(i.ki/i.maxKi),8),O.endFill()}}),w.jsx("pixiText",{text:"체력",style:{fontSize:8,fill:U.TEXT_SECONDARY},x:135}),w.jsx("pixiGraphics",{draw:O=>{O.clear(),O.beginFill(U.UI_BACKGROUND_MEDIUM,.8),O.drawRect(160,0,100,8),O.endFill(),O.beginFill(U.SECONDARY_YELLOW,.9),O.drawRect(160,0,100*(i.stamina/i.maxStamina),8),O.endFill()}})]}),w.jsx(n0,{stance:i.currentStance,x:20,y:60,size:40,"data-testid":"player1-stance-indicator"})]}),w.jsxs("pixiContainer",{x:v-x/2,y:20,children:[w.jsx(FG,{currentRound:n,maxRounds:s,timeRemaining:e,totalTime:180,width:x,height:35,x:0,y:0,isPaused:l,screenWidth:h,screenHeight:f,"data-testid":"round-timer"}),w.jsx("pixiText",{text:`라운드 ${n}/${s}`,style:{fontSize:14,fill:U.ACCENT_GOLD,align:"center",fontWeight:"bold"},x:x/2,y:45,anchor:.5}),Array.from({length:s}).map((O,D)=>w.jsx("pixiGraphics",{draw:F=>{F.clear();const j=D<n;F.beginFill(j?U.ACCENT_GOLD:U.UI_GRAY,.8),F.drawCircle(40+D*20,65,6),F.endFill()}},D))]}),w.jsxs("pixiContainer",{x:h-320,y:15,children:[w.jsx("pixiText",{text:t.name.korean,style:{fontSize:18,fill:R.colors.primary,fontWeight:"bold",align:"right"},x:280,anchor:{x:1,y:0}}),w.jsx("pixiText",{text:R.name.korean,style:{fontSize:12,fill:U.TEXT_SECONDARY,align:"right"},x:280,y:20,anchor:{x:1,y:0}}),w.jsx(WC,{current:t.health,max:t.maxHealth,width:_,height:25,showText:!0,x:h-_-40,y:35,position:"right",playerName:t.name.korean,screenWidth:h,screenHeight:f,"data-testid":"player2-health-bar"}),w.jsxs("pixiContainer",{y:70,children:[w.jsx("pixiText",{text:"기력",style:{fontSize:8,fill:U.TEXT_SECONDARY},x:30}),w.jsx("pixiGraphics",{draw:O=>{O.clear(),O.beginFill(U.UI_BACKGROUND_MEDIUM,.8),O.drawRect(55,0,100,8),O.endFill(),O.beginFill(U.PRIMARY_CYAN,.9),O.drawRect(55,0,100*(t.ki/t.maxKi),8),O.endFill()}}),w.jsx("pixiText",{text:"체력",style:{fontSize:8,fill:U.TEXT_SECONDARY},x:165}),w.jsx("pixiGraphics",{draw:O=>{O.clear(),O.beginFill(U.UI_BACKGROUND_MEDIUM,.8),O.drawRect(190,0,100,8),O.endFill(),O.beginFill(U.SECONDARY_YELLOW,.9),O.drawRect(190,0,100*(t.stamina/t.maxStamina),8),O.endFill()}})]}),w.jsx(n0,{stance:t.currentStance,x:h-60,y:60,size:40,"data-testid":"player2-stance-indicator"})]}),c&&w.jsxs("pixiContainer",{x:h-80,y:f-40,children:[w.jsx("pixiGraphics",{draw:O=>{O.clear(),O.beginFill(U.UI_BACKGROUND_MEDIUM,.9),O.lineStyle(2,U.ACCENT_GOLD,.8),O.drawRoundedRect(0,0,60,30,5),O.endFill()},interactive:!0,onPointerDown:c}),w.jsx("pixiText",{text:l?"계속":"정지",style:{fontSize:10,fill:U.TEXT_PRIMARY,align:"center",fontWeight:"bold"},x:30,y:15,anchor:.5})]})]})};sA();const YG=({players:i,combatLog:t,x:e=0,y:n=0,width:s=280,height:l=140})=>{const c=s<300;return w.jsxs("pixiContainer",{x:e,y:n,"data-testid":"combat-stats",children:[w.jsx("pixiGraphics",{draw:h=>{h.clear(),h.fill({color:U.UI_BACKGROUND_MEDIUM,alpha:.6}),h.roundRect(0,0,s,l,8),h.fill()}}),w.jsx("pixiText",{text:"전투 통계",style:{fontSize:c?10:14,fill:U.ACCENT_GOLD,fontWeight:"bold"},x:10,y:10}),w.jsx("pixiContainer",{x:10,y:30,children:t.length>0?t.slice(0,4).map((h,f)=>w.jsx("pixiText",{text:h,style:{fontSize:c?9:12,fill:U.TEXT_SECONDARY},x:0,y:f*(c?15:20)},f)):w.jsx("pixiText",{text:"전투 기록이 없습니다",style:{fontSize:c?9:12,fill:U.TEXT_SECONDARY,fontStyle:"italic"},x:0,y:0})}),w.jsxs("pixiContainer",{x:10,y:l-60,children:[w.jsx("pixiGraphics",{draw:h=>{h.clear(),h.stroke({width:1,color:U.ACCENT_GOLD,alpha:.4}),h.rect(0,0,s-20,50),h.moveTo(0,25),h.lineTo(s-20,25),h.moveTo((s-20)/2,0),h.lineTo((s-20)/2,50),h.stroke()}}),w.jsx("pixiText",{text:i[0].name.korean,style:{fontSize:c?9:12,fill:U.TEXT_PRIMARY},x:(s-20)/4,y:12.5,anchor:.5}),w.jsx("pixiText",{text:`${i[0].wins||0}승`,style:{fontSize:c?9:12,fill:U.ACCENT_GREEN},x:(s-20)/4,y:37.5,anchor:.5}),w.jsx("pixiText",{text:i[1].name.korean,style:{fontSize:c?9:12,fill:U.TEXT_PRIMARY},x:(s-20)*3/4,y:12.5,anchor:.5}),w.jsx("pixiText",{text:`${i[1].wins||0}승`,style:{fontSize:c?9:12,fill:U.ACCENT_GREEN},x:(s-20)*3/4,y:37.5,anchor:.5})]})]})};sA();const ZC=({player:i,position:t,isSelected:e=!1,width:n=160,height:s=280,x:l=0,y:c=0})=>w.jsxs("pixiContainer",{x:l,y:c,"data-testid":`player-status-${t}`,children:[w.jsx("pixiText",{text:`${i.name.korean} - ${t}`,style:{fontSize:14,fill:U.TEXT_PRIMARY,fontWeight:"bold"}}),w.jsx("pixiText",{text:`유형: ${i.archetype}`,style:{fontSize:12,fill:U.TEXT_SECONDARY},y:20}),w.jsxs("pixiContainer",{y:40,"data-testid":"player-stats",children:[w.jsx("pixiText",{text:"스탯",style:{fontSize:12,fill:U.ACCENT_GOLD,fontWeight:"bold"}}),w.jsxs("pixiContainer",{y:20,"data-testid":"ki-stat",children:[w.jsx("pixiText",{text:"기 레벨:",style:{fontSize:10,fill:U.TEXT_SECONDARY}}),w.jsx("pixiGraphics",{draw:h=>{h.clear(),h.beginFill(U.UI_BACKGROUND_MEDIUM,.8),h.drawRect(60,4,80,6),h.endFill();const f=i.ki/i.maxKi;h.beginFill(U.PRIMARY_CYAN,.9),h.drawRect(60,4,80*f,6),h.endFill()}}),w.jsx("pixiText",{text:`${Math.round(i.ki)}/${i.maxKi}`,style:{fontSize:8,fill:U.TEXT_SECONDARY},x:145,y:2,anchor:{x:1,y:0}})]}),w.jsxs("pixiContainer",{y:40,"data-testid":"stamina-stat",children:[w.jsx("pixiText",{text:"스태미나:",style:{fontSize:10,fill:U.TEXT_SECONDARY}}),w.jsx("pixiGraphics",{draw:h=>{h.clear(),h.beginFill(U.UI_BACKGROUND_MEDIUM,.8),h.drawRect(60,4,80,6),h.endFill();const f=i.stamina/i.maxStamina;h.beginFill(U.SECONDARY_YELLOW,.9),h.drawRect(60,4,80*f,6),h.endFill()}}),w.jsx("pixiText",{text:`${Math.round(i.stamina)}/${i.maxStamina}`,style:{fontSize:8,fill:U.TEXT_SECONDARY},x:145,y:2,anchor:{x:1,y:0}})]}),w.jsxs("pixiContainer",{y:60,"data-testid":"balance-stat",children:[w.jsx("pixiText",{text:"밸런스:",style:{fontSize:10,fill:U.TEXT_SECONDARY}}),w.jsx("pixiGraphics",{draw:h=>{h.clear(),h.beginFill(U.UI_BACKGROUND_MEDIUM,.8),h.drawRect(60,4,80,6),h.endFill();const f=i.balance/100;h.beginFill(U.ACCENT_CYAN,.9),h.drawRect(60,4,80*f,6),h.endFill()}}),w.jsx("pixiText",{text:`${Math.round(i.balance)}/100`,style:{fontSize:8,fill:U.TEXT_SECONDARY},x:145,y:2,anchor:{x:1,y:0}})]})]}),w.jsxs("pixiContainer",{y:120,"data-testid":"current-stance",children:[w.jsx("pixiText",{text:"현재 자세:",style:{fontSize:12,fill:U.ACCENT_GOLD,fontWeight:"bold"}}),w.jsx("pixiText",{text:i.currentStance,style:{fontSize:14,fill:U.PRIMARY_CYAN},x:70})]}),e&&w.jsx("pixiGraphics",{draw:h=>{h.clear(),h.lineStyle(2,U.ACCENT_GOLD,.8),h.drawRect(-5,-5,n+10,s+10);const f=Math.sin(Date.now()*.005)*.2+.4;h.lineStyle(4,U.ACCENT_GOLD,f),h.drawRect(-10,-10,n+20,s+20)},"data-testid":"selected-player-indicator"})]});sA();const KG=({players:i,onPlayerUpdate:t,currentRound:e,timeRemaining:n,isPaused:s,onReturnToMenu:l,onGameEnd:c,width:h=1200,height:f=800,x:p=0,y=0})=>{const[B,_]=pt.useState([]),[x,v]=pt.useState(!1),[T,S]=pt.useState(null),[R]=pt.useState([]),O=pt.useCallback((Rt,ne,P,Z)=>({id:Rt,type:ne,attackerId:"player1",defenderId:"player2",timestamp:Date.now(),duration:1e3,position:P,intensity:Z,startTime:Date.now()}),[]),D=pt.useCallback(()=>{const Rt=O(`attack_${Date.now()}`,bs.HIT,{x:400,y:300},1);_(ne=>[...ne,Rt])},[O]),F=pt.useCallback(()=>{},[]),j=pt.useCallback(()=>{v(!0),setTimeout(()=>v(!1),500)},[]),$=pt.useCallback(Rt=>{v(!0),t(0,{currentStance:Rt})},[t]),V=pt.useCallback(Rt=>{_(ne=>ne.filter(P=>P.id!==Rt))},[]),gt=pt.useMemo(()=>{if(i.length<2){const Rt={...i[0],id:"dummy_player",name:{korean:"더미",english:"Dummy"}};return[i[0],Rt]}return[i[0],i[1]]},[i]),ht=pt.useCallback((Rt,ne)=>{const P=O(`effect_${Date.now()}`,Rt,ne,1);_(Z=>[...Z,P])},[O]),At=pt.useCallback(()=>{gt[0].health<=0?c(1):gt[1].health<=0&&c(0)},[gt,c]);pt.useEffect(()=>{At()},[gt[0].health,gt[1].health,At]);const{isMobile:L,isTablet:Dt}=pt.useMemo(()=>({isMobile:h<768,isTablet:h>=768&&h<1024}),[h]),Ot=Rt=>{S(Rt),ht(bs.HIT,{x:100+Rt*200,y:200})};return w.jsxs("pixiContainer",{x:p,y,"data-testid":"combat-screen",children:[w.jsx(Qv,{width:h,height:f,lighting:"cyberpunk",animate:!0}),w.jsx("pixiGraphics",{draw:Rt=>{Rt.clear(),Rt.stroke({width:1,color:U.ACCENT_GOLD,alpha:.1});const ne=L?100:Dt?125:150,P=L?25:Dt?32:40;for(let Z=0;Z<h;Z+=ne)for(let Bt=0;Bt<f;Bt+=ne)Rt.circle(Z+ne/2,Bt+ne/2,P),Rt.stroke()}}),w.jsx(kG,{players:gt,width:h,height:f*(L?.65:.75),y:f*(L?.2:.15),onPlayerClick:Ot}),w.jsx(zG,{player1:gt[0],player2:gt[1],currentRound:e,timeRemaining:n,maxRounds:3,isPaused:s,width:h,height:L?80:120,y:0}),w.jsx(Wo,{title:gt[0].name.korean,x:L?10:20,y:f*(L?.15:.2),width:L?h*.4:180,height:L?200:300,"data-testid":"player1-status",screenWidth:h,screenHeight:f,children:w.jsx(ZC,{player:gt[0],position:"left",x:0,y:0,width:L?h*.4-20:160,height:L?180:280,isSelected:T===0})}),w.jsx(Wo,{title:gt[1].name.korean,x:h-(L?h*.4+10:200),y:f*(L?.15:.2),width:L?h*.4:180,height:L?200:300,"data-testid":"player2-status",screenWidth:h,screenHeight:f,children:w.jsx(ZC,{player:gt[1],position:"right",x:0,y:0,width:L?h*.4-20:160,height:L?180:280,isSelected:T===1})}),w.jsx(Wo,{title:"전투 통계",x:L?10:h/2-150,y:f-(L?160:180),width:L?h-20:300,height:L?100:160,"data-testid":"combat-stats-panel",screenWidth:h,screenHeight:f,children:w.jsx(YG,{players:gt,combatLog:R,x:0,y:0,width:L?h-40:280})}),w.jsx("pixiContainer",{x:L?10:20,y:f-(L?50:140),"data-testid":"combat-controls-container",children:w.jsx(LG,{onAttack:D,onDefend:F,onSwitchStance:$,player:gt[0],onTechniqueExecute:j,isExecutingTechnique:x,width:L?h-20:400,height:L?40:120,x:0,y:0})}),w.jsx(HG,{effects:B,onEffectComplete:V}),w.jsxs("pixiContainer",{x:h-(L?80:150),y:L?10:20,interactive:!0,onPointerDown:l,"data-testid":"return-menu-button",children:[w.jsx("pixiGraphics",{draw:Rt=>{Rt.clear(),Rt.fill({color:U.UI_STEEL_GRAY,alpha:.8}),Rt.roundRect(0,0,L?70:120,L?35:45,8),Rt.fill(),Rt.stroke({width:2,color:U.ACCENT_GOLD,alpha:.8}),Rt.roundRect(0,0,L?70:120,L?35:45,8)}}),w.jsx("pixiText",{text:"메뉴로",style:{fontSize:L?12:16,fill:U.TEXT_PRIMARY,align:"center",fontWeight:"bold"},x:(L?70:120)/2,y:(L?35:45)/2,anchor:.5,"data-testid":"return-menu-button-text"})]}),s&&w.jsxs("pixiContainer",{x:0,y:0,"data-testid":"pause-overlay",children:[w.jsx("pixiGraphics",{draw:Rt=>{Rt.clear(),Rt.fill({color:U.UI_BACKGROUND_DARK,alpha:.8}),Rt.rect(0,0,h,f),Rt.fill()}}),w.jsx("pixiText",{text:"일시 정지",style:{fontSize:L?32:48,fill:U.ACCENT_GOLD,fontWeight:"bold",align:"center"},x:h/2,y:f/2-30,anchor:.5}),w.jsx("pixiText",{text:"PAUSED",style:{fontSize:L?16:24,fill:U.TEXT_SECONDARY,align:"center"},x:h/2,y:f/2+20,anchor:.5})]})]})};var jG=(()=>{var i=import.meta.url;return function(t){t=t||{};var e;e||(e=typeof t<"u"?t:{});var n,s;e.ready=new Promise(function(M,G){n=M,s=G});var l=Object.assign({},e),c="";typeof document<"u"&&document.currentScript&&(c=document.currentScript.src),i&&(c=i),c.indexOf("blob:")!==0?c=c.substr(0,c.replace(/[?#].*/,"").lastIndexOf("/")+1):c="";var h=e.print||(()=>{}).bind(console),f=e.printErr||(()=>{}).bind(console);Object.assign(e,l),l=null;var p;e.wasmBinary&&(p=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&Rt("no native wasm support detected");var y,B=!1;function _(M,G,K){K=G+K;for(var W="";!(G>=K);){var it=M[G++];if(!it)break;if(it&128){var ct=M[G++]&63;if((it&224)==192)W+=String.fromCharCode((it&31)<<6|ct);else{var Ct=M[G++]&63;it=(it&240)==224?(it&15)<<12|ct<<6|Ct:(it&7)<<18|ct<<12|Ct<<6|M[G++]&63,65536>it?W+=String.fromCharCode(it):(it-=65536,W+=String.fromCharCode(55296|it>>10,56320|it&1023))}}else W+=String.fromCharCode(it)}return W}var x,v,T,S,R,O,D,F,j;function $(){var M=y.buffer;x=M,e.HEAP8=v=new Int8Array(M),e.HEAP16=S=new Int16Array(M),e.HEAP32=O=new Int32Array(M),e.HEAPU8=T=new Uint8Array(M),e.HEAPU16=R=new Uint16Array(M),e.HEAPU32=D=new Uint32Array(M),e.HEAPF32=F=new Float32Array(M),e.HEAPF64=j=new Float64Array(M)}var V,gt=[],ht=[],At=[];function L(){var M=e.preRun.shift();gt.unshift(M)}var Dt=0,Ot=null;function Rt(M){throw e.onAbort&&e.onAbort(M),M="Aborted("+M+")",f(M),B=!0,M=new WebAssembly.RuntimeError(M+". Build with -sASSERTIONS for more info."),s(M),M}function ne(M){return M.startsWith("data:application/octet-stream;base64,")}var P;if(P="data:application/octet-stream;base64,AGFzbQEAAAABugM3YAF/AGACf38AYAF/AX9gA39/fwBgAn98AGACf38Bf2ADf39/AX9gBH9/f30BfWADf398AGAAAGAEf39/fwBgAX8BfGACf38BfGAFf39/f38Bf2AAAX9gA39/fwF9YAZ/f31/fX8AYAV/f39/fwBgAn9/AX1gBX9/f319AX1gAX8BfWADf35/AX5gB39/f39/f38AYAZ/f39/f38AYAR/f39/AX9gBn9/f319fQF9YAR/f31/AGADf399AX1gBn98f39/fwF/YAR/fHx/AGACf30AYAh/f39/f39/fwBgDX9/f39/f39/f39/f38AYAp/f39/f39/f39/AGAFf39/f38BfGAEfHx/fwF9YA1/fX1/f399fX9/f39/AX9gB39/f319f38AYAJ+fwF/YAN/fX0BfWABfAF8YAN/fHwAYAR/f319AGAHf39/fX19fQF9YA1/fX99f31/fX19fX1/AX9gC39/f39/f399fX19AX9gCH9/f39/f319AGAEf39+fgBgB39/f39/f38Bf2ACfH8BfGAFf398fH8AYAN/f38BfGAEf39/fABgA39/fQBgBn9/fX99fwF/ArUBHgFhAWEAHwFhAWIAAwFhAWMACQFhAWQAFgFhAWUAEQFhAWYAIAFhAWcAAAFhAWgAIQFhAWkAAwFhAWoAAAFhAWsAFwFhAWwACgFhAW0ABQFhAW4AAwFhAW8AAQFhAXAAFwFhAXEABgFhAXIAAAFhAXMAIgFhAXQACgFhAXUADQFhAXYAFgFhAXcAAgFhAXgAAwFhAXkAGAFhAXoAAgFhAUEAAQFhAUIAEQFhAUMAAQFhAUQAAAOiAqACAgMSBwcACRkDAAoRBgYKEwAPDxMBBiMTCgcHGgMUASQFJRQHAwMKCgMmAQYYDxobFAAKBw8KBwMDAgkCAAAFGwACBwIHBgIDAQMIDAABKAkHBQURACkZASoAAAIrLAIALQcHBy4HLwkFCgMCMA0xAgMJAgACAQYKAQIBBQEACQIFAQEABQAODQ0GFQIBHBUGAgkCEAAAAAUyDzMMBQYINAUCAwUODg41AgMCAgIDBgICNgIBDAwMAQsLCwsLCx0CAAIAAAABABABBQICAQMCEgMMCwEBAQEBAQsLAQICAwICAgICAgIDAgIICAEICAgEBAQEBAQEBAQABAQABAQEBAAE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GiABQQA2AvADIAFCADcC6AMgAigC7AMiAyACKALoAyIERwRAIAMgBGsiBEEASA0FIAEgBBAeIgM2AuwDIAEgAzYC6AMgASADIARqNgLwAyACKALoAyIEIAIoAuwDIghHBEADQCADIAQoAgA2AgAgA0EEaiEDIARBBGoiBCAIRw0ACwsgASADNgLsAwsgASACKQL0AzcC9AMgASACKAKEBDYChAQgASACKQL8AzcC/AMgAUEANgLkAwsgBSABNgIAIAEgADYC5AMLIAZBAWohBiAFQQRqIgUgB0cNAAsLDwsQAgALUAACQAJAAkACQAJAIAIOBAQAAQIDCyAAIAEgAUEwahBDDwsgACABIAFBMGogAxBEDwsgACABIAFBMGoQQg8LECQACyAAIAEgAUEwaiADEEULcAIBfwF9IwBBEGsiBCQAIARBCGogACABQQJ0QdwlaigCACACEDZDAADAfyEFAkACQAJAIAQtAAxBAWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwt5AgF/AX0jAEEQayIDJAAgA0EIaiAAIAFBAnRB7CVqKAIAIAIQU0MAAMB/IQQCQAJAAkAgAy0ADEEBaw4CAAECCyADKgIIIQQMAQsgAyoCCEMAAAAAlEMK1yM8lCEECyADQRBqJAAgBEMAAAAAl0MAAAAAIAQgBFsbC1QAAkACQAJAAkACQCACDgQEAAECAwsgACABIAFBwgBqEEMPCyAAIAEgAUHCAGogAxBEDwsgACABIAFBwgBqEEIPCxAkAAsgACABIAFBwgBqIAMQRQsvACAAIAJFQQF0IgIgASADEGAgACACIAEQS5IgACACIAEgAxB/IAAgAiABEFKSkgvOAQIDfwJ9IwBBEGsiAyQAQQEhBCADQQhqIABB/ABqIgUgACABQQF0akH2AGoiAS8BABAfAkACQCADKgIIIgcgAioCACIGXARAIAcgB1sEQCACLQAEIQIMAgsgBiAGXCEECyACLQAEIQIgBEUNACADLQAMIAJB/wFxRg0BCyAFIAEgBiACEDkDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCyADQRBqJAALzgECA38CfSMAQRBrIgMk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AWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwscACAAIAFBCCACpyACQiCIpyADpyADQiCIpxAVCwUAEFgACzkAIABFBEBBAA8LAn8gAUGAf3FBgL8DRiABQf8ATXJFBEBB/DtBGTYCAEF/DAELIAAgAToAAEEBCwvEAgACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABQQlrDhIACgsMCgsCAwQFDAsMDAoLBwgJCyACIAIoAgAiAUEEajYCACAAIAEoAgA2AgAPCwALIAIgAigCACIBQQRqNgIAIAAgATIBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATMBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATAAADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATEAADcDAA8LAAsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACIAMRAQALDwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMAC84BAgN/An0jAEEQayIDJABBASEEIANBCGogAEH8AGoiBSAAIAFBAXRqQegAaiIBLwEAEB8CQAJAIAMqAggiByACKgIAIgZcBEAgByAHWwRAIAItAAQhAgwCCyAGIAZcIQQLIAItAAQhAiAERQ0AIAMtAAwgAkH/AXFGDQELIAUgASAGIAIQOQNAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLIANBEGokAAtdAQR/IAAoAgAhAgNAIAIsAAAiAxBXBEBBfyEEIAAgAkEBaiICNgIAIAFBzJmz5gBNBH9BfyADQTBrIgMgAUEKbCIEaiADIARB/////wdzShsFIAQLIQEMAQsLIAELrhQCEn8BfiMAQdAAayIIJAAgCCABNgJMIAhBN2ohFyAIQThqIRQCQAJAAkACQANAIAEhDSAHIA5B/////wdzSg0BIAcgDmohDgJAAkACQCANIgctAAAiCQRAA0ACQAJAIAlB/wFxIgFFBEAgByEBDAELIAFBJUcNASAHIQkDQCAJLQABQSVHBEAgCSEBDAILIAdBAWohByAJLQACIQogCUECaiIBIQkgCkElRg0ACwsgByANayIHIA5B/////wdzIhhKDQcgAARAIAAgDSAHECYLIAcNBiAIIAE2AkwgAUEBaiEHQX8hEgJAIAEsAAEiChBXRQ0AIAEtAAJBJEcNACABQQNqIQcgCkEwayESQQEhFQsgCCAHNgJMQQAhDAJAIAcsAAAiCUEgayIBQR9LBEAgByEKDAELIAchCkEBIAF0IgFBidEEcUUNAANAIAggB0EBaiIKNgJMIAEgDHIhDCAHLAABIglBIGsiAUEgTw0BIAohB0EBIAF0IgFBidEEcQ0ACwsCQCAJQSpGBEACfwJAIAosAAEiARBXRQ0AIAotAAJBJEcNACABQQJ0IARqQcABa0EKNgIAIApBA2ohCUEBIRUgCiwAAUEDdCADakGAA2soAgAMAQsgFQ0GIApBAWohCSAARQRAIAggCTYCTEEAIRVBACETDAMLIAIgAigCACIBQQRqNgIAQQAhFSABKAIACyETIAggCTYCTCATQQBODQFBACATayETIAxBgMAAciEMDAELIAhBzABqEIkBIhNBAEgNCCAIKAJMIQkLQQAhB0F/IQsCfyAJLQAAQS5HBEAgCSEBQQAMAQsgCS0AAUEqRgRAAn8CQCAJLAACIgEQV0UNACAJLQADQSRHDQAgAUECdCAEakHAAWtBCjYCACAJQQRqIQEgCSwAAkEDdCADakGAA2soAgAMAQsgFQ0GIAlBAmohAUEAIABFDQAaIAIgAigCACIKQQRqNgIAIAooAgALIQsgCCABNgJMIAtBf3NBH3YMAQsgCCAJQQFqNgJMIAhBzABqEIkBIQsgCCgCTCEBQQELIQ8DQCAHIRFBHCEKIAEiECwAACIHQfsAa0FGSQ0JIBBBAWohASAHIBFBOmxqQf8qai0AACIHQQFrQQhJDQALIAggATYCTAJAAkAgB0EbRwRAIAdFDQsgEkEATgRAIAQgEkECdGogBzYCACAIIAMgEkEDdGopAwA3A0AMAgsgAEUNCCAIQUBrIAcgAiAGEIcBDAILIBJBAE4NCgtBACEHIABFDQcLIAxB//97cSIJIAwgDEGAwABxGyEMQQAhEkGPCSEWIBQhCgJAAkACQAJ/AkACQAJAAkACfwJAAkACQAJAAkACQAJAIBAsAAAiB0FfcSAHIAdBD3FBA0YbIAcgERsiB0HYAGsOIQQUFBQUFBQUFA4UDwYODg4UBhQUFBQCBQMUFAkUARQUBAALAkAgB0HBAGsOBw4UCxQODg4ACyAHQdMARg0JDBMLIAgpA0AhGUGPCQwFC0EAIQcCQAJAAkACQAJAAkACQCARQf8BcQ4IAAECAwQaBQYaCyAIKAJAIA42AgAMGQsgCCgCQCAONgIADBgLIAgoAkAgDqw3AwAMFwsgCCgCQCAOOwEADBYLIAgoAkAgDjoAAAwVCyAIKAJAIA42AgAMFAsgCCgCQCAOrDcDAAwTC0EIIAsgC0EITRshCyAMQQhyIQxB+AAhBwsgFCENIAgpA0AiGVBFBEAgB0EgcSEQA0AgDUEBayINIBmnQQ9xQZAvai0AACAQcjoAACAZQg9WIQkgGUIEiCEZIAkNAAsLIAxBCHFFIAgpA0BQcg0DIAdBBHZBjwlqIRZBAiESDAMLIBQhByAIKQNAIhlQRQRAA0AgB0EBayIHIBmnQQdxQTByOgAAIBlCB1YhDSAZQgOIIRkgDQ0ACwsgByENIAxBCHFFDQIgCyAUIA1rIgdBAWogByALSBshCwwCCyAIKQNAIhlCAFMEQCAIQgAgGX0iGTcDQEEBIRJBjwkMAQsgDEGAEHEEQEEBIRJBkAkMAQtBkQlBjwkgDEEBcSISGwshFiAZIBQQRyENCyAPQQAgC0EASBsNDiAMQf//e3EgDCAPGyEMIAgpA0AiGUIAUiALckUEQCAUIQ1BACELDAwLIAsgGVAgFCANa2oiByAHIAtIGyELDAsLQQAhDAJ/Qf////8HIAsgC0H/////B08bIgoiEUEARyEQAkACfwJAAkAgCCgCQCIHQY4lIAcbIg0iD0EDcUUgEUVyDQADQCAPLQAAIgxFDQIgEUEBayIRQQBHIRAgD0EBaiIPQQNxRQ0BIBENAAsLIBBFDQICQCAPLQAARSARQQRJckUEQANAIA8oAgAiB0F/cyAHQYGChAhrcUGAgYKEeHENAiAPQQRqIQ8gEUEEayIRQQNLDQALCyARRQ0DC0EADAELQQELIRADQCAQRQRAIA8tAAAhDEEBIRAMAQsgDyAMRQ0CGiAPQQFqIQ8gEUEBayIRRQ0BQQAhEAwACwALQQALIgcgDWsgCiAHGyIHIA1qIQogC0EATgRAIAkhDCAHIQsMCwsgCSEMIAchCyAKLQAADQ0MCgsgCwRAIAgoAkAMAgtBACEHIABBICATQQAgDBApDAILIAhBADYCDCAIIAgpA0A+AgggCCAIQQhqIgc2AkBBfyELIAcLIQlBACEHAkADQCAJKAIAIg1FDQEgCEEEaiANEIYBIgpBAEgiDSAKIAsgB2tLckUEQCAJQQRqIQkgCyAHIApqIgdLDQEMAgsLIA0NDQtBPSEKIAdBAEgNCyAAQSAgEyAHIAwQKSAHRQRAQQAhBwwBC0EAIQogCCgCQCEJA0AgCSgCACINRQ0BIAhBBGogDRCGASINIApqIgogB0sNASAAIAhBBGogDRAmIAlBBGohCSAHIApLDQALCyAAQSAgEyAHIAxBgMAAcxApIBMgByAHIBNIGyEHDAgLIA9BACALQQBIGw0IQT0hCiAAIAgrA0AgEyALIAwgByAFERwAIgdBAE4NBwwJCyAIIAgpA0A8ADdBASELIBchDSAJIQwMBAsgBy0AASEJIAdBAWohBwwACwALIAANByAVRQ0CQQEhBwNAIAQgB0ECdGooAgAiAARAIAMgB0EDdGogACACIAYQhwFBASEOIAdBAWoiB0EKRw0BDAkLC0EBIQ4gB0EKTw0HA0AgBCAHQQJ0aigCAA0BIAdBAWoiB0EKRw0ACwwHC0EcIQoMBAsgCyAKIA1rIhAgCyAQShsiCSASQf////8Hc0oNAkE9IQogEyAJIBJqIgsgCyATSBsiByAYSg0DIABBICAHIAsgDBApIAAgFiASECYgAEEwIAcgCyAMQYCABHMQKSAAQTAgCSAQQQAQKSAAIA0gEBAmIABBICAHIAsgDEGAwABzECkMAQsLQQAhDgwDC0E9IQoLQfw7IAo2AgALQX8hDgsgCEHQAGokACAOC9kCAQR/IwBB0AFrIgUkACAFIAI2AswBIAVBoAFqIgJBAEEoECoaIAUgBSgCzAE2AsgBAkBBACABIAVByAFqIAVB0ABqIAIgAyAEEIoBQQBIBEBBfyEEDAELQQEgBiAAKAJMQQBOGyEGIAAoAgAhByAAKAJIQQBMBEAgACAHQV9xNgIACwJ/AkACQCAAKAIwRQRAIABB0AA2AjAgAEEANgIcIABCADcDECAAKAIsIQggACAFNgIsDAELIAAoAhANAQtBfyAAEJ0BDQEaCyAAIAEgBUHIAWogBUHQAGogBUGgAWogAyAEEIoBCyECIAgEQCAAQQBBACAAKAIkEQYAGiAAQQA2AjAgACAINgIsIABBADYCHCAAKAIUIQEgAEIANwMQIAJBfyABGyECCyAAIAAoAgAiACAHQSBxcjYCAEF/IAIgAEEgcRshBCAGRQ0ACyAFQdABaiQAIAQLfwIBfwF+IAC9IgNCNIinQf8PcSICQf8PRwR8IAJFBEAgASAARAAAAAAAAAAAYQR/QQAFIABEAAAAAAAA8EOiIAEQjAEhACABKAIAQUBqCzYCACAADwsgASACQf4HazYCACADQv////////+HgH+DQoCAgICAgIDwP4S/BSAACwsVACAARQRAQQAPC0H8OyAANgIAQX8LzgECA38CfSMAQRBrIgMkAEEBIQQgA0EIaiAAQfwAaiIFIAAgAUEBdGpBxABqIgEvAQAQHwJAAkAgAyoCCCIHIAIqAgAiBlwEQCAHIAdbBEAgAi0ABCECDAILIAYgBlwhBAsgAi0ABCECIARFDQAgAy0ADCACQf8BcUYNAQsgBSABIAYgAhA5A0AgAC0AACIBQQRxDQEgACABQQRyOgAAIAAoAhAiAQRAIAAgAREAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsgA0EQaiQAC9EDAEHUO0GoHBAcQdU7QYoWQQFBAUEAEBtB1jtB/RJBAUGAf0H/ABAEQdc7QfYSQQFBgH9B/wAQBEHYO0H0EkEBQQBB/wEQBEHZO0GUCkECQYCAfkH//wEQBEHaO0GLCkECQQBB//8DEARB2ztBsQpBBEGAgICAeEH/////BxAEQdw7QagKQQRBAEF/EARB3TtB+BhBBEGAgICAeEH/////BxAEQd47Qe8YQQRBAEF/EARB3ztBjxBCgICAgICAgICAf0L///////////8AEIQBQeA7QY4QQgBCfxCEAUHhO0GIEEEEEA1B4jtB9BtBCBANQeM7QaQZEA5B5DtBmSIQDkHlO0EEQZcZEAhB5jtBAkGwGRAIQec7QQRBvxkQCEHoO0GPFhAaQek7QQBB1CEQAUHqO0EAQboiEAFB6ztBAUHyIRABQew7QQJB5B4QAUHtO0EDQYMfEAFB7jtBBEGrHxABQe87QQVByB8QAUHwO0EEQd8iEAFB8TtBBUH9IhABQeo7QQBBriAQAUHrO0EBQY0gEAFB7DtBAkHwIBABQe07QQNBziAQAUHuO0EEQbMhEAFB7ztBBUGRIRABQfI7QQZB7h8QAUHzO0EHQaQjEAELJQAgAEH0JjYCACAALQAEBEAgACgCCEH9DxBmCyAAKAIIEAYgAAsDAAALJQAgAEHsJzYCACAALQAEBEAgACgCCEH9DxBmCyAAKAIIEAYgAAs3AQJ/QQQQHiICIAE2AgBBBBAeIgMgATYCAEGjOyAAQeI7QfooQcEBIAJB4jtB/ihBwgEgAxAHCzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRBQALOQEBfyABIAAoAgQiBEEBdWohASAAKAIAIQAgASACIAMgBEEBcQR/IAEoAgAgAGooAgAFIAALEQMACwkAIAEgABEAAAsHACAAEQ4ACzUBAX8gASAAKAIEIgJBAXVqIQEgACgCACEAIAEgAkEBcQR/IAEoAgAgAGooAgAFIAALEQAACzABAX8jAEEQayICJAAgAiABNgIIIAJBCGogABECACEAIAIoAggQBiACQRBqJAAgAAsMACABIAAoAgARAAALCQAgAEEBOgAEC9coAQJ/QaA7QaE7QaI7QQBBjCZBB0GPJkEAQY8mQQBB2RZBkSZBCBAFQQgQHiIAQoiAgIAQNwMAQaA7QZcbQQZBoCZBuCZBCSAAQQEQAEGkO0GlO0GmO0GgO0GMJkEKQYwmQQtBjCZBDEG4EUGRJkENEAVBBBAeIgBBDjYCAEGkO0HoFEECQcAmQcgmQQ8gAEEAEABBoDtBowxBAkHMJkHUJkEQQREQA0GgO0GAHEEDQaQnQbAnQRJBExADQbg7Qbk7Qbo7QQBBjCZBFEGPJkEAQY8mQQBB6RZBkSZBFRAFQQgQHiIAQoiAgIAQNwMAQbg7QegcQQJBuCdByCZBFiAAQQEQAEG7O0G8O0G9O0G4O0GMJkEXQYwmQRhBjCZBGUHPEUGRJkEaEAVBBBAeIgBBGzYCAEG7O0HoFEECQcAnQcgmQRwgAEEAEABBuDtBowxBAkHIJ0HUJkEdQR4QA0G4O0GAHEEDQaQnQbAnQRJBHxADQb47Qb87QcA7QQBBjCZBIEGPJkEAQY8mQQBB2hpBkSZBIRAFQb47QQFB+CdBjCZBIkEjEA9BvjtBkBtBAUH4J0GMJkEiQSMQA0G+O0HpCEECQfwnQcgmQSRBJRADQQgQHiIAQQA2AgQgAEEmNgIAQb47Qa0cQQRBkChBoChBJyAAQQAQAEEIEB4iAEEANgIEIABBKDYCAEG+O0GkEUEDQagoQbQoQSkgAEEAEABBCBAeIgBBADYCBCAAQSo2AgBBvjtByB1BA0G8KEHIKEErIABBABAAQQgQHiIAQQA2AgQgAEEsNgIAQb47QaYQQQNB0ChByChBLSAAQQAQAEEIEB4iAEEANgIEIABBLjYCAEG+O0HLHEEDQdwoQbAnQS8gAEEAEABBCBAeIgBBADYCBCAAQTA2AgBBvjtB0h1BAkHoKEHUJkExIABBABAAQQgQHiIAQQA2AgQgAEEyNgIAQb47QZcQQQJB8ChB1CZBMyAAQQAQAEHBO0GECkH4KEE0QZEmQTUQCkHiD0EAEEhB6g5BCBBIQYITQRAQSEHxFUEYEEhBgxdBIBBIQfAOQSgQSEHBOxAJQaM7Qf8aQfgoQTZBkSZBNxAKQYMXQQAQkwFB8A5BCBCTAUGjOxAJQcI7QYobQfgoQThBkSZBORAKQQQQHiIAQQg2AgBBBBAeIgFBCDYCAEHCO0GEG0HiO0H6KEE6IABB4jtB/ihBOyABEAdBBBAeIgBBADYCAEEEEB4iAUEANgIAQcI7QeUOQds7QdQmQTwgAEHbO0HIKEE9IAEQB0HCOxAJQcM7QcQ7QcU7QQBBjCZBPkGPJkEAQY8mQQBB+xtBkSZBPxAFQcM7QQFBhClBjCZBwABBwQAQD0HDO0HXDkEBQYQpQYwmQcAAQcEAEANBwztB0BpBAkGIKUHUJkHCAEHDABADQcM7QekIQQJBkClByCZBxABBxQAQA0EIEB4iAEEANgIEIABBxgA2AgBBwztB9w9BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABByAA2AgBBwztB6htBA0GYKUHIKEHJACAAQQAQAEEIEB4iAEEANgIEIABBygA2AgBBwztBnxtBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABBzAA2AgBBwztB0BRBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABBzgA2AgBBwztBiA1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABBzwA2AgBBwztB3RNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0AA2AgBBwztB+QtBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0QA2AgBBwztBuBBBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0gA2AgBBwztB5RpBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0wA2AgBBwztB/BRBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1AA2AgBBwztBlRNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1QA2AgBBwztBtQpBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1gA2AgBBwztBuBVBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB1wA2AgBBwztBmw1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB2AA2AgBBwztB7RNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2QA2AgBBwztBxAlBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2gA2AgBBwztB8QhBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2wA2AgBBwztBhwlBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3QA2AgBBwztB1BBBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3gA2AgBBwztB5gxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3wA2AgBBwztBzBNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB4AA2AgBBwztBrAlBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4QA2AgBBwztBnxZBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4gA2AgBBwztBoRdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4wA2AgBBwztBvw1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5AA2AgBBwztB+xNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB5QA2AgBBwztBkQ9BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5gA2AgBBwztBwQxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5wA2AgBBwztBvhNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB6AA2AgBBwztBsxdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6QA2AgBBwztBzw1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6gA2AgBBwztBpQ9BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6wA2AgBBwztB0gxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7AA2AgBBwztBiRdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7QA2AgBBwztBrA1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7gA2AgBBwztB9w5BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7wA2AgBBwztBrQxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB8AA2AgBBwztB/RhBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB8QA2AgBBwztBshRBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB8gA2AgBBwztBlBJBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB8wA2AgBBwztBzhlBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9AA2AgBBwztB4g1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9QA2AgBBwztBrRNBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9gA2AgBBwztB+gxBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9wA2AgBBwztBnhVBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB+AA2AgBBwztBrxtBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB+gA2AgBBwztB3BRBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABB/AA2AgBBwztBiQxBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/QA2AgBBwztBxhBBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/gA2AgBBwztB8hpBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/wA2AgBBwztBjRVBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBgAE2AgBBwztBoRNBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBgQE2AgBBwztBxwpBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBggE2AgBBwztBwhVBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABBgwE2AgBBwztB4RBBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBhQE2AgBBwztBuAlBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBhwE2AgBBwztBrRZBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBiAE2AgBBwztBqhdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBiQE2AgBBwztBmw9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBigE2AgBBwztBvxdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBiwE2AgBBwztBsg9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjAE2AgBBwztBlRdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjQE2AgBBwztBhA9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjgE2AgBBwztBihlBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBjwE2AgBBwztBwRRBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBkAE2AgBBwztBnhJBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBkgE2AgBBwztB0AlBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBkwE2AgBBwztB/AhBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBlAE2AgBBwztB2RlBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABBlQE2AgBBwztBtBNBA0GMKkGYKkGWASAAQQAQAEEIEB4iAEEANgIEIABBlwE2AgBBwztBhxxBBEGgKkGgKEGYASAAQQAQAEEIEB4iAEEANgIEIABBmQE2AgBBwztBnBxBA0GwKkHIKEGaASAAQQAQAEEIEB4iAEEANgIEIABBmwE2AgBBwztBmgpBAkG8KkHUJkGcASAAQQAQAEEIEB4iAEEANgIEIABBnQE2AgBBwztBmQxBAkHEKkHUJkGeASAAQQAQAEEIEB4iAEEANgIEIABBnwE2AgBBwztBkxxBA0HMKkGwJ0GgASAAQQAQAEEIEB4iAEEANgIEIABBoQE2AgBBwztBuxZBA0HYKkHIKEGiASAAQQAQAEEIEB4iAEEANgIEIABBowE2AgBBwztBvxtBAkHkKkHUJkGkASAAQQAQAEEIEB4iAEEANgIEIABBpQE2AgBBwztB0xtBA0HYKkHIKEGiASAAQQAQAEEIEB4iAEEANgIEIABBpgE2AgBBwztBqB1BA0HsKkHIKEGnASAAQQAQAEEIEB4iAEEANgIEIABBqAE2AgBBwztBph1BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBqQE2AgBBwztBuR1BA0H4KkHIKEGqASAAQQAQAEEIEB4iAEEANgIEIABBqwE2AgBBwztBtx1BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBrAE2AgBBwztB3whBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBrQE2AgBBwztB1whBAkGEK0HUJkGuASAAQQAQAEEIEB4iAEEANgIEIABBrwE2AgBBwztB3hVBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBsAE2AgBBwztB3AlBAkGEK0HUJkGuASAAQQAQAEEIEB4iAEEANgIEIABBsQE2AgBBwztB6QlBBUGQK0GkK0GyASAAQQAQAEEIEB4iAEEANgIEIABBswE2AgBBwztB5w9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtAE2AgBBwztB0Q9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtQE2AgBBwztBhhNBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtgE2AgBBwztB+BVBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtwE2AgBBwztByxdBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBuAE2AgBBwztBvw9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBuQE2AgBBwztB+QlBAkGsK0HUJkG6ASAAQQAQAEEIEB4iAEEANgIEIABBuwE2AgBBwztBzBVBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvAE2AgBBwztBqBJBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvQE2AgBBwztB5BlBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvgE2AgBBwztBqxVBAkHUKUHUJkH5ACAAQQAQAAtZAQF/IAAgACgCSCIBQQFrIAFyNgJIIAAoAgAiAUEIcQRAIAAgAUEgcjYCAEF/DwsgAEIANwIEIAAgACgCLCIBNgIcIAAgATYCFCAAIAEgACgCMGo2AhBBAAtHAAJAIAFBA00EfyAAIAFBAnRqQQRqBSABQQRrIgEgACgCGCIAKAIEIAAoAgAiAGtBAnVPDQEgACABQQJ0agsoAgAPCxACAAs4AQF/IAFBAEgEQBACAAsgAUEBa0EFdkEBaiIBQQJ0EB4hAiAAIAE2AgggAEEANgIEIAAgAjYCAAvSBQEJfyAAIAEvAQA7AQAgACABKQIENwIEIAAgASkCDDcCDCAAIAEoAhQ2AhQCQAJAIAEoAhgiA0UNAEEYEB4iBUEANgIIIAVCADcCACADKAIEIgEgAygCACICRwRAIAEgAmsiAkEASA0CIAUgAhAeIgE2AgAgBSABIAJqNgIIIAMoAgAiAiADKAIEIgZHBEADQCABIAIoAgA2AgAgAUEEaiEBIAJBBGoiAiAGRw0ACwsgBSABNgIECyAFQgA3AgwgBUEANgIUIAMoAhAiAUUNACAFQQxqIAEQnwEgAygCDCEGIAUgBSgCECIEIAMoAhAiAkEfcWogAkFgcWoiATYCEAJAAkAgBEUEQCABQQFrIQMMAQsgAUEBayIDIARBAWtzQSBJDQELIAUoAgwgA0EFdkEAIAFBIU8bQQJ0akEANgIACyAFKAIMIARBA3ZB/P///wFxaiEBIARBH3EiA0UEQCACQQBMDQEgAkEgbSEDIAJBH2pBP08EQCABIAYgA0ECdBAzGgsgAiADQQV0ayICQQBMDQEgASADQQJ0IgNqIgEgASgCAEF/QSAgAmt2IgFBf3NxIAMgBmooAgAgAXFyNgIADAELIAJBAEwNAEF/IAN0IQhBICADayEEIAJBIE4EQCAIQX9zIQkgASgCACEHA0AgASAHIAlxIAYoAgAiByADdHI2AgAgASABKAIEIAhxIAcgBHZyIgc2AgQgBkEEaiEGIAFBBGohASACQT9LIQogAkEgayECIAoNAAsgAkEATA0BCyABIAEoAgBBfyAEIAQgAiACIARKGyIEa3YgCHFBf3NxIAYoAgBBf0EgIAJrdnEiBiADdHI2AgAgAiAEayICQQBMDQAgASADIARqQQN2Qfz///8BcWoiASABKAIAQX9BICACa3ZBf3NxIAYgBHZyNgIACyAAKAIYIQEgACAFNgIYIAEEQCABEFsLDwsQAgALvQMBB38gAARAIwBBIGsiBiQAIAAoAgAiASgC5AMiAwRAIAMgARBvGiABQQA2AuQDCyABKALsAyICIAEoAugDIgNHBEBBASACIANrQQJ1IgIgAkEBTRshBEEAIQIDQCADIAJBAnRqKAIAQQA2AuQDIAJBAWoiAiAERw0ACwsgASADNgLsAwJAIAMgAUHwA2oiAigCAEYNACAGQQhqQQBBACACEEoiAigCBCABKALsAyABKALoAyIEayIFayIDIAQgBRAzIQUgASgC6AMhBCABIAU2AugDIAIgBDYCBCABKALsAyEFIAEgAigCCDYC7AMgAiAFNgIIIAEoAvADIQcgASACKAIMNgLwAyACIAQ2AgAgAiAHNgIMIAQgBUcEQCACIAUgBCAFa0EDakF8cWo2AggLIARFDQAgBBAnIAEoAugDIQMLIAMEQCABIAM2AuwDIAMQJwsgASgClAEhAyABQQA2ApQBIAMEQCADEFsLIAEQJyAAKAIIIQEgAEEANgIIIAEEQCABIAEoAgAoAgQRAAALIAAoAgQhASAAQQA2AgQgAQRAIAEgASgCACgCBBEAAAsgBkEgaiQAIAAQIwsLtQEBAX8jAEEQayICJAACfyABBEAgASgCACEBQYgEEB4gARBcIAENARogAkH3GTYCACACEHIQJAALQZQ7LQAARQRAQfg6QQM2AgBBiDtCgICAgICAgMA/NwIAQYA7QgA3AgBBlDtBAToAAEH8OkH8Oi0AAEH+AXE6AABB9DpBADYCAEGQO0EANgIAC0GIBBAeQfQ6EFwLIQEgAEIANwIEIAAgATYCACABIAA2AgQgAkEQaiQAIAALGwEBfyAABEAgACgCACIBBEAgARAjCyAAECMLC0kBAn9BBBAeIQFBIBAeIgBBADYCHCAAQoCAgICAgIDAPzcCFCAAQgA3AgwgAEEAOgAIIABBAzYCBCAAQQA2AgAgASAANgIAIAELIAAgAkEFR0EAIAIbRQRAQbgwIAMgBBBJDwsgAyAEEHALIgEBfiABIAKtIAOtQiCGhCAEIAARFQAiBUIgiKckASAFpwuoAQEFfyAAKAJUIgMoAgAhBSADKAIEIgQgACgCFCAAKAIcIgdrIgYgBCAGSRsiBgRAIAUgByAGECsaIAMgAygCACAGaiIFNgIAIAMgAygCBCAGayIENgIECyAEIAIgAiAESxsiBARAIAUgASAEECsaIAMgAygCACAEaiIFNgIAIAMgAygCBCAEazYCBAsgBUEAOgAAIAAgACgCLCIBNgIcIAAgATYCFCACCwQAQgALBABBAAuKBQIGfgJ/IAEgASgCAEEHakF4cSIBQRBqNgIAIAAhCSABKQMAIQMgASkDCCEGIwBBIGsiCCQAAkAgBkL///////////8AgyIEQoCAgICAgMCAPH0gBEKAgICAgIDA/8MAfVQEQCAGQgSGIANCPIiEIQQgA0L//////////w+DIgNCgYCAgICAgIAIWgRAIARCgYCAgICAgIDAAHwhAgwCCyAEQoCAgICAgICAQH0hAiADQoCAgICAgICACFINASACIARCAYN8IQIMAQsgA1AgBEKAgICAgIDA//8AVCAEQoCAgICAgMD//wBRG0UEQCAGQgSGIANCPIiEQv////////8Dg0KAgICAgICA/P8AhCECDAELQoCAgICAgID4/wAhAiAEQv///////7//wwBWDQBCACECIARCMIinIgBBkfcASQ0AIAMhAiAGQv///////z+DQoCAgICAgMAAhCIFIQcCQCAAQYH3AGsiAUHAAHEEQCACIAFBQGqthiEHQgAhAgwBCyABRQ0AIAcgAa0iBIYgAkHAACABa62IhCEHIAIgBIYhAgsgCCACNwMQIAggBzcDGAJAQYH4ACAAayIAQcAAcQRAIAUgAEFAaq2IIQNCACEFDAELIABFDQAgBUHAACAAa62GIAMgAK0iAoiEIQMgBSACiCEFCyAIIAM3AwAgCCAF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ASAAKAIAIQAgASACQQFxBH8gASgCACAAaigCAAUgAAsRCwALYQECfyMAQRBrIgIkACABIAAoAgQiA0EBdWohASAAKAIAIQAgAiABIANBAXEEfyABKAIAIABqKAIABSAACxEBAEEQEB4iACACKQMINwMIIAAgAikDADcDACACQRBqJAAgAAtjAQJ/IwBBEGsiAyQAIAEgACgCBCIEQQF1aiEBIAAoAgAhACADIAEgAiAEQQFxBH8gASgCACAAaigCAAUgAAsRAwBBEBAeIgAgAykDCDcDCCAAIAMpAwA3AwAgA0EQaiQAIAALNwEBfyABIAAoAgQiA0EBdWohASAAKAIAIQAgASACIANBAXEEfyABKAIAIABqKAIABSAACxEEAAs5AQF/IAEgACgCBCIEQQF1aiEBIAAoAgAhACABIAIgAyAEQQFxBH8gASgCACAAaigCAAUgAAsRCAALCQAgASAAEQIACwUAQcM7Cw8AIAEgACgCAGogAjYCAAsNACABIAAoAgBqKAIACxgBAX9BEBAeIgBCADcDCCAAQQA2AgAgAAsYAQF/QRAQHiIAQgA3AwAgAEIANwMIIAALDABBMBAeQQBBMBAqCzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRHgALBQBBvjsLIQAgACABKAIAIAEgASwAC0EASBtBuzsgAigCABAQNgIACyoBAX9BDBAeIgFBADoABCABIAAoAgA2AgggAEEANgIAIAFB2Cc2AgAgAQsFAEG7OwsFAEG4OwshACAAIAEoAgAgASABLAALQQBIG0GkOyACKAIAEBA2AgAL2AEBBH8jAEEgayIDJAAgASgCACIEQfD///8HSQRAAkACQCAEQQtPBEAgBEEPckEBaiIFEB4hBiADIAVBgICAgHhyNgIQIAMgBjYCCCADIAQ2AgwgBCAGaiEFDAELIAMgBDoAEyADQQhqIgYgBGohBSAERQ0BCyAGIAFBBGogBBArGgsgBUEAOgAAIAMgAjYCACADQRhqIANBCGogAyAAEQMAIAMoAhgQHSADKAIYIgAQBiADKAIAEAYgAywAE0EASARAIAMoAggQIwsgA0EgaiQAIAAPCxACAAsqAQF/QQwQHiIBQQA6AAQgASAAKAIANgIIIABBADYCACABQeAmNgIA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AkEIaiAIIAYQHyACIAcgAC8AABAfQQEhAyACKgIIIgogAioCACILXAR/IAogClsNAyALIAtcBSADC0UNAiACLQAMIAItAARHDQILIABBAmohAEEBIQMgBCEGQQEhBCAGRQ0ACyABLwB6IgBBB3FFBEAgBS0AekEHcUUNAgsgCCAAECAiCiAHIAUvAHoQICILWw0BIAogClsNACALIAtcDQELIAFBFGogBUEUakHoABArGiABQfwAaiAFQfwAahCgAQNAIAEtAAAiAEEEcQ0BIAEgAEEEcjoAACABKAIQIgAEQCABIAARAAALIAFBgICA/gc2ApwBIAEoAuQDIgENAAsLIAJBEGokAAvGAwEEfyMAQaAEayICJAAgACgCBCEBIABBADYCBCABBEAgASABKAIAKAIEEQAACyAAKAIIIQEgAEEANgIIIAEEQCABIAEoAgAoAgQRAAALAkAgACgCACIAKALoAyAAKALsA0YEQCAAKALkAw0BIAAgAkEYaiAAKAL0AxBcIgEpAgA3AgAgACABKAIQNgIQIAAgASkCCDcCCCAAQRRqIAFBFGpB6AAQKxogACABKQKMATcCjAEgACABKQKEATcChAEgACABKQJ8NwJ8IAEoApQBIQQgAUEANgKUASAAKAKUASEDIAAgBDYClAEgAwRAIAMQWwsgAEGYAWogAUGYAWpB0AIQKxogACgC6AMiAwRAIAAgAzYC7AMgAxAjCyAAIAEoAugDNgLoAyAAIAEoAuwDNgLsAyAAIAEoAvADNgLwAyABQQA2AvADIAFCADcC6AMgACABKQL8AzcC/AMgACABKQL0AzcC9AMgACABKAKEBDYChAQgASgClAEhACABQQA2ApQBIAAEQCAAEFsLIAJBoARqJAAPCyACQfAcNgIQIABBBUHYJSACQRBqECwQJAALIAJB5hE2AgAgAEEFQdglIAIQLBAkAAsLAEEMEB4gABCiAQsLAEEMEB5BABCiAQsNACAAKAIALQAIQQFxCwoAIAAoAgAoAhQLGQAgAUH/AXEEQBACAAsgACgCACgCEEEBcQsYACAAKAIAIgAgAC0ACEH+AXEgAXI6AAgLJgAgASAAKAIAIgAoAhRHBEAgACABNgIUIAAgACgCDEEBajYCDAsLkgEBAn8jAEEQayICJAAgACgCACEAIAFDAAAAAGAEQCABIAAqAhhcBEAgACABOAIYIAAgACgCDEEBajYCDAsgAkEQaiQADwsgAkGIFDYCACMAQRBrIgMkACADIAI2AgwCQCAARQRAQbgwQdglIAIQSRoMAQsgAEEAQQVB2CUgAiAAKAIEEQ0AGgsgA0EQaiQAECQACz8AIAFB/wFxRQRAIAIgACgCACIAKAIQIgFBAXFHBEAgACABQX5xIAJyNgIQIAAgACgCDEEBajYCDAsPCxACAAsL4CYjAEGACAuBHk9ubHkgbGVhZiBub2RlcyB3aXRoIGN1c3RvbSBtZWFzdXJlIGZ1bmN0aW9ucyBzaG91bGQgbWFudWFsbHkgbWFyayB0aGVtc2VsdmVzIGFzIGRpcnR5AGlzRGlydHkAbWFya0RpcnR5AGRlc3Ryb3kAc2V0RGlzcGxheQBnZXREaXNwbGF5AHNldEZsZXgALSsgICAwWDB4AC0wWCswWCAwWC0weCsweCAweABzZXRGbGV4R3JvdwBnZXRGbGV4R3JvdwBzZXRPdmVyZmxvdwBnZXRPdmVyZmxvdwBoYXNOZXdMYXlvdXQAY2FsY3VsYXRlTGF5b3V0AGdldENvbXB1dGVkTGF5b3V0AHVuc2lnbmVkIHNob3J0AGdldENoaWxkQ291bnQAdW5zaWduZWQgaW50AHNldEp1c3RpZnlDb250ZW50AGdldEp1c3RpZnlDb250ZW50AGF2YWlsYWJsZUhlaWdodCBpcyBpbmRlZmluaXRlIHNvIGhlaWdodFNpemluZ01vZGUgbXVzdCBiZSBTaXppbmdNb2RlOjpNYXhDb250ZW50AGF2YWlsYWJsZVdpZHRoIGlzIGluZGVmaW5pdGUgc28gd2lkdGhTaXppbmdNb2RlIG11c3QgYmUgU2l6aW5nTW9kZTo6TWF4Q29udGVudABzZXRBbGlnbkNvbnRlbnQAZ2V0QWxpZ25Db250ZW50AGdldFBhcmVudABpbXBsZW1lbnQAc2V0TWF4SGVpZ2h0UGVyY2VudABzZXRIZWlnaHRQZXJjZW50AHNldE1pbkhlaWdodFBlcmNlbnQAc2V0RmxleEJhc2lzUGVyY2VudABzZXRHYXBQZXJjZW50AHNldFBvc2l0aW9uUGVyY2VudABzZXRNYXJnaW5QZXJjZW50AHNldE1heFdpZHRoUGVyY2VudABzZXRXaWR0aFBlcmNlbnQAc2V0TWluV2lkdGhQZXJjZW50AHNldFBhZGRpbmdQZXJjZW50AGhhbmRsZS50eXBlKCkgPT0gU3R5bGVWYWx1ZUhhbmRsZTo6VHlwZTo6UG9pbnQgfHwgaGFuZGxlLnR5cGUoKSA9PSBTdHlsZVZhbHVlSGFuZGxlOjpUeXBlOjpQZXJjZW50AGNyZWF0ZURlZmF1bHQAdW5pdAByaWdodABoZWlnaHQAc2V0TWF4SGVpZ2h0AGdldE1heEhlaWdodABzZXRIZWlnaHQAZ2V0SGVpZ2h0AHNldE1pbkhlaWdodABnZXRNaW5IZWlnaHQAZ2V0Q29tcHV0ZWRIZWlnaHQAZ2V0Q29tcHV0ZWRSaWdodABsZWZ0AGdldENvbXB1dGVkTGVmdAByZXNldABfX2Rlc3RydWN0AGZsb2F0AHVpbnQ2NF90AHVzZVdlYkRlZmF1bHRzAHNldFVzZVdlYkRlZmF1bHRzAHNldEFsaWduSXRlbXMAZ2V0QWxpZ25JdGVtcwBzZXRGbGV4QmFzaXMAZ2V0RmxleEJhc2lzAENhbm5vdCBnZXQgbGF5b3V0IHByb3BlcnRpZXMgb2YgbXVsdGktZWRnZSBzaG9ydGhhbmRzAHNldFBvaW50U2NhbGVGYWN0b3IATWVhc3VyZUNhbGxiYWNrV3JhcHBlcgBEaXJ0aWVkQ2FsbGJhY2tXcmFwcGVyAENhbm5vdCByZXNldCBhIG5vZGUgc3RpbGwgYXR0YWNoZWQgdG8gYSBvd25lcgBzZXRCb3JkZXIAZ2V0Qm9yZGVyAGdldENvbXB1dGVkQm9yZGVyAGdldE51bWJlcgBoYW5kbGUudHlwZSgpID09IFN0eWxlVmFsdWVIYW5kbGU6OlR5cGU6Ok51bWJlcgB1bnNpZ25lZCBjaGFyAHRvcABnZXRDb21wdXRlZFRvcABzZXRGbGV4V3JhcABnZXRGbGV4V3JhcABzZXRHYXAAZ2V0R2FwACVwAHNldEhlaWdodEF1dG8Ac2V0RmxleEJhc2lzQXV0bwBzZXRQb3NpdGlvbkF1dG8Ac2V0TWFyZ2luQXV0bwBzZXRXaWR0aEF1dG8AU2NhbGUgZmFjdG9yIHNob3VsZCBub3QgYmUgbGVzcyB0aGFuIHplcm8Ac2V0QXNwZWN0UmF0aW8AZ2V0QXNwZWN0UmF0aW8Ac2V0UG9zaXRpb24AZ2V0UG9zaXRpb24Abm90aWZ5T25EZXN0cnVjdGlvbgBzZXRGbGV4RGlyZWN0aW9uAGdldEZsZXhEaXJlY3Rpb24Ac2V0RGlyZWN0aW9uAGdldERpcmVjdGlvbgBzZXRNYXJnaW4AZ2V0TWFyZ2luAGdldENvbXB1dGVkTWFyZ2luAG1hcmtMYXlvdXRTZWVuAG5hbgBib3R0b20AZ2V0Q29tcHV0ZWRCb3R0b20AYm9vbABlbXNjcmlwdGVuOjp2YWwAc2V0RmxleFNocmluawBnZXRGbGV4U2hyaW5rAHNldEFsd2F5c0Zvcm1zQ29udGFpbmluZ0Jsb2NrAE1lYXN1cmVDYWxsYmFjawBEaXJ0aWVkQ2FsbGJhY2sAZ2V0TGVuZ3RoAHdpZHRoAHNldE1heFdpZHRoAGdldE1heFdpZHRoAHNldFdpZHRoAGdldFdpZHRoAHNldE1pbldpZHRoAGdldE1pbldpZHRoAGdldENvbXB1dGVkV2lkdGgAcHVzaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1NtYWxsVmFsdWVCdWZmZXIuaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1N0eWxlVmFsdWVQb29sLmgAdW5zaWduZWQgbG9uZwBzZXRCb3hTaXppbmcAZ2V0Qm94U2l6aW5nAHN0ZDo6d3N0cmluZwBzdGQ6OnN0cmluZwBzdGQ6OnUxNnN0cmluZwBzdGQ6OnUzMnN0cmluZwBzZXRQYWRkaW5nAGdldFBhZGRpbmcAZ2V0Q29tcHV0ZWRQYWRkaW5nAFRyaWVkIHRvIGNvbnN0cnVjdCBZR05vZGUgd2l0aCBudWxsIGNvbmZpZwBBdHRlbXB0aW5nIHRvIGNvbnN0cnVjdCBOb2RlIHdpdGggbnVsbCBjb25maWcAY3JlYXRlV2l0aENvbmZpZwBpbmYAc2V0QWxpZ25TZWxmAGdldEFsaWduU2VsZgBTaXplAHZhbHVlAFZhbHVlAGNyZWF0ZQBtZWFzdXJlAHNldFBvc2l0aW9uVHlwZQBnZXRQb3NpdGlvblR5cGUAaXNSZWZlcmVuY2VCYXNlbGluZQBzZXRJc1JlZmVyZW5jZUJhc2VsaW5lAGNvcHlTdHlsZQBkb3VibGUATm9kZQBleHRlbmQAaW5zZXJ0Q2hpbGQAZ2V0Q2hpbGQAcmVtb3ZlQ2hpbGQAdm9pZABzZXRFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZABpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkAGRpcnRpZWQAQ2Fubm90IHJlc2V0IGEgbm9kZSB3aGljaCBzdGlsbCBoYXMgY2hpbGRyZW4gYXR0YWNoZWQAdW5zZXRNZWFzdXJlRnVuYwB1bnNldERpcnRpZWRGdW5jAHNldEVycmF0YQBnZXRFcnJhdGEATWVhc3VyZSBmdW5jdGlvbiByZXR1cm5lZCBhbiBpbnZhbGlkIGRpbWVuc2lvbiB0byBZb2dhOiBbd2lkdGg9JWYsIGhlaWdodD0lZl0ARXhwZWN0IGN1c3RvbSBiYXNlbGluZSBmdW5jdGlvbiB0byBub3QgcmV0dXJuIE5hTgBOQU4ASU5GAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8Y2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgY2hhcj4Ac3RkOjpiYXNpY19zdHJpbmc8dW5zaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2lnbmVk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",!ne(P)){var Z=P;P=e.locateFile?e.locateFile(Z,c):c+Z}function Bt(){var M=P;try{if(M==P&&p)return new Uint8Array(p);if(ne(M))try{var G=$n(M.slice(37)),K=new Uint8Array(G.length);for(M=0;M<G.length;++M)K[M]=G.charCodeAt(M);var W=K}catch{throw Error("Converting base64 string to bytes failed.")}else W=void 0;var it=W;if(it)return it;throw"both async and sync fetching of the wasm failed"}catch(ct){Rt(ct)}}function St(){return p||typeof fetch!="function"?Promise.resolve().then(function(){return Bt()}):fetch(P,{credentials:"same-origin"}).then(function(M){if(!M.ok)throw"failed to load wasm binary file at '"+P+"'";return M.arrayBuffer()}).catch(function(){return Bt()})}function H(M){for(;0<M.length;)M.shift()(e)}function ut(M){if(M===void 0)return"_unknown";M=M.replace(/[^a-zA-Z0-9_]/g,"$");var G=M.charCodeAt(0);return 48<=G&&57>=G?"_"+M:M}function It(M,G){return M=ut(M),function(){return G.apply(this,arguments)}}var Et=[{},{value:void 0},{value:null},{value:!0},{value:!1}],Gt=[];function Kt(M){var G=Error,K=It(M,function(W){this.name=M,this.message=W,W=Error(W).stack,W!==void 0&&(this.stack=this.toString()+`
`+W.replace(/^Error(:[^\n]*)?\n/,""))});return K.prototype=Object.create(G.prototype),K.prototype.constructor=K,K.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},K}var kt=void 0;function Lt(M){throw new kt(M)}var oe=M=>(M||Lt("Cannot use deleted val. handle = "+M),Et[M].value),ui=M=>{switch(M){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var G=Gt.length?Gt.pop():Et.length;return Et[G]={ga:1,value:M},G}},wn=void 0,Fi=void 0;function pe(M){for(var G="";T[M];)G+=Fi[T[M++]];return G}var Ke=[];function _i(){for(;Ke.length;){var M=Ke.pop();M.M.$=!1,M.delete()}}var Pi=void 0,mn={};function ii(M,G){for(G===void 0&&Lt("ptr should not be undefined");M.R;)G=M.ba(G),M=M.R;return G}var ma={};function Gs(M){M=sl(M);var G=pe(M);return Hn(M),G}function Gn(M,G){var K=ma[M];return K===void 0&&Lt(G+" has unknown type "+Gs(M)),K}function Nn(){}var uA=!1;function tl(M){--M.count.value,M.count.value===0&&(M.T?M.U.W(M.T):M.P.N.W(M.O))}function cA(M,G,K){return G===K?M:K.R===void 0?null:(M=cA(M,G,K.R),M===null?null:K.na(M))}var hA={};function ho(M,G){return G=ii(M,G),mn[G]}var zi=void 0;function Jn(M){throw new zi(M)}function Di(M,G){return G.P&&G.O||Jn("makeClassHandle requires ptr and ptrType"),!!G.U!=!!G.T&&Jn("Both smartPtrType and smartPtr must be specified"),G.count={value:1},fr(Object.create(M,{M:{value:G}}))}function fr(M){return typeof FinalizationRegistry>"u"?(fr=G=>G,M):(uA=new FinalizationRegistry(G=>{tl(G.M)}),fr=G=>{var K=G.M;return K.T&&uA.register(G,{M:K},G),G},Nn=G=>{uA.unregister(G)},fr(M))}var gr={};function fo(M){for(;M.length;){var G=M.pop();M.pop()(G)}}function Wi(M){return this.fromWireType(O[M>>2])}var Yi={},An={};function En(M,G,K){function W(_t){_t=K(_t),_t.length!==M.length&&Jn("Mismatched type converter count");for(var xt=0;xt<M.length;++xt)yn(M[xt],_t[xt])}M.forEach(function(_t){An[_t]=G});var it=Array(G.length),ct=[],Ct=0;G.forEach((_t,xt)=>{ma.hasOwnProperty(_t)?it[xt]=ma[_t]:(ct.push(_t),Yi.hasOwnProperty(_t)||(Yi[_t]=[]),Yi[_t].push(()=>{it[xt]=ma[_t],++Ct,Ct===ct.length&&W(it)}))}),ct.length===0&&W(it)}function Wn(M){switch(M){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+M)}}function yn(M,G,K={}){if(!("argPackAdvance"in G))throw new TypeError("registerType registeredInstance requires argPackAdvance");var W=G.name;if(M||Lt('type "'+W+'" must have a positive integer typeid pointer'),ma.hasOwnProperty(M)){if(K.ua)return;Lt("Cannot register type '"+W+"' twice")}ma[M]=G,delete An[M],Yi.hasOwnProperty(M)&&(G=Yi[M],delete Yi[M],G.forEach(it=>it()))}function go(M){Lt(M.M.P.N.name+" instance already deleted")}function Ea(){}function ss(M,G,K){if(M[G].S===void 0){var W=M[G];M[G]=function(){return M[G].S.hasOwnProperty(arguments.length)||Lt("Function '"+K+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+M[G].S+")!"),M[G].S[arguments.length].apply(this,arguments)},M[G].S=[],M[G].S[W.Z]=W}}function pr(M,G){e.hasOwnProperty(M)?(Lt("Cannot register public name '"+M+"' twice"),ss(e,M,M),e.hasOwnProperty(void 0)&&Lt("Cannot register multiple overloads of a function with the same number of arguments (undefined)!"),e[M].S[void 0]=G):e[M]=G}function el(M,G,K,W,it,ct,Ct,_t){this.name=M,this.constructor=G,this.X=K,this.W=W,this.R=it,this.pa=ct,this.ba=Ct,this.na=_t,this.ja=[]}function po(M,G,K){for(;G!==K;)G.ba||Lt("Expected null or instance of "+K.name+", got an instance of "+G.name),M=G.ba(M),G=G.R;return M}function dA(M,G){return G===null?(this.ea&&Lt("null is not a valid "+this.name),0):(G.M||Lt('Cannot pass "'+On(G)+'" as a '+this.name),G.M.O||Lt("Cannot pass deleted object as a pointer of type "+this.name),po(G.M.O,G.M.P.N,this.N))}function mr(M,G){if(G===null){if(this.ea&&Lt("null is not a valid "+this.name),this.da){var K=this.fa();return M!==null&&M.push(this.W,K),K}return 0}if(G.M||Lt('Cannot pass "'+On(G)+'" as a '+this.name),G.M.O||Lt("Cannot pass deleted object as a pointer of type "+this.name),!this.ca&&G.M.P.ca&&Lt("Cannot convert argument of type "+(G.M.U?G.M.U.name:G.M.P.name)+" to parameter type "+this.name),K=po(G.M.O,G.M.P.N,this.N),this.da)switch(G.M.T===void 0&&Lt("Passing raw pointer to smart pointer is illegal"),this.Ba){case 0:G.M.U===this?K=G.M.T:Lt("Cannot convert argument of type "+(G.M.U?G.M.U.name:G.M.P.name)+" to parameter type "+this.name);break;case 1:K=G.M.T;break;case 2:if(G.M.U===this)K=G.M.T;else{var W=G.clone();K=this.xa(K,ui(function(){W.delete()})),M!==null&&M.push(this.W,K)}break;default:Lt("Unsupporting sharing policy")}return K}function Ns(M,G){return G===null?(this.ea&&Lt("null is not a valid "+this.name),0):(G.M||Lt('Cannot pass "'+On(G)+'" as a '+this.name),G.M.O||Lt("Cannot pass deleted object as a pointer of type "+this.name),G.M.P.ca&&Lt("Cannot convert argument of type "+G.M.P.name+" to parameter type "+this.name),po(G.M.O,G.M.P.N,this.N))}function Bn(M,G,K,W){this.name=M,this.N=G,this.ea=K,this.ca=W,this.da=!1,this.W=this.xa=this.fa=this.ka=this.Ba=this.wa=void 0,G.R!==void 0?this.toWireType=mr:(this.toWireType=W?dA:Ns,this.V=null)}function Cu(M,G){e.hasOwnProperty(M)||Jn("Replacing nonexistant public symbol"),e[M]=G,e[M].Z=void 0}function ka(M,G){var K=[];return function(){if(K.length=0,Object.assign(K,arguments),M.includes("j")){var W=e["dynCall_"+M];W=K&&K.length?W.apply(null,[G].concat(K)):W.call(null,G)}else W=V.get(G).apply(null,K);return W}}function Ue(M,G){M=pe(M);var K=M.includes("j")?ka(M,G):V.get(G);return typeof K!="function"&&Lt("unknown function pointer with signature "+M+": "+G),K}var Mi=void 0;function Zn(M,G){function K(ct){it[ct]||ma[ct]||(An[ct]?An[ct].forEach(K):(W.push(ct),it[ct]=!0))}var W=[],it={};throw G.forEach(K),new Mi(M+": "+W.map(Gs).join([", "]))}function Un(M,G,K,W,it){var ct=G.length;2>ct&&Lt("argTypes array size mismatch! Must at least get return value and 'this' types!");var Ct=G[1]!==null&&K!==null,_t=!1;for(K=1;K<G.length;++K)if(G[K]!==null&&G[K].V===void 0){_t=!0;break}var xt=G[0].name!=="void",vt=ct-2,wt=Array(vt),Pt=[],he=[];return function(){if(arguments.length!==vt&&Lt("function "+M+" called with "+arguments.length+" arguments, expected "+vt+" args!"),he.length=0,Pt.length=Ct?2:1,Pt[0]=it,Ct){var ri=G[1].toWireType(he,this);Pt[1]=ri}for(var xe=0;xe<vt;++xe)wt[xe]=G[xe+2].toWireType(he,arguments[xe]),Pt.push(wt[xe]);if(xe=W.apply(null,Pt),_t)fo(he);else for(var $e=Ct?1:2;$e<G.length;$e++){var kn=$e===1?ri:wt[$e-2];G[$e].V!==null&&G[$e].V(kn)}return ri=xt?G[0].fromWireType(xe):void 0,ri}}function il(M,G){for(var K=[],W=0;W<M;W++)K.push(D[G+4*W>>2]);return K}function ya(M){4<M&&--Et[M].ga===0&&(Et[M]=void 0,Gt.push(M))}function On(M){if(M===null)return"null";var G=typeof M;return G==="object"||G==="array"||G==="function"?M.toString():""+M}function rs(M,G){switch(G){case 2:return function(K){return this.fromWireType(F[K>>2])};case 3:return function(K){return this.fromWireType(j[K>>3])};default:throw new TypeError("Unknown float type: "+M)}}function Ze(M,G,K){switch(G){case 0:return K?function(W){return v[W]}:function(W){return T[W]};case 1:return K?function(W){return S[W>>1]}:function(W){return R[W>>1]};case 2:return K?function(W){return O[W>>2]}:function(W){return D[W>>2]};default:throw new TypeError("Unknown integer type: "+M)}}function os(M,G){for(var K="",W=0;!(W>=G/2);++W){var it=S[M+2*W>>1];if(it==0)break;K+=String.fromCharCode(it)}return K}function ls(M,G,K){if(K===void 0&&(K=2147483647),2>K)return 0;K-=2;var W=G;K=K<2*M.length?K/2:M.length;for(var it=0;it<K;++it)S[G>>1]=M.charCodeAt(it),G+=2;return S[G>>1]=0,G-W}function Er(M){return 2*M.length}function Us(M,G){for(var K=0,W="";!(K>=G/4);){var it=O[M+4*K>>2];if(it==0)break;++K,65536<=it?(it-=65536,W+=String.fromCharCode(55296|it>>10,56320|it&1023)):W+=String.fromCharCode(it)}return W}function xi(M,G,K){if(K===void 0&&(K=2147483647),4>K)return 0;var W=G;K=W+K-4;for(var it=0;it<M.length;++it){var ct=M.charCodeAt(it);if(55296<=ct&&57343>=ct){var Ct=M.charCodeAt(++it);ct=65536+((ct&1023)<<10)|Ct&1023}if(O[G>>2]=ct,G+=4,G+4>K)break}return O[G>>2]=0,G-W}function nl(M){for(var G=0,K=0;K<M.length;++K){var W=M.charCodeAt(K);55296<=W&&57343>=W&&++K,G+=4}return G}var al={};function Ba(M){var G=al[M];return G===void 0?pe(M):G}var ni=[];function ci(M){var G=ni.length;return ni.push(M),G}function yr(M,G){for(var K=Array(M),W=0;W<M;++W)K[W]=Gn(D[G+4*W>>2],"parameter "+W);return K}var Br=[],fA=[null,[],[]];kt=e.BindingError=Kt("BindingError"),e.count_emval_handles=function(){for(var M=0,G=5;G<Et.length;++G)Et[G]!==void 0&&++M;return M},e.get_first_emval=function(){for(var M=5;M<Et.length;++M)if(Et[M]!==void 0)return Et[M];return null},wn=e.PureVirtualError=Kt("PureVirtualError");for(var Cn=Array(256),Ca=0;256>Ca;++Ca)Cn[Ca]=String.fromCharCode(Ca);Fi=Cn,e.getInheritedInstanceCount=function(){return Object.keys(mn).length},e.getLiveInheritedInstances=function(){var M=[],G;for(G in mn)mn.hasOwnProperty(G)&&M.push(mn[G]);return M},e.flushPendingDeletes=_i,e.setDelayFunction=function(M){Pi=M,Ke.length&&Pi&&Pi(_i)},zi=e.InternalError=Kt("InternalError"),Ea.prototype.isAliasOf=function(M){if(!(this instanceof Ea&&M instanceof Ea))return!1;var G=this.M.P.N,K=this.M.O,W=M.M.P.N;for(M=M.M.O;G.R;)K=G.ba(K),G=G.R;for(;W.R;)M=W.ba(M),W=W.R;return G===W&&K===M},Ea.prototype.clone=function(){if(this.M.O||go(this),this.M.aa)return this.M.count.value+=1,this;var M=fr,G=Object,K=G.create,W=Object.getPrototypeOf(this),it=this.M;return M=M(K.call(G,W,{M:{value:{count:it.count,$:it.$,aa:it.aa,O:it.O,P:it.P,T:it.T,U:it.U}}})),M.M.count.value+=1,M.M.$=!1,M},Ea.prototype.delete=function(){this.M.O||go(this),this.M.$&&!this.M.aa&&Lt("Object already scheduled for deletion"),Nn(this),tl(this.M),this.M.aa||(this.M.T=void 0,this.M.O=void 0)},Ea.prototype.isDeleted=function(){return!this.M.O},Ea.prototype.deleteLater=function(){return this.M.O||go(this),this.M.$&&!this.M.aa&&Lt("Object already scheduled for deletion"),Ke.push(this),Ke.length===1&&Pi&&Pi(_i),this.M.$=!0,this},Bn.prototype.qa=function(M){return this.ka&&(M=this.ka(M)),M},Bn.prototype.ha=function(M){this.W&&this.W(M)},Bn.prototype.argPackAdvance=8,Bn.prototype.readValueFromPointer=Wi,Bn.prototype.deleteObject=function(M){M!==null&&M.delete()},Bn.prototype.fromWireType=function(M){function G(){return this.da?Di(this.N.X,{P:this.wa,O:K,U:this,T:M}):Di(this.N.X,{P:this,O:M})}var K=this.qa(M);if(!K)return this.ha(M),null;var W=ho(this.N,K);if(W!==void 0)return W.M.count.value===0?(W.M.O=K,W.M.T=M,W.clone()):(W=W.clone(),this.ha(M),W);if(W=this.N.pa(K),W=hA[W],!W)return G.call(this);W=this.ca?W.la:W.pointerType;var it=cA(K,this.N,W.N);return it===null?G.call(this):this.da?Di(W.N.X,{P:W,O:it,U:this,T:M}):Di(W.N.X,{P:W,O:it})},Mi=e.UnboundTypeError=Kt("UnboundTypeError");var $n=typeof atob=="function"?atob:function(M){var G="",K=0;M=M.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(M.charAt(K++)),it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(M.charAt(K++)),ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(M.charAt(K++)),Ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(M.charAt(K++));W=W<<2|it>>4,it=(it&15)<<4|ct>>2;var _t=(ct&3)<<6|Ct;G+=String.fromCharCode(W),ct!==64&&(G+=String.fromCharCode(it)),Ct!==64&&(G+=String.fromCharCode(_t))}while(K<M.length);return G},mo={l:function(M,G,K,W){Rt("Assertion failed: "+(M?_(T,M):"")+", at: "+[G?G?_(T,G):"":"unknown filename",K,W?W?_(T,W):"":"unknown function"])},q:function(M,G,K){M=pe(M),G=Gn(G,"wrapper"),K=oe(K);var W=[].slice,it=G.N,ct=it.X,Ct=it.R.X,_t=it.R.constructor;M=It(M,function(){it.R.ja.forEach(function(vt){if(this[vt]===Ct[vt])throw new wn("Pure virtual function "+vt+" must be implemented in JavaScript")}.bind(this)),Object.defineProperty(this,"__parent",{value:ct}),this.__construct.apply(this,W.call(arguments))}),ct.__construct=function(){this===ct&&Lt("Pass correct 'this' to __construct");var vt=_t.implement.apply(void 0,[this].concat(W.call(arguments)));Nn(vt);var wt=vt.M;vt.notifyOnDestruction(),wt.aa=!0,Object.defineProperties(this,{M:{value:wt}}),fr(this),vt=wt.O,vt=ii(it,vt),mn.hasOwnProperty(vt)?Lt("Tried to register registered instance: "+vt):mn[vt]=this},ct.__destruct=function(){this===ct&&Lt("Pass correct 'this' to __destruct"),Nn(this);var vt=this.M.O;vt=ii(it,vt),mn.hasOwnProperty(vt)?delete mn[vt]:Lt("Tried to unregister unregistered instance: "+vt)},M.prototype=Object.create(ct);for(var xt in K)M.prototype[xt]=K[xt];return ui(M)},j:function(M){var G=gr[M];delete gr[M];var K=G.fa,W=G.W,it=G.ia,ct=it.map(Ct=>Ct.ta).concat(it.map(Ct=>Ct.za));En([M],ct,Ct=>{var _t={};return it.forEach((xt,vt)=>{var wt=Ct[vt],Pt=xt.ra,he=xt.sa,ri=Ct[vt+it.length],xe=xt.ya,$e=xt.Aa;_t[xt.oa]={read:kn=>wt.fromWireType(Pt(he,kn)),write:(kn,Fa)=>{var In=[];xe($e,kn,ri.toWireType(In,Fa)),fo(In)}}}),[{name:G.name,fromWireType:function(xt){var vt={},wt;for(wt in _t)vt[wt]=_t[wt].read(xt);return W(xt),vt},toWireType:function(xt,vt){for(var wt in _t)if(!(wt in vt))throw new TypeError('Missing field:  "'+wt+'"');var Pt=K();for(wt in _t)_t[wt].write(Pt,vt[wt]);return xt!==null&&xt.push(W,Pt),Pt},argPackAdvance:8,readValueFromPointer:Wi,V:W}]})},v:function(){},B:function(M,G,K,W,it){var ct=Wn(K);G=pe(G),yn(M,{name:G,fromWireType:function(Ct){return!!Ct},toWireType:function(Ct,_t){return _t?W:it},argPackAdvance:8,readValueFromPointer:function(Ct){if(K===1)var _t=v;else if(K===2)_t=S;else if(K===4)_t=O;else throw new TypeError("Unknown boolean type size: "+G);return this.fromWireType(_t[Ct>>ct])},V:null})},f:function(M,G,K,W,it,ct,Ct,_t,xt,vt,wt,Pt,he){wt=pe(wt),ct=Ue(it,ct),_t&&(_t=Ue(Ct,_t)),vt&&(vt=Ue(xt,vt)),he=Ue(Pt,he);var ri=ut(wt);pr(ri,function(){Zn("Cannot construct "+wt+" due to unbound types",[W])}),En([M,G,K],W?[W]:[],function(xe){if(xe=xe[0],W)var $e=xe.N,kn=$e.X;else kn=Ea.prototype;xe=It(ri,function(){if(Object.getPrototypeOf(this)!==Fa)throw new kt("Use 'new' to construct "+wt);if(In.Y===void 0)throw new kt(wt+" has no accessible constructor");var rl=In.Y[arguments.length];if(rl===void 0)throw new kt("Tried to invoke ctor of "+wt+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(In.Y).toString()+") parameters instead!");return rl.apply(this,arguments)});var Fa=Object.create(kn,{constructor:{value:xe}});xe.prototype=Fa;var In=new el(wt,xe,Fa,he,$e,ct,_t,vt);$e=new Bn(wt,In,!0,!1),kn=new Bn(wt+"*",In,!1,!1);var Eo=new Bn(wt+" const*",In,!1,!0);return hA[M]={pointerType:kn,la:Eo},Cu(ri,xe),[$e,kn,Eo]})},d:function(M,G,K,W,it,ct,Ct){var _t=il(K,W);G=pe(G),ct=Ue(it,ct),En([],[M],function(xt){function vt(){Zn("Cannot call "+wt+" due to unbound types",_t)}xt=xt[0];var wt=xt.name+"."+G;G.startsWith("@@")&&(G=Symbol[G.substring(2)]);var Pt=xt.N.constructor;return Pt[G]===void 0?(vt.Z=K-1,Pt[G]=vt):(ss(Pt,G,wt),Pt[G].S[K-1]=vt),En([],_t,function(he){return he=Un(wt,[he[0],null].concat(he.slice(1)),null,ct,Ct),Pt[G].S===void 0?(he.Z=K-1,Pt[G]=he):Pt[G].S[K-1]=he,[]}),[]})},p:function(M,G,K,W,it,ct){0<G||Rt();var Ct=il(G,K);it=Ue(W,it),En([],[M],function(_t){_t=_t[0];var xt="constructor "+_t.name;if(_t.N.Y===void 0&&(_t.N.Y=[]),_t.N.Y[G-1]!==void 0)throw new kt("Cannot register multiple constructors with identical number of parameters ("+(G-1)+") for class '"+_t.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return _t.N.Y[G-1]=()=>{Zn("Cannot construct "+_t.name+" due to unbound types",Ct)},En([],Ct,function(vt){return vt.splice(1,0,null),_t.N.Y[G-1]=Un(xt,vt,null,it,ct),[]}),[]})},a:function(M,G,K,W,it,ct,Ct,_t){var xt=il(K,W);G=pe(G),ct=Ue(it,ct),En([],[M],function(vt){function wt(){Zn("Cannot call "+Pt+" due to unbound types",xt)}vt=vt[0];var Pt=vt.name+"."+G;G.startsWith("@@")&&(G=Symbol[G.substring(2)]),_t&&vt.N.ja.push(G);var he=vt.N.X,ri=he[G];return ri===void 0||ri.S===void 0&&ri.className!==vt.name&&ri.Z===K-2?(wt.Z=K-2,wt.className=vt.name,he[G]=wt):(ss(he,G,Pt),he[G].S[K-2]=wt),En([],xt,function(xe){return xe=Un(Pt,xe,vt,ct,Ct),he[G].S===void 0?(xe.Z=K-2,he[G]=xe):he[G].S[K-2]=xe,[]}),[]})},A:function(M,G){G=pe(G),yn(M,{name:G,fromWireType:function(K){var W=oe(K);return ya(K),W},toWireType:function(K,W){return ui(W)},argPackAdvance:8,readValueFromPointer:Wi,V:null})},n:function(M,G,K){K=Wn(K),G=pe(G),yn(M,{name:G,fromWireType:function(W){return W},toWireType:function(W,it){return it},argPackAdvance:8,readValueFromPointer:rs(G,K),V:null})},e:function(M,G,K,W,it){G=pe(G),it===-1&&(it=4294967295),it=Wn(K);var ct=_t=>_t;if(W===0){var Ct=32-8*K;ct=_t=>_t<<Ct>>>Ct}K=G.includes("unsigned")?function(_t,xt){return xt>>>0}:function(_t,xt){return xt},yn(M,{name:G,fromWireType:ct,toWireType:K,argPackAdvance:8,readValueFromPointer:Ze(G,it,W!==0),V:null})},b:function(M,G,K){function W(ct){ct>>=2;var Ct=D;return new it(x,Ct[ct+1],Ct[ct])}var it=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][G];K=pe(K),yn(M,{name:K,fromWireType:W,argPackAdvance:8,readValueFromPointer:W},{ua:!0})},o:function(M,G){G=pe(G);var K=G==="std::string";yn(M,{name:G,fromWireType:function(W){var it=D[W>>2],ct=W+4;if(K)for(var Ct=ct,_t=0;_t<=it;++_t){var xt=ct+_t;if(_t==it||T[xt]==0){if(Ct=Ct?_(T,Ct,xt-Ct):"",vt===void 0)var vt=Ct;else vt+="\0",vt+=Ct;Ct=xt+1}}else{for(vt=Array(it),_t=0;_t<it;++_t)vt[_t]=String.fromCharCode(T[ct+_t]);vt=vt.join("")}return Hn(W),vt},toWireType:function(W,it){it instanceof ArrayBuffer&&(it=new Uint8Array(it));var ct,Ct=typeof it=="string";if(Ct||it instanceof Uint8Array||it instanceof Uint8ClampedArray||it instanceof Int8Array||Lt("Cannot pass non-string to std::string"),K&&Ct){var _t=0;for(ct=0;ct<it.length;++ct){var xt=it.charCodeAt(ct);127>=xt?_t++:2047>=xt?_t+=2:55296<=xt&&57343>=xt?(_t+=4,++ct):_t+=3}ct=_t}else ct=it.length;if(_t=La(4+ct+1),xt=_t+4,D[_t>>2]=ct,K&&Ct){if(Ct=xt,xt=ct+1,ct=T,0<xt){xt=Ct+xt-1;for(var vt=0;vt<it.length;++vt){var wt=it.charCodeAt(vt);if(55296<=wt&&57343>=wt){var Pt=it.charCodeAt(++vt);wt=65536+((wt&1023)<<10)|Pt&1023}if(127>=wt){if(Ct>=xt)break;ct[Ct++]=wt}else{if(2047>=wt){if(Ct+1>=xt)break;ct[Ct++]=192|wt>>6}else{if(65535>=wt){if(Ct+2>=xt)break;ct[Ct++]=224|wt>>12}else{if(Ct+3>=xt)break;ct[Ct++]=240|wt>>18,ct[Ct++]=128|wt>>12&63}ct[Ct++]=128|wt>>6&63}ct[Ct++]=128|wt&63}}ct[Ct]=0}}else if(Ct)for(Ct=0;Ct<ct;++Ct)vt=it.charCodeAt(Ct),255<vt&&(Hn(xt),Lt("String has UTF-16 code units that do not fit in 8 bits")),T[xt+Ct]=vt;else for(Ct=0;Ct<ct;++Ct)T[xt+Ct]=it[Ct];return W!==null&&W.push(Hn,_t),_t},argPackAdvance:8,readValueFromPointer:Wi,V:function(W){Hn(W)}})},i:function(M,G,K){if(K=pe(K),G===2)var W=os,it=ls,ct=Er,Ct=()=>R,_t=1;else G===4&&(W=Us,it=xi,ct=nl,Ct=()=>D,_t=2);yn(M,{name:K,fromWireType:function(xt){for(var vt=D[xt>>2],wt=Ct(),Pt,he=xt+4,ri=0;ri<=vt;++ri){var xe=xt+4+ri*G;(ri==vt||wt[xe>>_t]==0)&&(he=W(he,xe-he),Pt===void 0?Pt=he:(Pt+="\0",Pt+=he),he=xe+G)}return Hn(xt),Pt},toWireType:function(xt,vt){typeof vt!="string"&&Lt("Cannot pass non-string to C++ string type "+K);var wt=ct(vt),Pt=La(4+wt+G);return D[Pt>>2]=wt>>_t,it(vt,Pt+4,wt+G),xt!==null&&xt.push(Hn,Pt),Pt},argPackAdvance:8,readValueFromPointer:Wi,V:function(xt){Hn(xt)}})},k:function(M,G,K,W,it,ct){gr[M]={name:pe(G),fa:Ue(K,W),W:Ue(it,ct),ia:[]}},h:function(M,G,K,W,it,ct,Ct,_t,xt,vt){gr[M].ia.push({oa:pe(G),ta:K,ra:Ue(W,it),sa:ct,za:Ct,ya:Ue(_t,xt),Aa:vt})},C:function(M,G){G=pe(G),yn(M,{va:!0,name:G,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},s:function(M,G,K,W,it){M=ni[M],G=oe(G),K=Ba(K);var ct=[];return D[W>>2]=ui(ct),M(G,K,ct,it)},t:function(M,G,K,W){M=ni[M],G=oe(G),K=Ba(K),M(G,K,null,W)},g:ya,m:function(M,G){var K=yr(M,G),W=K[0];G=W.name+"_$"+K.slice(1).map(function(Ct){return Ct.name}).join("_")+"$";var it=Br[G];if(it!==void 0)return it;var ct=Array(M-1);return it=ci((Ct,_t,xt,vt)=>{for(var wt=0,Pt=0;Pt<M-1;++Pt)ct[Pt]=K[Pt+1].readValueFromPointer(vt+wt),wt+=K[Pt+1].argPackAdvance;for(Ct=Ct[_t].apply(Ct,ct),Pt=0;Pt<M-1;++Pt)K[Pt+1].ma&&K[Pt+1].ma(ct[Pt]);if(!W.va)return W.toWireType(xt,Ct)}),Br[G]=it},D:function(M){4<M&&(Et[M].ga+=1)},r:function(M){var G=oe(M);fo(G),ya(M)},c:function(){Rt("")},x:function(M,G,K){T.copyWithin(M,G,G+K)},w:function(M){var G=T.length;if(M>>>=0,2147483648<M)return!1;for(var K=1;4>=K;K*=2){var W=G*(1+.2/K);W=Math.min(W,M+100663296);var it=Math;W=Math.max(M,W),it=it.min.call(it,2147483648,W+(65536-W%65536)%65536);t:{try{y.grow(it-x.byteLength+65535>>>16),$();var ct=1;break t}catch{}ct=void 0}if(ct)return!0}return!1},z:function(){return 52},u:function(){return 70},y:function(M,G,K,W){for(var it=0,ct=0;ct<K;ct++){var Ct=D[G>>2],_t=D[G+4>>2];G+=8;for(var xt=0;xt<_t;xt++){var vt=T[Ct+xt],wt=fA[M];vt===0||vt===10?((M===1?h:f)(_(wt,0)),wt.length=0):wt.push(vt)}it+=_t}return D[W>>2]=it,0}};(function(){function M(it){e.asm=it.exports,y=e.asm.E,$(),V=e.asm.J,ht.unshift(e.asm.F),Dt--,e.monitorRunDependencies&&e.monitorRunDependencies(Dt),Dt==0&&Ot&&(it=Ot,Ot=null,it())}function G(it){M(it.instance)}function K(it){return St().then(function(ct){return WebAssembly.instantiate(ct,W)}).then(function(ct){return ct}).then(it,function(ct){f("failed to asynchronously prepare wasm: "+ct),Rt(ct)})}var W={a:mo};if(Dt++,e.monitorRunDependencies&&e.monitorRunDependencies(Dt),e.instantiateWasm)try{return e.instantiateWasm(W,M)}catch(it){f("Module.instantiateWasm callback failed with error: "+it),s(it)}return function(){return p||typeof WebAssembly.instantiateStreaming!="function"||ne(P)||typeof fetch!="function"?K(G):fetch(P,{credentials:"same-origin"}).then(function(it){return WebAssembly.instantiateStreaming(it,W).then(G,function(ct){return f("wasm streaming compile failed: "+ct),f("falling back to ArrayBuffer instantiation"),K(G)})})}().catch(s),{}})(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.F).apply(null,arguments)};var sl=e.___getTypeName=function(){return(sl=e.___getTypeName=e.asm.G).apply(null,arguments)};e.__embind_initialize_bindings=function(){return(e.__embind_initialize_bindings=e.asm.H).apply(null,arguments)};var La=e._malloc=function(){return(La=e._malloc=e.asm.I).apply(null,arguments)},Hn=e._free=function(){return(Hn=e._free=e.asm.K).apply(null,arguments)};e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.L).apply(null,arguments)};var Os;Ot=function M(){Os||gA(),Os||(Ot=M)};function gA(){function M(){if(!Os&&(Os=!0,e.calledRun=!0,!B)){if(H(ht),n(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;){var G=e.postRun.shift();At.unshift(G)}H(At)}}if(!(0<Dt)){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)L();H(gt),0<Dt||(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),M()},1)):M())}}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return gA(),t.ready}})();let ki=function(i){return i[i.Auto=0]="Auto",i[i.FlexStart=1]="FlexStart",i[i.Center=2]="Center",i[i.FlexEnd=3]="FlexEnd",i[i.Stretch=4]="Stretch",i[i.Baseline=5]="Baseline",i[i.SpaceBetween=6]="SpaceBetween",i[i.SpaceAround=7]="SpaceAround",i[i.SpaceEvenly=8]="SpaceEvenly",i}({}),qc=function(i){return i[i.BorderBox=0]="BorderBox",i[i.ContentBox=1]="ContentBox",i}({}),$C=function(i){return i[i.Width=0]="Width",i[i.Height=1]="Height",i}({}),mu=function(i){return i[i.Inherit=0]="Inherit",i[i.LTR=1]="LTR",i[i.RTL=2]="RTL",i}({}),Nc=function(i){return i[i.Flex=0]="Flex",i[i.None=1]="None",i[i.Contents=2]="Contents",i}({}),$t=function(i){return i[i.Left=0]="Left",i[i.Top=1]="Top",i[i.Right=2]="Right",i[i.Bottom=3]="Bottom",i[i.Start=4]="Start",i[i.End=5]="End",i[i.Horizontal=6]="Horizontal",i[i.Vertical=7]="Vertical",i[i.All=8]="All",i}({}),Qc=function(i){return i[i.None=0]="None",i[i.StretchFlexBasis=1]="StretchFlexBasis",i[i.AbsolutePositionWithoutInsetsExcludesPadding=2]="AbsolutePositionWithoutInsetsExcludesPadding",i[i.AbsolutePercentAgainstInnerSize=4]="AbsolutePercentAgainstInnerSize",i[i.All=2147483647]="All",i[i.Classic=2147483646]="Classic",i}({}),XG=function(i){return i[i.WebFlexBasis=0]="WebFlexBasis",i}({}),lo=function(i){return i[i.Column=0]="Column",i[i.ColumnReverse=1]="ColumnReverse",i[i.Row=2]="Row",i[i.RowReverse=3]="RowReverse",i}({}),Uc=function(i){return i[i.Column=0]="Column",i[i.Row=1]="Row",i[i.All=2]="All",i}({}),Ts=function(i){return i[i.FlexStart=0]="FlexStart",i[i.Center=1]="Center",i[i.FlexEnd=2]="FlexEnd",i[i.SpaceBetween=3]="SpaceBetween",i[i.SpaceAround=4]="SpaceAround",i[i.SpaceEvenly=5]="SpaceEvenly",i}({}),vc=function(i){return i[i.Error=0]="Error",i[i.Warn=1]="Warn",i[i.Info=2]="Info",i[i.Debug=3]="Debug",i[i.Verbose=4]="Verbose",i[i.Fatal=5]="Fatal",i}({}),AE=function(i){return i[i.Undefined=0]="Undefined",i[i.Exactly=1]="Exactly",i[i.AtMost=2]="AtMost",i}({}),tI=function(i){return i[i.Default=0]="Default",i[i.Text=1]="Text",i}({}),Oc=function(i){return i[i.Visible=0]="Visible",i[i.Hidden=1]="Hidden",i[i.Scroll=2]="Scroll",i}({}),Hc=function(i){return i[i.Static=0]="Static",i[i.Relative=1]="Relative",i[i.Absolute=2]="Absolute",i}({}),ao=function(i){return i[i.Undefined=0]="Undefined",i[i.Point=1]="Point",i[i.Percent=2]="Percent",i[i.Auto=3]="Auto",i}({}),kc=function(i){return i[i.NoWrap=0]="NoWrap",i[i.Wrap=1]="Wrap",i[i.WrapReverse=2]="WrapReverse",i}({});const VG={ALIGN_AUTO:ki.Auto,ALIGN_FLEX_START:ki.FlexStart,ALIGN_CENTER:ki.Center,ALIGN_FLEX_END:ki.FlexEnd,ALIGN_STRETCH:ki.Stretch,ALIGN_BASELINE:ki.Baseline,ALIGN_SPACE_BETWEEN:ki.SpaceBetween,ALIGN_SPACE_AROUND:ki.SpaceAround,ALIGN_SPACE_EVENLY:ki.SpaceEvenly,BOX_SIZING_BORDER_BOX:qc.BorderBox,BOX_SIZING_CONTENT_BOX:qc.ContentBox,DIMENSION_WIDTH:$C.Width,DIMENSION_HEIGHT:$C.Height,DIRECTION_INHERIT:mu.Inherit,DIRECTION_LTR:mu.LTR,DIRECTION_RTL:mu.RTL,DISPLAY_FLEX:Nc.Flex,DISPLAY_NONE:Nc.None,DISPLAY_CONTENTS:Nc.Contents,EDGE_LEFT:$t.Left,EDGE_TOP:$t.Top,EDGE_RIGHT:$t.Right,EDGE_BOTTOM:$t.Bottom,EDGE_START:$t.Start,EDGE_END:$t.End,EDGE_HORIZONTAL:$t.Horizontal,EDGE_VERTICAL:$t.Vertical,EDGE_ALL:$t.All,ERRATA_NONE:Qc.None,ERRATA_STRETCH_FLEX_BASIS:Qc.StretchFlexBasis,ERRATA_ABSOLUTE_POSITION_WITHOUT_INSETS_EXCLUDES_PADDING:Qc.AbsolutePositionWithoutInsetsExcludesPadding,ERRATA_ABSOLUTE_PERCENT_AGAINST_INNER_SIZE:Qc.AbsolutePercentAgainstInnerSize,ERRATA_ALL:Qc.All,ERRATA_CLASSIC:Qc.Classic,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:XG.WebFlexBasis,FLEX_DIRECTION_COLUMN:lo.Column,FLEX_DIRECTION_COLUMN_REVERSE:lo.ColumnReverse,FLEX_DIRECTION_ROW:lo.Row,FLEX_DIRECTION_ROW_REVERSE:lo.RowReverse,GUTTER_COLUMN:Uc.Column,GUTTER_ROW:Uc.Row,GUTTER_ALL:Uc.All,JUSTIFY_FLEX_START:Ts.FlexStart,JUSTIFY_CENTER:Ts.Center,JUSTIFY_FLEX_END:Ts.FlexEnd,JUSTIFY_SPACE_BETWEEN:Ts.SpaceBetween,JUSTIFY_SPACE_AROUND:Ts.SpaceAround,JUSTIFY_SPACE_EVENLY:Ts.SpaceEvenly,LOG_LEVEL_ERROR:vc.Error,LOG_LEVEL_WARN:vc.Warn,LOG_LEVEL_INFO:vc.Info,LOG_LEVEL_DEBUG:vc.Debug,LOG_LEVEL_VERBOSE:vc.Verbose,LOG_LEVEL_FATAL:vc.Fatal,MEASURE_MODE_UNDEFINED:AE.Undefined,MEASURE_MODE_EXACTLY:AE.Exactly,MEASURE_MODE_AT_MOST:AE.AtMost,NODE_TYPE_DEFAULT:tI.Default,NODE_TYPE_TEXT:tI.Text,OVERFLOW_VISIBLE:Oc.Visible,OVERFLOW_HIDDEN:Oc.Hidden,OVERFLOW_SCROLL:Oc.Scroll,POSITION_TYPE_STATIC:Hc.Static,POSITION_TYPE_RELATIVE:Hc.Relative,POSITION_TYPE_ABSOLUTE:Hc.Absolute,UNIT_UNDEFINED:ao.Undefined,UNIT_POINT:ao.Point,UNIT_PERCENT:ao.Percent,UNIT_AUTO:ao.Auto,WRAP_NO_WRAP:kc.NoWrap,WRAP_WRAP:kc.Wrap,WRAP_WRAP_REVERSE:kc.WrapReverse};function qG(i){function t(s,l,c){const h=s[l];s[l]=function(){for(var f=arguments.length,p=new Array(f),y=0;y<f;y++)p[y]=arguments[y];return c.call(this,h,...p)}}for(const s of["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding","setGap"]){const l={[ao.Point]:i.Node.prototype[s],[ao.Percent]:i.Node.prototype[`${s}Percent`],[ao.Auto]:i.Node.prototype[`${s}Auto`]};t(i.Node.prototype,s,function(c){for(var h=arguments.length,f=new Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];const y=f.pop();let B,_;if(y==="auto")B=ao.Auto,_=void 0;else if(typeof y=="object")B=y.unit,_=y.valueOf();else if(B=typeof y=="string"&&y.endsWith("%")?ao.Percent:ao.Point,_=parseFloat(y),y!==void 0&&!Number.isNaN(y)&&Number.isNaN(_))throw new Error(`Invalid value ${y} for ${s}`);if(!l[B])throw new Error(`Failed to execute "${s}": Unsupported unit '${y}'`);return _!==void 0?l[B].call(this,...f,_):l[B].call(this,...f)})}function e(s){return i.MeasureCallback.implement({measure:function(){const{width:l,height:c}=s(...arguments);return{width:l??NaN,height:c??NaN}}})}t(i.Node.prototype,"setMeasureFunc",function(s,l){return l?s.call(this,e(l)):this.unsetMeasureFunc()});function n(s){return i.DirtiedCallback.implement({dirtied:s})}return t(i.Node.prototype,"setDirtiedFunc",function(s,l){s.call(this,n(l))}),t(i.Config.prototype,"free",function(){i.Config.destroy(this)}),t(i.Node,"create",(s,l)=>l?i.Node.createWithConfig(l):i.Node.createDefault()),t(i.Node.prototype,"free",function(){i.Node.destroy(this)}),t(i.Node.prototype,"freeRecursive",function(){for(let s=0,l=this.getChildCount();s<l;++s)this.getChild(0).freeRecursive();this.free()}),t(i.Node.prototype,"calculateLayout",function(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:mu.LTR;return s.call(this,l,c,h)}),{Config:i.Config,Node:i.Node,...VG}}async function JG(){return qG(await jG())}let vv;function WG(){return vv}function ZG(i){vv=i}function mp(i,t){return i?typeof i=="number"?i:typeof i=="string"&&i.endsWith("%")?(t??(t=1),t*(parseFloat(i)/100)):Number.isNaN(parseFloat(i))?0:parseFloat(i):0}function gu(i){return typeof i=="number"?"number":i.endsWith("%")?"percentage":Number.isNaN(parseInt(i,10))?"keyword":"number"}function qg(i,t,e){return(t[i]-e[i])/2}function eI(i,t,e,n,s){const l=t==="percentage"?n[e]-s[e]:1;return mp(i)*l}function bv(i,t,e){const[n,s]=i,l=gu(n),c=gu(s),h={x:void 0,y:void 0};switch(n){case"top":h.y=0;break;case"bottom":h.y=t.height-e.height;break;case"center":s==="left"||s==="right"?h.y=qg("height",t,e):h.x=qg("width",t,e);break;case"left":h.x=0;break;case"right":h.x=t.width-e.width;break;default:{const f=s==="top"||s==="bottom"||c!=="keyword"?"width":"height",p=f==="width"?"x":"y";h[p]=eI(n,l,f,t,e)}}switch(s){case"top":h.y=0;break;case"bottom":h.y=t.height-e.height;break;case"center":h.y===void 0?h.y=qg("height",t,e):h.x=qg("width",t,e);break;case"left":h.x=0;break;case"right":h.x=t.width-e.width;break;default:{const f=h.y===void 0?"y":"x",p=f==="y"?"height":"width";h[f]=eI(s,c,p,t,e)}}return h}function Jg(i,t,e,n){const s=i==="right"||i==="bottom",l=e==="percentage"?t*n:t;return s?-l:l}function $G(i,t,e){const[n,s,l,c]=i,h=gu(n),f=gu(s),p=gu(l),y=gu(c);if(f==="keyword"||y==="keyword")throw new Error("Invalid objectPosition value: second and fourth values must be numbers or percentages");if(h!=="keyword"||p!=="keyword")throw new Error("Invalid objectPosition value: first and third values must be keywords");const B=bv([n,l],t,e),_={...B},x=mp(s),v=mp(c);return n==="left"||n==="right"?_.x=B.x+Jg(n,x,f,e.width):(n==="top"||n==="bottom")&&(_.y=B.y+Jg(n,x,f,e.height)),l==="left"||l==="right"?_.x=B.x+Jg(l,v,y,e.width):(l==="top"||l==="bottom")&&(_.y=B.y+Jg(l,v,y,e.height)),_}function tN(i,t,e){const n=i[0],s={x:void 0,y:void 0};switch(n){case"top":s.y=0,s.x=(t.width-e.width)/2;break;case"bottom":s.y=t.height-e.height,s.x=(t.width-e.width)/2;break;case"left":s.x=0,s.y=(t.height-e.height)/2;break;case"right":s.x=t.width-e.width,s.y=(t.height-e.height)/2;break;case"center":s.x=(t.width-e.width)/2,s.y=(t.height-e.height)/2;break;default:{const c=gu(n)==="percentage"?t.width-e.width:1;s.x=mp(n)*c,s.y=(t.height-e.height)/2}}return s}function W0(i,t,e){if(!i)return{x:0,y:0};const n=typeof i=="string"?i.split(" "):[i];switch(n.length){case 1:return tN(n,t,e);case 2:return bv(n,t,e);case 4:return $G(n,t,e);default:throw new Error("Invalid objectPosition value: must have 1, 2, or 4 values")}}const eN=new pn,uE={width:0,height:0};function Sv(i){const t=i.target.getLocalBounds(eN),e=i.target.scale;return uE.width=Math.abs(t.width*e.x),uE.height=Math.abs(t.height*e.y),uE}function iI(i,t,e=.49){return Math.abs(i-t)<e}const _d=new Map;function iN(i,t=100,e){if(!_d.has(i)){let n=null;const s=(...l)=>{if(_d.get(i).args=l,n)return;const c=()=>{n=null;const h=_d.get(i).args;i(...h)};t===0?c():n=setTimeout(c,t)};_d.set(i,{throttledFunction:s,args:null})}return _d.get(i).throttledFunction}var nN=Object.defineProperty,aN=(i,t,e)=>t in i?nN(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,hu=(i,t,e)=>aN(i,typeof t!="symbol"?t+"":t,e);class Tv{constructor(){hu(this,"autoUpdate",!0),hu(this,"_debugEnabled",!1),hu(this,"_debugRenderer",null),hu(this,"_throttledUpdateSize"),hu(this,"_throttle",100),hu(this,"_modificationCount",50)}async init(t){ZG(await JG());const{layout:e}=t??{},{autoUpdate:n,enableDebug:s,throttle:l,debugModificationCount:c}=e??{};s&&this.enableDebug(!0),n!==void 0&&(this.autoUpdate=n),this._throttle=l??this._throttle,this._throttledUpdateSize=iN(h=>this._updateSize(h),this._throttle),this._modificationCount=c??this._modificationCount}async enableDebug(t=!this._debugEnabled){if(this._debugEnabled=t,!this._debugRenderer){const e=await Zo(()=>Promise.resolve().then(()=>wN),void 0,import.meta.url);this._debugRenderer=new e.DebugRenderer}this._debugEnabled||this._debugRenderer.reset()}update(t){this._debugEnabled&&this._debugRenderer&&(this._debugRenderer.reset(),t.addChild(this._debugRenderer.holder)),this._throttledUpdateSize(t),this.updateLayout(t)}prerender({container:t}){this.autoUpdate&&this.update(t)}_updateSize(t){const e=t._layout;if(e){const n=e.style;if(n.width==="intrinsic"||n.height==="intrinsic"){const s=Sv(e);if(n.width==="intrinsic"){const l=e.yoga.getWidth().value;iI(l,s.width)||(e.yoga.setWidth(s.width),e.invalidateRoot())}if(n.height==="intrinsic"){const l=e.yoga.getHeight().value;iI(l,s.height)||(e.yoga.setHeight(s.height),e.invalidateRoot())}}if(!t.visible){e._onChildRemoved();return}}for(let n=0;n<t.children.length;n++)this._updateSize(t.children[n])}updateLayout(t){var e,n,s,l;const c=t._layout;if(t.visible){if(c){const h=c.yoga,f=c.style,p=(e=t.parent)==null?void 0:e.isOverflowContainer;if(!((n=t.parent)==null?void 0:n._layout)&&!p&&c._isDirty&&(c._isDirty=!1,h.calculateLayout(f.width,f.height,h.getDirection()??mu.LTR)),h.hasNewLayout()||c._forceUpdate){h.markLayoutSeen(),c._forceUpdate=!1,c._computedLayout=h.getComputedLayout();const B=W0(f.transformOrigin,c._computedLayout,{width:0,height:0});c._computedPixiLayout={...t.computeLayoutData(c._computedLayout),originX:B.x,originY:B.y},t.emit("layout",c),(s=t.onLayout)==null||s.call(t,c),t._onUpdate()}this._debugEnabled&&(c._styles.custom.debug||c._modificationCount>this._modificationCount&&c._styles.custom.debugHeat!==!1)&&((l=this._debugRenderer)==null||l.render(c))}for(let h=0;h<t.children.length;h++)this.updateLayout(t.children[h])}}destroy(){!this._debugEnabled&&this._debugRenderer&&this._debugRenderer.destroy()}}hu(Tv,"extension",{type:[J.WebGLSystem,J.WebGPUSystem],name:"layout"});const nI={"flex-start":ki.FlexStart,"flex-end":ki.FlexEnd,center:ki.Center,stretch:ki.Stretch,"space-between":ki.SpaceBetween,"space-around":ki.SpaceAround,"space-evenly":ki.SpaceEvenly},aI={"flex-start":ki.FlexStart,"flex-end":ki.FlexEnd,center:ki.Center,stretch:ki.Stretch,baseline:ki.Baseline},sI={"border-box":qc.BorderBox,"content-box":qc.ContentBox},rI={ltr:mu.LTR,rtl:mu.RTL},oI={none:Nc.None,flex:Nc.Flex,contents:Nc.Contents},lI={row:lo.Row,column:lo.Column,"row-reverse":lo.RowReverse,"column-reverse":lo.ColumnReverse},AI={wrap:kc.Wrap,nowrap:kc.NoWrap,"wrap-reverse":kc.WrapReverse},uI={"flex-start":Ts.FlexStart,"flex-end":Ts.FlexEnd,center:Ts.Center,"space-between":Ts.SpaceBetween,"space-around":Ts.SpaceAround,"space-evenly":Ts.SpaceEvenly},cI={visible:Oc.Visible,hidden:Oc.Hidden,scroll:Oc.Scroll},hI={absolute:Hc.Absolute,relative:Hc.Relative,static:Hc.Static},sN={alignContent:(i,t)=>i.setAlignContent(rN(t)),alignItems:(i,t)=>i.setAlignItems(dI(t)),alignSelf:(i,t)=>i.setAlignSelf(dI(t)),aspectRatio:(i,t)=>i.setAspectRatio(t),borderBottomWidth:(i,t)=>i.setBorder($t.Bottom,t),borderEndWidth:(i,t)=>i.setBorder($t.End,t),borderLeftWidth:(i,t)=>i.setBorder($t.Left,t),borderRightWidth:(i,t)=>i.setBorder($t.Right,t),borderStartWidth:(i,t)=>i.setBorder($t.Start,t),borderTopWidth:(i,t)=>i.setBorder($t.Top,t),borderWidth:(i,t)=>i.setBorder($t.All,t),borderInlineWidth:(i,t)=>i.setBorder($t.Horizontal,t),borderBlockWidth:(i,t)=>i.setBorder($t.Vertical,t),bottom:(i,t)=>i.setPosition($t.Bottom,t),boxSizing:(i,t)=>i.setBoxSizing(oN(t)),direction:(i,t)=>i.setDirection(lN(t)),display:(i,t)=>i.setDisplay(AN(t)),end:(i,t)=>i.setPosition($t.End,t),flex:(i,t)=>i.setFlex(t),flexBasis:(i,t)=>i.setFlexBasis(t),flexDirection:(i,t)=>i.setFlexDirection(uN(t)),rowGap:(i,t)=>i.setGap(Uc.Row,t),gap:(i,t)=>i.setGap(Uc.All,t),columnGap:(i,t)=>i.setGap(Uc.Column,t),flexGrow:(i,t)=>i.setFlexGrow(t),flexShrink:(i,t)=>i.setFlexShrink(t),flexWrap:(i,t)=>i.setFlexWrap(cN(t)),height:(i,t)=>i.setHeight(t),justifyContent:(i,t)=>i.setJustifyContent(hN(t)),left:(i,t)=>i.setPosition($t.Left,t),margin:(i,t)=>i.setMargin($t.All,t),marginBottom:(i,t)=>i.setMargin($t.Bottom,t),marginEnd:(i,t)=>i.setMargin($t.End,t),marginLeft:(i,t)=>i.setMargin($t.Left,t),marginRight:(i,t)=>i.setMargin($t.Right,t),marginStart:(i,t)=>i.setMargin($t.Start,t),marginTop:(i,t)=>i.setMargin($t.Top,t),marginInline:(i,t)=>i.setMargin($t.Horizontal,t),marginBlock:(i,t)=>i.setMargin($t.Vertical,t),maxHeight:(i,t)=>i.setMaxHeight(t),maxWidth:(i,t)=>i.setMaxWidth(t),minHeight:(i,t)=>i.setMinHeight(t),minWidth:(i,t)=>i.setMinWidth(t),overflow:(i,t)=>i.setOverflow(dN(t)),padding:(i,t)=>i.setPadding($t.All,t),paddingBottom:(i,t)=>i.setPadding($t.Bottom,t),paddingEnd:(i,t)=>i.setPadding($t.End,t),paddingLeft:(i,t)=>i.setPadding($t.Left,t),paddingRight:(i,t)=>i.setPadding($t.Right,t),paddingStart:(i,t)=>i.setPadding($t.Start,t),paddingTop:(i,t)=>i.setPadding($t.Top,t),paddingInline:(i,t)=>i.setPadding($t.Horizontal,t),paddingBlock:(i,t)=>i.setPadding($t.Vertical,t),position:(i,t)=>i.setPositionType(fN(t)),right:(i,t)=>i.setPosition($t.Right,t),start:(i,t)=>i.setPosition($t.Start,t),top:(i,t)=>i.setPosition($t.Top,t),insetInline:(i,t)=>i.setPosition($t.Horizontal,t),insetBlock:(i,t)=>i.setPosition($t.Vertical,t),inset:(i,t)=>i.setPosition($t.All,t),width:(i,t)=>i.setWidth(t)};function rN(i){if(i in nI)return nI[i];throw new Error(`"${i}" is not a valid value for alignContent`)}function dI(i){if(i in aI)return aI[i];throw new Error(`"${i}" is not a valid value for alignItems`)}function oN(i){if(i in sI)return sI[i];throw new Error(`"${i}" is not a valid value for boxSizing`)}function lN(i){if(i in rI)return rI[i];throw new Error(`"${i}" is not a valid value for direction`)}function AN(i){if(i in oI)return oI[i];throw new Error(`"${i}" is not a valid value for display`)}function uN(i){if(i in lI)return lI[i];throw new Error(`"${i}" is not a valid value for flexDirection`)}function cN(i){if(i in AI)return AI[i];throw new Error(`"${i}" is not a valid value for flexWrap`)}function hN(i){if(i in uI)return uI[i];throw new Error(`"${i}" is not a valid value for justifyContent`)}function dN(i){if(i in cI)return cI[i];throw new Error(`"${i}" is not a valid value for overflow`)}function fN(i){if(i in hI)return hI[i];throw new Error(`"${i}" is not a valid value for position`)}function gN(i,t={}){for(const[e,n]of Object.entries(t))try{const s=sN[e];s&&s(i,n)}catch{}if(t.width!==void 0){const e=t.left!==void 0&&t.right!==void 0?"auto":t.width;i.setWidth(e)}if(t.height!==void 0){const e=t.top!==void 0&&t.bottom!==void 0?"auto":t.height;i.setHeight(e)}}function pN(i,t){let n={...i._styles.custom,...t};n={...{...Mc.defaultStyle.shared,...i.target instanceof rA||n.isLeaf||Mc.defaultStyle.shared.isLeaf?Mc.defaultStyle.leaf:Mc.defaultStyle.container},...n};const l={...n},c=n.width==="intrinsic",h=n.height==="intrinsic";if(c||h){const{width:f,height:p}=Sv(i);c&&(l.width=f),h&&(l.height=p)}return{custom:n,yoga:l}}function mN(i,t){var e;let n=t.layout,s=-1;if(!n&&t.isOverflowContainer&&(n=(e=t.parent)==null?void 0:e.layout,s=t.children.indexOf(i.target),t=t.parent),n){const l=i.yoga.getParent();if(l&&l.removeChild(i.yoga),t.children.indexOf(i.target)===t.children.length-1&&s===-1){n.yoga.insertChild(i.yoga,n.yoga.getChildCount());return}for(let c=0;c<t.children.length;c++){const h=t.children[c];if(h.layout&&h.visible&&s++,h===i.target)break}n.yoga.insertChild(i.yoga,s)}}function EN(i){const t=i.yoga.getParent();t&&t.removeChild(i.yoga)}var yN=Object.defineProperty,BN=(i,t,e)=>t in i?yN(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,ur=(i,t,e)=>BN(i,typeof t!="symbol"?t+"":t,e);class Mc{constructor({target:t}){ur(this,"yoga"),ur(this,"target"),ur(this,"_isDirty",!1),ur(this,"_computedPixiLayout",{x:0,y:0,offsetX:0,offsetY:0,scaleX:1,scaleY:1,originX:0,originY:0}),ur(this,"_computedLayout",{left:0,right:0,top:0,bottom:0,width:0,height:0}),ur(this,"_styles",{custom:{},yoga:{}}),ur(this,"_modificationCount",0),ur(this,"_forceUpdate",!1),ur(this,"hasParent",!1),ur(this,"_trackedStyleKeys",["borderRadius","borderColor","backgroundColor","objectFit","objectPosition","transformOrigin","isLeaf"]),this.target=t,this.yoga=WG().Node.create(),t.on("added",this._onChildAdded,this),t.on("removed",this._onChildRemoved,this),t.on("destroyed",this.destroy,this)}get style(){return this._styles.custom}get computedLayout(){return this._computedLayout}get computedPixiLayout(){return this._computedPixiLayout}get realX(){return this.target.localTransform.tx}get realY(){return this.target.localTransform.ty}get realScaleX(){return this.target.localTransform.a}get realScaleY(){return this.target.localTransform.d}setStyle(t){const e=pN(this,t),n=JSON.stringify(this._styles.custom)!==JSON.stringify(e.custom),s=JSON.stringify(this._styles.yoga)!==JSON.stringify(e.yoga),l=n||s,c=this._trackedStyleKeys.some(h=>e.custom[h]!==this._styles.custom[h]);this._styles=e,c&&(this._forceUpdate=!0),l&&(gN(this.yoga,this._styles.yoga),this.target._onUpdate(),this.invalidateRoot())}invalidateRoot(){const t=this.getRoot();t._layout._isDirty=!0,t._onUpdate(),this._modificationCount++}forceUpdate(){this._forceUpdate=!0}getRoot(){var t,e;let n=this.target;for(;(t=n.parent)!=null&&t._layout||(e=n.parent)!=null&&e.isOverflowContainer;)n=n.parent,n.isOverflowContainer&&(n=n.parent);return n}_onChildAdded(t){this.hasParent||(this.hasParent=!0,this.invalidateRoot(),mN(this,t))}_onChildRemoved(){this.hasParent&&(this.hasParent=!1,this.invalidateRoot(),EN(this))}destroy(){this.invalidateRoot(),this.yoga.free(),this.target.off("added",this._onChildAdded,this),this.target.off("removed",this._onChildRemoved,this),this._styles=null,this._computedPixiLayout=null,this._computedLayout=null,this.target=null,this.hasParent=!1}}ur(Mc,"defaultStyle",{leaf:{width:"intrinsic",height:"intrinsic"},container:{width:"auto",height:"auto"},shared:{transformOrigin:"50%",objectPosition:"center",flexShrink:1,flexDirection:"row",alignContent:"stretch",flexWrap:"nowrap",overflow:"visible"}});function Rv(i,t,e){let n=1,s=1;switch(i){case"fill":n=t.width/e.width,s=t.height/e.height;break;case"contain":{const l=Math.min(t.width/e.width,t.height/e.height);n=l,s=l;break}case"cover":{const l=Math.max(t.width/e.width,t.height/e.height);n=l,s=l;break}case"none":n=1,s=1;break;case"scale-down":{const l=Math.min(1,t.width/e.width,t.height/e.height);n=l,s=l;break}}return{offsetScaleX:n,offsetScaleY:s}}function Dv(i,t,e,n){const s=i.getLocalBounds(),l=i.layout.style.objectFit||e;let{offsetScaleX:c,offsetScaleY:h}=Rv(l,t,s);const f={width:s.width*c,height:s.height*h};let{x:p,y}=W0(i.layout.style.objectPosition,t,f);n?(p+=s.width*c*n._x,y+=s.height*h*n._y):(p-=s.minX*c,y-=s.minY*h);const B=i.layout.style.applySizeDirectly;return(B===!0||B==null&&(i instanceof TD||i instanceof PM))&&(i.width=s.width*c,i.height=s.height*h,c=1,h=1),{x:t.left,y:t.top,offsetX:p,offsetY:y,scaleX:c,scaleY:h}}const cE=Object.getOwnPropertyDescriptor(He.prototype,"visible"),CN={_layout:null,get layout(){return this._layout??null},set layout(i){if(i=i===!0?{}:i,!i){this._layout&&(this._layout.destroy(),this._layout=null,this.updateLocalTransform=He.prototype.updateLocalTransform,Object.defineProperty(He.prototype,"visible",cE));return}this._layout||(this._layout=new Mc({target:this}),Object.defineProperty(He.prototype,"visible",{...cE,set(t){cE.set.call(this,t),this.layout&&(t&&this.parent?this.layout._onChildAdded(this.parent):this.layout._onChildRemoved())}}),this.parent&&this.visible&&this._layout._onChildAdded(this.parent)),this._layout.setStyle(i),this.updateLocalTransform=this.updateLocalTransformWithLayout,this._onUpdate()},updateLocalTransformWithLayout(){const i=this._didContainerChangeTick;if(this._didLocalTransformChangeId===i)return;this._didLocalTransformChangeId=i;const t=this._layout,{x:e,y:n,offsetX:s,offsetY:l,scaleX:c,scaleY:h,originX:f,originY:p}=t._computedPixiLayout,y=this.localTransform,{rotation:B,skew:_,scale:x,position:v}=this,T=B+_._y,S=B-_._x,R=Math.cos(T)*x._x,O=Math.sin(T)*x._x,D=-Math.sin(S)*x._y,F=Math.cos(S)*x._y,j=v._x+e-f*R-p*D,$=v._y+n-f*O-p*F;y.a=R*c,y.b=O*c,y.c=D*h,y.d=F*h,y.tx=j+(s*R+l*D)+f,y.ty=$+(s*O+l*F)+p},computeLayoutData(i){const t=this._layout,{isLeaf:e}=t._styles.custom;return e?Dv(this,i,"fill"):{x:i.left,y:i.top,offsetX:0,offsetY:0,scaleX:1,scaleY:1}}};Xt.mixin(He,CN);const fI=new We(0,0),IN={computeLayoutData(i){const t=this._style;fI.copyFrom(this.scale),this.scale=1,t.wordWrap&&(t.wordWrapWidth=i.width);let e=this.getLocalBounds();const n=this.layout.style.objectFit||"scale-down",{offsetScaleX:s,offsetScaleY:l}=Rv(n,i,e);t.wordWrap&&(t.wordWrapWidth=i.width/Math.min(1,Math.max(s,l))),e=this.getLocalBounds();const c={width:e.width*s,height:e.height*l};let{x:h,y:f}=W0(this.layout.style.objectPosition,i,c);return h+=e.width*s*this.anchor._x,f+=e.height*l*this.anchor._y,this.layout.style.applySizeDirectly===!0&&(this.width=e.width*s,this.height=e.height*l),this.scale.copyFrom(fI),{x:i.left,y:i.top,offsetX:h,offsetY:f,scaleX:s,scaleY:l}}};Xt.mixin(_p,IN);const hE=Object.getOwnPropertyDescriptor(_p.prototype,"text");Object.defineProperty(_p.prototype,"text",{...hE,set(i){var t;const e=hE.get.call(this);hE.set.call(this,i),e!==i&&((t=this.layout)==null||t.forceUpdate())}});const _N={computeLayoutData(i){return Dv(this,i,"fill",this._anchor)}};Xt.mixin(rA,_N);var no=(i=>(i.Margin="margin",i.Padding="padding",i.Border="border",i.Flex="flex",i.Content="content",i))(no||{});function dE(i,t){const e=`getComputed${t.charAt(0).toUpperCase()+t.slice(1)}`;return{top:i.yoga[e]($t.Top),right:i.yoga[e]($t.Right),bottom:i.yoga[e]($t.Bottom),left:i.yoga[e]($t.Left)}}function xN(i,t){const{width:e,height:n}=i.computedLayout,s=dE(i,"margin"),l=dE(i,"border"),c=dE(i,"padding"),h=t.get("margin");h.outer.x=-s.left,h.outer.y=-s.top,h.outer.width=e+s.left+s.right,h.outer.height=n+s.top+s.bottom,h.inner.x=0,h.inner.y=0,h.inner.width=e,h.inner.height=n;const f=t.get("border");f.outer.x=0,f.outer.y=0,f.outer.width=e,f.outer.height=n,f.inner.x=l.left,f.inner.y=l.top,f.inner.width=e-l.left-l.right,f.inner.height=n-l.top-l.bottom;const p=t.get("padding");p.outer.copyFrom(f.inner),p.inner.x=c.left+l.left,p.inner.y=c.top+l.top,p.inner.width=e-c.left-c.right-l.left-l.right,p.inner.height=n-c.top-c.bottom-l.top-l.bottom,QN(i,t)}function QN(i,t){var e;const n=t.get("flex"),s=t.get("padding");n.outer.copyFrom(s.inner);const l=new pn,c=i.yoga.getChildCount();for(let f=0;f<c;f++){const y=i.yoga.getChild(f).getComputedLayout();l.addRect(new Re(y.left,y.top,y.width,y.height))}const h=i.yoga.getFlexDirection();h===lo.Column||h===lo.ColumnReverse?(l.width=n.outer.width,l.x=n.outer.x):(l.height=n.outer.height,l.y=n.outer.y),(e=n.inner)==null||e.copyFrom(l.rectangle),t.get("content").outer.copyFrom(l.rectangle)}var vN=Object.defineProperty,bN=(i,t,e)=>t in i?vN(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,gI=(i,t,e)=>bN(i,typeof t!="symbol"?t+"":t,e);function SN(i,t,e){const n=Math.round(i[0]+(t[0]-i[0])*e),s=Math.round(i[1]+(t[1]-i[1])*e),l=Math.round(i[2]+(t[2]-i[2])*e);return`rgb(${n},${s},${l})`}class TN extends He{constructor(){super(),gI(this,"graphics"),gI(this,"heatGraphics"),this.graphics=new Map,Object.values(no).forEach(t=>{const e=new uo;this.graphics.set(t,e),this.addChild(e)}),this.heatGraphics=new uo,this.addChild(this.heatGraphics)}init(t){const{target:e,alpha:n,heat:s}=t;t.heatOnly||Object.entries(t).forEach(([h,f])=>{if(h==="target"||h==="alpha"||h==="heat"||h==="heatOnly")return;f=f;const p=this.graphics.get(h);if(!(!p||!f.draw))if(f.inner)this.drawCutBox(p,f.outer,f.inner,f.color,n);else{const{x:y,y:B,width:_,height:x}=f.outer;p.rect(y,B,_,Math.max(x,1)),p.fill({color:f.color,alpha:n})}});const{invalidationCount:l,draw:c}=s;if(l>0&&c){const f=Math.min(l/20,1),p=t[no.Margin],_=SN([255,255,0],[255,0,0],f);this.heatGraphics.rect(p.outer.x,p.outer.y,p.outer.width,p.outer.height),this.heatGraphics.fill({color:_,alpha:Math.min(.3,f)}),this.heatGraphics.stroke({color:_,alpha:Math.max(.3,f),pixelLine:!0})}this.position.set(e.x,e.y)}reset(){this.graphics.forEach(t=>t.clear()),this.heatGraphics.clear(),this.removeFromParent()}drawCutBox(t,e,n,s,l){const{x:c,y:h,width:f,height:p}=e,{x:y,y:B,width:_,height:x}=n;t.rect(c,h,f,p),t.fill({color:s,alpha:l}),t.rect(y,B,_,x),t.cut()}}var RN=Object.defineProperty,DN=(i,t,e)=>t in i?RN(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,Wg=(i,t,e)=>DN(i,typeof t!="symbol"?t+"":t,e);class MN{constructor(){Wg(this,"holder",new He),Wg(this,"regions",new Map),Wg(this,"colors",{[no.Margin]:"#B68655",[no.Padding]:"#BAC57F",[no.Border]:"#E7C583",[no.Content]:"#89B1BE",[no.Flex]:"#6E28D9"}),Wg(this,"alpha",.75),Object.values(no).forEach(t=>{this.regions.set(t,{outer:new Re,inner:new Re})}),this.holder.__devtoolIgnore=!0,this.holder.__devtoolIgnoreChildren=!0,this.holder.eventMode="none",this.holder.interactiveChildren=!1}reset(){for(let t=this.holder.children.length-1;t>=0;t--){const e=this.holder.children[t];ln.return(e)}}render(t){xN(t,this.regions);const e=Object.values(no).reduce((h,f)=>{const p=this.regions.get(f);if(!p)return h;const y=`debugDraw${f.charAt(0).toUpperCase()}${f.slice(1)}`;return h[f]={...p,color:this.colors[f],draw:t._styles.custom[y]??!0},h},{}),{left:n,top:s}=t.computedLayout,l=t.target.getGlobalPosition(),c=ln.get(TN,{...e,target:{x:l.x+n,y:l.y+s},alpha:this.alpha,heat:{invalidationCount:t._modificationCount,draw:t._styles.custom.debugHeat!==!1},heatOnly:!t._styles.custom.debug});this.holder.addChildAt(c,0)}destroy(){this.reset(),this.holder.destroy(),this.regions.clear()}}const wN=Object.freeze(Object.defineProperty({__proto__:null,DebugRenderer:MN},Symbol.toStringTag,{value:"Module"}));Xt.add(Tv);var GN=Object.defineProperty,NN=(i,t,e)=>t in i?GN(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,xd=(i,t,e)=>NN(i,typeof t!="symbol"?t+"":t,e);class UN{constructor(t={}){xd(this,"x"),xd(this,"ax"),xd(this,"dx"),xd(this,"tx"),xd(this,"_options"),this.x=0,this.ax=0,this.dx=0,this.tx=0,this._options=t,this._options.max=t.max??160,this._options.damp=t.damp??.8,this._options.springiness=t.springiness??.1}update(){this.ax=(this.tx-this.x)*this._options.springiness,this.dx+=this.ax,this.dx*=this._options.damp,this.dx<-this._options.max?this.dx=-this._options.max:this.dx>this._options.max&&(this.dx=this._options.max),this.x+=this.dx}}var ON=Object.defineProperty,HN=(i,t,e)=>t in i?ON(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,bc=(i,t,e)=>HN(i,typeof t!="symbol"?t+"":t,e);class kN{constructor(t={}){bc(this,"done"),bc(this,"to"),bc(this,"_spring"),bc(this,"_pos"),bc(this,"_speed"),bc(this,"_correctSpeed"),this._spring=new UN(t),this._pos=0,this.to=0}start(t,e,n){this._speed=t,this._pos=e,this.to=n,this.done=!1,this._spring.x=this._pos,this._spring.tx=this.to;const s=this.to-this._pos,l=Math.abs(s)/s,c=Math.abs(this._speed)/this._speed;l!==c?this._correctSpeed=!0:this._correctSpeed=!1}update(){if(this._correctSpeed)this._speed*=.6,Math.abs(this._speed)<2&&(this._correctSpeed=!1),this._pos+=this._speed,this._spring.x=this._pos;else{const t=this.to-this._pos;Math.abs(t)<.05?(this._pos=this.to,this.done=!0):(this._spring.tx=this.to,this._spring.update(),this._pos=this._spring.x)}return this._pos}}var LN=Object.defineProperty,FN=(i,t,e)=>t in i?LN(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,Na=(i,t,e)=>FN(i,typeof t!="symbol"?t+"":t,e);class pI{constructor(t={}){Na(this,"position",0),Na(this,"constrain",!0),Na(this,"min",0),Na(this,"max",0),Na(this,"maxSpeed",400),Na(this,"_ease"),Na(this,"_offset",0),Na(this,"_prev",0),Na(this,"_speed",0),Na(this,"_hasStopped",!0),Na(this,"_targetSpeed",0),Na(this,"_speedChecker",0),Na(this,"_grab",0),Na(this,"_activeEase",null),this.constrain=t.constrain??!0,this.maxSpeed=t.maxSpeed??400,this._ease=t.ease??new kN}set value(t){this._speed=0,this.position=t}get value(){return this.position}grab(t){this._grab=t,this._offset=this.position-t,this._speedChecker=0,this._targetSpeed=this._speed=0,this._hasStopped=!1}hold(t){this._speedChecker++,this.position=t+this._offset,this._speedChecker>1&&(this._targetSpeed=this.position-this._prev),this._speed+=(this._targetSpeed-this._speed)/2,this._speed>this.maxSpeed?this._speed=this.maxSpeed:this._speed<-this.maxSpeed&&(this._speed=-this.maxSpeed),this._prev=this.position,this.constrain&&(this._activeEase=null,this.position>this.min?this.position=this.min:this.position<this.max&&(this.position=this.max))}slide(t=!1){this._hasStopped||(this.constrain?this._updateConstrain(t):this._updateDefault())}get moveAmount(){return-(this.position-this._offset-this._grab)}_updateDefault(){this._speed*=.9,this.position+=this._speed,(this._speed<0?this._speed*-1:this._speed)<.01&&(this._hasStopped=!0),this.position>this.min?(this.position=this.min,this._hasStopped=!0):this.position<this.max&&(this.position=this.max,this._hasStopped=!0)}_updateConstrain(t=!1){const e=this.max;t?this.position>this.min?this.position=this.min:this.position<this.max&&(this.position=this.max):this.position>this.min||this.position<e||this._activeEase?(this._activeEase||(this._activeEase=this._ease,this.position>this.min?this._activeEase.start(this._speed,this.position,this.min):this._activeEase.start(this._speed,this.position,e)),this.position=this._activeEase.update(),this._activeEase.done&&(this.position=this._activeEase.to,this._speed=0,this._activeEase=null)):this._updateDefault()}}var PN=Object.defineProperty,zN=(i,t,e)=>t in i?PN(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,$l=(i,t,e)=>zN(i,typeof t!="symbol"?t+"":t,e);class YN{constructor(t){$l(this,"xAxis"),$l(this,"yAxis"),$l(this,"_isDown"),$l(this,"_globalPosition"),$l(this,"_frame"),$l(this,"_bounds"),$l(this,"_dirty"),$l(this,"disableEasing",!1),this.xAxis=new pI({ease:t.xEase,maxSpeed:t.maxSpeed,constrain:t.constrain}),this.yAxis=new pI({ease:t.yEase,maxSpeed:t.maxSpeed,constrain:t.constrain}),this.disableEasing=t.disableEasing??!1,this._frame=new Re,this._bounds=new Re,this._globalPosition=new We}pointerDown(t){this._globalPosition=t,this.xAxis.grab(t.x),this.yAxis.grab(t.y),this._isDown=!0}pointerUp(){this._isDown=!1}pointerMove(t){this._globalPosition=t}update(){this._dirty&&(this._dirty=!1,this.xAxis.min=this._bounds.left,this.xAxis.min=this._bounds.right-this._frame.width,this.xAxis.min=this._bounds.top,this.xAxis.min=this._bounds.bottom-this._frame.height),this._isDown?(this.xAxis.hold(this._globalPosition.x),this.yAxis.hold(this._globalPosition.y)):(this.xAxis.slide(this.disableEasing),this.yAxis.slide(this.disableEasing))}resize(t,e){this._frame.x=0,this._frame.width=t,this._frame.y=0,this._frame.height=e,this._dirty=!0}setBounds(t,e,n,s){this._bounds.x=t,this._bounds.width=e-t,this._bounds.y=n,this._bounds.height=s-n,this._dirty=!0}get x(){return this.xAxis.value}get y(){return this.yAxis.value}}var KN=Object.defineProperty,jN=(i,t,e)=>t in i?KN(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,Sc=(i,t,e)=>jN(i,typeof t!="symbol"?t+"":t,e);class XN extends He{constructor(t={}){const{layout:e,trackpad:n,background:s,...l}=t;super(l),Sc(this,"background"),Sc(this,"stroke",new uo({label:"stroke"})),Sc(this,"overflowContainer",new He({label:"overflowContainer"})),Sc(this,"_trackpad"),Sc(this,"_mask",new uo),Sc(this,"_isUserBackground",!1),this.layout=e??{},this.overflowContainer.isOverflowContainer=!0,this.background=s??new uo({label:"background"}),this._isUserBackground=!!s,this.addChild(this.background,this.overflowContainer,this._mask,this.stroke),this.addChild=this._addChild,this.removeChild=this._removeChild,this._trackpad=new YN({constrain:!0,...n}),this.eventMode="static",this.on("pointerdown",c=>this._trackpad.pointerDown(c.global)),this.on("pointerup",()=>this._trackpad.pointerUp()),this.on("pointerupoutside",()=>this._trackpad.pointerUp()),this.on("pointermove",c=>this._trackpad.pointerMove(c.global)),this.on("pointercancel",()=>this._trackpad.pointerUp()),this.on("wheel",c=>{var h;if(((h=this.layout)==null?void 0:h.style.overflow)!=="scroll")return;const p=c.shiftKey?1:0,y=c.deltaX*(p?1:-1),B=c.deltaY*(p?-1:1),_=this._trackpad.xAxis.value-y,x=this._trackpad.yAxis.value-B;this._trackpad.xAxis.value=Math.max(this._trackpad.xAxis.max,Math.min(this._trackpad.xAxis.min,_)),this._trackpad.yAxis.value=Math.max(this._trackpad.yAxis.max,Math.min(this._trackpad.yAxis.min,x))}),Mn.shared.add(this.update,this)}_addChild(...t){return this.overflowContainer.addChild(...t)}_removeChild(...t){return this.overflowContainer.removeChild(...t)}computeLayoutData(t){return this._drawBackground(t),{x:t.left,y:t.top,offsetX:0,offsetY:0,scaleX:1,scaleY:1}}_updateMask(t,e,n=0){this._mask.clear(),this._mask.roundRect(0,0,t,e,n),this._mask.fill(255),this._mask.roundRect(1,1,t-2,e-2,n),this._mask.cut(),this._mask.roundRect(1,1,t-2,e-2,n),this._mask.fill(65280),this._mask.cut()}_updateBackground(t){const e=this.layout.style,{backgroundColor:n,borderRadius:s}=e;if(this._isUserBackground)this.background.position.set(0,0),this.background.setSize(t.width,t.height);else{const l=this.background;l.clear(),l.roundRect(0,0,t.width,t.height,s??0),n!=null&&l.fill({color:n})}}_drawBackground(t){var e;const n=this.layout.yoga.getBorder($t.All),s=this.layout.yoga.getBoxSizing(),l=s===qc.BorderBox?1:0,c=this.layout.style,{borderColor:h,borderRadius:f}=c;if(this._updateBackground(t),this.stroke.clear(),n>0&&h!=null&&(this.stroke.roundRect(0,0,t.width,t.height,f??0),this.stroke.stroke({color:h,width:n,alignment:l})),((e=this.layout)==null?void 0:e.style.overflow)!=="visible"){this._updateMask(t.width,t.height,c.borderRadius??0),this.setMask({mask:this._mask});const y=s===qc.BorderBox?n:0;setTimeout(()=>{const B=t.width-this.overflowContainer.width-y*2,_=t.height-this.overflowContainer.height-y*2;this._trackpad.xAxis.max=Math.min(0,B),this._trackpad.yAxis.max=Math.min(0,_)},1)}else this.mask=null,this._trackpad.xAxis.value=0,this._trackpad.yAxis.value=0,this.overflowContainer.position.set(0,0)}update(){var t;((t=this.layout)==null?void 0:t.style.overflow)==="scroll"&&(this._trackpad.update(),this.overflowContainer.x=this._trackpad.x,this.overflowContainer.y=this._trackpad.y)}destroy(t){super.destroy(t),Mn.shared.remove(this.update,this)}}var Ko={},fE={},jo={},mI;function Mv(){if(mI)return jo;mI=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.loop=jo.conditional=jo.parse=void 0;var i=function n(s,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c;if(Array.isArray(l))l.forEach(function(p){return n(s,p,c,h)});else if(typeof l=="function")l(s,c,h,n);else{var f=Object.keys(l)[0];Array.isArray(l[f])?(h[f]={},n(s,l[f],c,h[f])):h[f]=l[f](s,c,h,n)}return c};jo.parse=i;var t=function(s,l){return function(c,h,f,p){l(c,h,f)&&p(c,s,h,f)}};jo.conditional=t;var e=function(s,l){return function(c,h,f,p){for(var y=[],B=c.pos;l(c,h,f);){var _={};if(p(c,s,h,_),c.pos===B)break;B=c.pos,y.push(_)}return y}};return jo.loop=e,jo}var Oi={},EI;function wv(){if(EI)return Oi;EI=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.readBits=Oi.readArray=Oi.readUnsigned=Oi.readString=Oi.peekBytes=Oi.readBytes=Oi.peekByte=Oi.readByte=Oi.buildStream=void 0;var i=function(B){return{data:B,pos:0}};Oi.buildStream=i;var t=function(){return function(B){return B.data[B.pos++]}};Oi.readByte=t;var e=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(_){return _.data[_.pos+B]}};Oi.peekByte=e;var n=function(B){return function(_){return _.data.subarray(_.pos,_.pos+=B)}};Oi.readBytes=n;var s=function(B){return function(_){return _.data.subarray(_.pos,_.pos+B)}};Oi.peekBytes=s;var l=function(B){return function(_){return Array.from(n(B)(_)).map(function(x){return String.fromCharCode(x)}).join("")}};Oi.readString=l;var c=function(B){return function(_){var x=n(2)(_);return B?(x[1]<<8)+x[0]:(x[0]<<8)+x[1]}};Oi.readUnsigned=c;var h=function(B,_){return function(x,v,T){for(var S=typeof _=="function"?_(x,v,T):_,R=n(B),O=new Array(S),D=0;D<S;D++)O[D]=R(x);return O}};Oi.readArray=h;var f=function(B,_,x){for(var v=0,T=0;T<x;T++)v+=B[_+T]&&Math.pow(2,x-T-1);return v},p=function(B){return function(_){for(var x=t()(_),v=new Array(8),T=0;T<8;T++)v[7-T]=!!(x&1<<T);return Object.keys(B).reduce(function(S,R){var O=B[R];return O.length?S[R]=f(v,O.index,O.length):S[R]=v[O.index],S},{})}};return Oi.readBits=p,Oi}var yI;function VN(){return yI||(yI=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=Mv(),e=wv(),n={blocks:function(_){for(var x=0,v=[],T=_.data.length,S=0,R=(0,e.readByte)()(_);R!==x&&R;R=(0,e.readByte)()(_)){if(_.pos+R>=T){var O=T-_.pos;v.push((0,e.readBytes)(O)(_)),S+=O;break}v.push((0,e.readBytes)(R)(_)),S+=R}for(var D=new Uint8Array(S),F=0,j=0;j<v.length;j++)D.set(v[j],F),F+=v[j].length;return D}},s=(0,t.conditional)({gce:[{codes:(0,e.readBytes)(2)},{byteSize:(0,e.readByte)()},{extras:(0,e.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,e.readUnsigned)(!0)},{transparentColorIndex:(0,e.readByte)()},{terminator:(0,e.readByte)()}]},function(B){var _=(0,e.peekBytes)(2)(B);return _[0]===33&&_[1]===249}),l=(0,t.conditional)({image:[{code:(0,e.readByte)()},{descriptor:[{left:(0,e.readUnsigned)(!0)},{top:(0,e.readUnsigned)(!0)},{width:(0,e.readUnsigned)(!0)},{height:(0,e.readUnsigned)(!0)},{lct:(0,e.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,t.conditional)({lct:(0,e.readArray)(3,function(B,_,x){return Math.pow(2,x.descriptor.lct.size+1)})},function(B,_,x){return x.descriptor.lct.exists}),{data:[{minCodeSize:(0,e.readByte)()},n]}]},function(B){return(0,e.peekByte)()(B)===44}),c=(0,t.conditional)({text:[{codes:(0,e.readBytes)(2)},{blockSize:(0,e.readByte)()},{preData:function(_,x,v){return(0,e.readBytes)(v.text.blockSize)(_)}},n]},function(B){var _=(0,e.peekBytes)(2)(B);return _[0]===33&&_[1]===1}),h=(0,t.conditional)({application:[{codes:(0,e.readBytes)(2)},{blockSize:(0,e.readByte)()},{id:function(_,x,v){return(0,e.readString)(v.blockSize)(_)}},n]},function(B){var _=(0,e.peekBytes)(2)(B);return _[0]===33&&_[1]===255}),f=(0,t.conditional)({comment:[{codes:(0,e.readBytes)(2)},n]},function(B){var _=(0,e.peekBytes)(2)(B);return _[0]===33&&_[1]===254}),p=[{header:[{signature:(0,e.readString)(3)},{version:(0,e.readString)(3)}]},{lsd:[{width:(0,e.readUnsigned)(!0)},{height:(0,e.readUnsigned)(!0)},{gct:(0,e.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,e.readByte)()},{pixelAspectRatio:(0,e.readByte)()}]},(0,t.conditional)({gct:(0,e.readArray)(3,function(B,_){return Math.pow(2,_.lsd.gct.size+1)})},function(B,_){return _.lsd.gct.exists}),{frames:(0,t.loop)([s,h,f,l,c],function(B){var _=(0,e.peekByte)()(B);return _===33||_===44})}],y=p;i.default=y}(fE)),fE}var Qd={},BI;function qN(){if(BI)return Qd;BI=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.deinterlace=void 0;var i=function(e,n){for(var s=new Array(e.length),l=e.length/n,c=function(x,v){var T=e.slice(v*n,(v+1)*n);s.splice.apply(s,[x*n,n].concat(T))},h=[0,4,2,1],f=[8,8,4,2],p=0,y=0;y<4;y++)for(var B=h[y];B<l;B+=f[y])c(B,p),p++;return s};return Qd.deinterlace=i,Qd}var vd={},CI;function JN(){if(CI)return vd;CI=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.lzw=void 0;var i=function(e,n,s){var l=4096,c=-1,h=s,f,p,y,B,_,x,v,V,T,S,$,R,gt,ht,L,At,O=new Array(s),D=new Array(l),F=new Array(l),j=new Array(l+1);for(R=e,p=1<<R,_=p+1,f=p+2,v=c,B=R+1,y=(1<<B)-1,T=0;T<p;T++)D[T]=0,F[T]=T;var $,V,gt,ht,At,L;for($=V=gt=ht=At=L=0,S=0;S<h;){if(ht===0){if(V<B){$+=n[L]<<V,V+=8,L++;continue}if(T=$&y,$>>=B,V-=B,T>f||T==_)break;if(T==p){B=R+1,y=(1<<B)-1,f=p+2,v=c;continue}if(v==c){j[ht++]=F[T],v=T,gt=T;continue}for(x=T,T==f&&(j[ht++]=gt,T=v);T>p;)j[ht++]=F[T],T=D[T];gt=F[T]&255,j[ht++]=gt,f<l&&(D[f]=v,F[f]=gt,f++,(f&y)===0&&f<l&&(B++,y+=f)),v=x}ht--,O[At++]=j[ht],S++}for(S=At;S<h;S++)O[S]=0;return O};return vd.lzw=i,vd}var II;function WN(){if(II)return Ko;II=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.decompressFrames=Ko.decompressFrame=Ko.parseGIF=void 0;var i=l(VN()),t=Mv(),e=wv(),n=qN(),s=JN();function l(y){return y&&y.__esModule?y:{default:y}}var c=function(B){var _=new Uint8Array(B);return(0,t.parse)((0,e.buildStream)(_),i.default)};Ko.parseGIF=c;var h=function(B){for(var _=B.pixels.length,x=new Uint8ClampedArray(_*4),v=0;v<_;v++){var T=v*4,S=B.pixels[v],R=B.colorTable[S]||[0,0,0];x[T]=R[0],x[T+1]=R[1],x[T+2]=R[2],x[T+3]=S!==B.transparentIndex?255:0}return x},f=function(B,_,x){if(B.image){var v=B.image,T=v.descriptor.width*v.descriptor.height,S=(0,s.lzw)(v.data.minCodeSize,v.data.blocks,T);v.descriptor.lct.interlaced&&(S=(0,n.deinterlace)(S,v.descriptor.width));var R={pixels:S,dims:{top:B.image.descriptor.top,left:B.image.descriptor.left,width:B.image.descriptor.width,height:B.image.descriptor.height}};return v.descriptor.lct&&v.descriptor.lct.exists?R.colorTable=v.lct:R.colorTable=_,B.gce&&(R.delay=(B.gce.delay||10)*10,R.disposalType=B.gce.extras.disposal,B.gce.extras.transparentColorGiven&&(R.transparentIndex=B.gce.transparentColorIndex)),x&&(R.patch=h(R)),R}};Ko.decompressFrame=f;var p=function(B,_){return B.frames.filter(function(x){return x.image}).map(function(x){return f(x,B.gct,_)})};return Ko.decompressFrames=p,Ko}var _I=WN();class vp{constructor(t){if(!t||!t.length)throw new Error("Invalid frames");const[{texture:{width:e,height:n}}]=t;this.width=e,this.height=n,this.frames=t,this.textures=this.frames.map(s=>s.texture),this.totalFrames=this.frames.length,this.duration=this.frames[this.totalFrames-1].end}destroy(){for(const t of this.textures)t.destroy(!0);for(const t of this.frames)t.texture=null;this.frames.length=0,this.textures.length=0,Object.assign(this,{frames:null,textures:null,width:0,height:0,duration:0,totalFrames:0})}static from(t,e){if(!t||t.byteLength===0)throw new Error("Invalid buffer");const n=S=>{let R=null;for(const O of S.frames)R=O.gce??R,"image"in O&&!("gce"in O)&&(O.gce=R)},s=_I.parseGIF(t);n(s);const l=_I.decompressFrames(s,!0),c=[],h=s.lsd.width,f=s.lsd.height,p=Ee.get().createCanvas(h,f),y=p.getContext("2d",{willReadFrequently:!0}),B=Ee.get().createCanvas(),_=B.getContext("2d");let x=0,v=null;const T=1e3/(e?.fps??30);for(let S=0;S<l.length;S++){const{disposalType:R=2,delay:O=T,patch:D,dims:{width:F,height:j,left:$,top:V}}=l[S];B.width=F,B.height=j,_.clearRect(0,0,F,j);const gt=_.createImageData(F,j);gt.data.set(D),_.putImageData(gt,0,0),R===3&&(v=y.getImageData(0,0,h,f)),y.drawImage(B,$,V);const ht=y.getImageData(0,0,h,f);R===2?y.clearRect(0,0,h,f):R===3&&y.putImageData(v,0,0);const At=Ee.get().createCanvas(ht.width,ht.height);At.getContext("2d").putImageData(ht,0,0),c.push({start:x,end:x+O,texture:new Ut({source:new Ao({resource:At})})}),x+=O}return p.width=p.height=0,B.width=B.height=0,new vp(c)}}const ZN={extension:J.Asset,detection:{test:async()=>!0,add:async i=>[...i,"gif"],remove:async i=>i.filter(t=>t!=="gif")},loader:{name:"gifLoader",test:i=>Oa.extname(i)===".gif"||i.startsWith("data:image/gif"),load:async(i,t)=>{const n=await(await Ee.get().fetch(i)).arrayBuffer();return vp.from(n,t?.data)},unload:async i=>{i.destroy()}}},$N=class a0 extends zc{constructor(...t){const e=t[0]instanceof vp?{source:t[0]}:t[0],{scaleMode:n,source:s,fps:l,loop:c,animationSpeed:h,autoPlay:f,autoUpdate:p,onComplete:y,onFrameChange:B,onLoop:_,...x}=Object.assign({},a0.defaultOptions,e);super({texture:Ut.EMPTY,...x}),this.animationSpeed=1,this.loop=!0,this.duration=0,this.autoPlay=!0,this.dirty=!1,this._currentFrame=0,this._autoUpdate=!1,this._isConnectedToTicker=!1,this._playing=!1,this._currentTime=0,this.onRender=()=>this._updateFrame(),this.texture=s.textures[0],this.duration=s.frames[s.frames.length-1].end,this._source=s,this._playing=!1,this._currentTime=0,this._isConnectedToTicker=!1,Object.assign(this,{fps:l,loop:c,animationSpeed:h,autoPlay:f,autoUpdate:p,onComplete:y,onFrameChange:B,onLoop:_}),this.currentFrame=0,f&&this.play()}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Mn.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Mn.shared.add(this.update,this,Yc.HIGH),this._isConnectedToTicker=!0),!this.loop&&this.currentFrame===this._source.frames.length-1&&(this._currentTime=0))}get progress(){return this._currentTime/this.duration}get playing(){return this._playing}update(t){if(!this._playing)return;const e=this.animationSpeed*t.deltaTime/Mn.targetFPMS,n=this._currentTime+e,s=n%this.duration,l=this._source.frames.findIndex(c=>c.start<=s&&c.end>s);n>=this.duration?this.loop?(this._currentTime=s,this._updateFrameIndex(l),this.onLoop?.()):(this._currentTime=this.duration,this._updateFrameIndex(this.totalFrames-1),this.onComplete?.(),this.stop()):(this._currentTime=s,this._updateFrameIndex(l))}_updateFrame(){this.dirty&&(this.texture=this._source.frames[this._currentFrame].texture,this.dirty=!1)}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Mn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Mn.shared.add(this.update,this),this._isConnectedToTicker=!0))}get currentFrame(){return this._currentFrame}set currentFrame(t){this._updateFrameIndex(t),this._currentTime=this._source.frames[t].start}get source(){return this._source}_updateFrameIndex(t){if(t<0||t>=this.totalFrames)throw new Error(`Frame index out of range, expecting 0 to ${this.totalFrames}, got ${t}`);this._currentFrame!==t&&(this._currentFrame=t,this.dirty=!0,this.onFrameChange?.(t))}get totalFrames(){return this._source.totalFrames}destroy(t=!1){this.stop(),super.destroy(),t&&this._source.destroy();const e=null;this._source=e,this.onComplete=e,this.onFrameChange=e,this.onLoop=e}clone(){const t=new a0({source:this._source,autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.source.scaleMode,animationSpeed:this.animationSpeed,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop});return t.dirty=!0,t}};$N.defaultOptions={scaleMode:"linear",fps:30,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null};Xt.add(ZN);const bd={FONT_FAMILIES:{PRIMARY:'"Noto Sans KR", "Malgun Gothic", Arial, sans-serif'},FONT_SIZES:{MEDIUM:16},COLORS:{PRIMARY:U.TEXT_PRIMARY,SECONDARY:U.TEXT_SECONDARY},LAYOUT:{KOREAN_ENGLISH_RATIO:.8}},gE=({text:i,x:t=0,y:e=0,anchor:n=0,style:s,visible:l=!0,alpha:c=1})=>{J0();const h=new Ri({fontFamily:bd.FONT_FAMILIES.PRIMARY,fontSize:bd.FONT_SIZES.MEDIUM,fill:bd.COLORS.PRIMARY,align:"left"}),f=s||h;return w.jsxs("pixiContainer",{x:t,y:e,visible:l,alpha:c,children:[w.jsx("pixiText",{text:i.korean,style:f,anchor:n,y:0}),i.english&&w.jsx("pixiText",{text:i.english,style:new Ri({...f,fontSize:f.fontSize*bd.LAYOUT.KOREAN_ENGLISH_RATIO,fill:bd.COLORS.SECONDARY}),anchor:n,y:f.fontSize+4})]})},tU=({menuItems:i,selectedIndex:t,onModeSelect:e,width:n,height:s,x:l,y:c})=>{const[h,f]=pt.useState(null);return w.jsxs("pixiContainer",{x:l,y:c,layout:{width:n,height:s,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:24,padding:20},"data-testid":"menu-section",children:[w.jsx("pixiGraphics",{draw:p=>{p.clear(),p.fill({color:U.UI_BACKGROUND_DARK,alpha:.92}),p.roundRect(0,0,n,s,8),p.fill(),p.stroke({width:2,color:U.PRIMARY_CYAN,alpha:.7}),p.roundRect(0,0,n,s,8),p.stroke(),p.stroke({width:1,color:U.ACCENT_GOLD,alpha:.4}),p.roundRect(4,4,n-8,s-8,6),p.stroke()},"data-testid":"menu-panel-background"}),w.jsx(gE,{text:{korean:"메인 메뉴",english:"Main Menu"},style:{fontSize:18,fill:U.ACCENT_GOLD,align:"center",fontWeight:"bold",fontFamily:pu.KOREAN},x:n/2,y:20,anchor:.5,"data-testid":"menu-title"}),w.jsx("pixiContainer",{x:20,y:50,layout:{width:n-40,flexDirection:"column",gap:16},"data-testid":"main-menu-buttons",children:i.map((p,y)=>{const B=t===y,_=h===y;return w.jsxs("pixiContainer",{y:y*60,layout:{width:n-40,height:50,marginBottom:12},"data-testid":`menu-item-${p.mode}`,children:[w.jsx("pixiGraphics",{draw:x=>{x.clear(),x.fill({color:B?U.ACCENT_GOLD:_?U.UI_BACKGROUND_LIGHT:U.UI_BACKGROUND_MEDIUM,alpha:B?.9:.8}),x.roundRect(0,0,n-40,50,5),x.fill(),x.stroke({width:1,color:B?U.ACCENT_ORANGE:_?U.ACCENT_GOLD:U.PRIMARY_CYAN,alpha:B?.9:.6}),x.roundRect(0,0,n-40,50,5),x.stroke(),B&&(x.fill({color:U.ACCENT_GOLD,alpha:.9}),x.roundRect(0,0,4,50,2),x.fill())},interactive:!0,onPointerDown:()=>e(p.mode),onPointerOver:()=>f(y),onPointerOut:()=>f(null)}),w.jsx(gE,{text:{korean:p.korean,english:p.english},style:{fontSize:16,fill:B?U.UI_BACKGROUND_DARK:U.TEXT_PRIMARY,align:"center",fontFamily:pu.KOREAN,fontWeight:B?"bold":"normal"},x:(n-40)/2,y:25,anchor:.5})]},p.mode)})}),w.jsx(gE,{text:{korean:"방향키로 메뉴 이동, Enter 키로 선택",english:"Use arrow keys to navigate, Enter to select"},style:{fontSize:12,fill:U.TEXT_SECONDARY,align:"center",fontStyle:"italic",fontFamily:pu.KOREAN},x:n/2,y:s-20,anchor:.5,"data-testid":"menu-navigation-hint"})]})},eU=({title:i,subtitle:t,size:e="medium",alignment:n="center",x:s=0,y:l=0,showUnderline:c=!0})=>{J0();const h=e==="large"?32:e==="medium"?24:18,f=h*.7,p=pE.useMemo(()=>new Ri({fontFamily:pu.KOREAN,fontSize:h,fill:U.ACCENT_GOLD,fontWeight:"bold",align:n}),[h,n]),y=pE.useMemo(()=>new Ri({fontFamily:pu.KOREAN,fontSize:f,fill:U.TEXT_SECONDARY,align:n}),[f,n]),B=n==="center"?.5:n==="right"?1:0;return w.jsxs("pixiContainer",{x:s,y:l,"data-testid":"korean-header",children:[w.jsx("pixiText",{text:i.korean,style:p,anchor:B}),w.jsx("pixiText",{text:i.english,style:new Ri({...p,fontSize:h*.6,fill:U.TEXT_TERTIARY}),anchor:B,y:h+5}),c&&w.jsx("pixiGraphics",{draw:_=>{_.clear(),_.stroke({width:2,color:U.ACCENT_GOLD,alpha:.6}),_.roundRect(0,0,100,10,8),_.stroke(),_.stroke({width:1,color:U.PRIMARY_CYAN,alpha:.4}),_.circle(50,5,20),_.stroke()},y:h+15}),t&&w.jsx("pixiText",{text:t.korean,style:y,anchor:B,y:h+30})]})};Qp({Container:He,LayoutContainer:XN});const iU=pt.lazy(()=>Zo(()=>Promise.resolve().then(()=>hU),void 0,import.meta.url)),nU=pt.lazy(()=>Zo(()=>Promise.resolve().then(()=>dU),void 0,import.meta.url));function aU(){const[i,t]=pt.useState({width:window.innerWidth,height:window.innerHeight});return pt.useEffect(()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),i}const Sd=[{mode:Ua.VERSUS,korean:"대전",english:"Combat"},{mode:Ua.TRAINING,korean:"훈련",english:"Training"},{mode:Ua.CONTROLS,korean:"조작",english:"Controls"},{mode:Ua.PHILOSOPHY,korean:"철학",english:"Philosophy"}],ts=[{id:"musa",korean:"무사",english:"Warrior",description:"전통적인 명예로운 전사",color:U.TRIGRAM_GEON_PRIMARY,textureKey:"musa"},{id:"amsalja",korean:"암살자",english:"Shadow Assassin",description:"은밀한 그림자 전투원",color:U.TRIGRAM_SON_PRIMARY,textureKey:"amsalja"},{id:"hacker",korean:"해커",english:"Cyber Warrior",description:"기술 강화 사이버 전사",color:U.PRIMARY_CYAN,textureKey:"hacker"},{id:"jeongbo_yowon",korean:"정보요원",english:"Intelligence Operative",description:"전략적 정보 분석가",color:U.TRIGRAM_TAE_PRIMARY,textureKey:"jeongboYowon"},{id:"jojik_pokryeokbae",korean:"조직폭력배",english:"Organized Crime",description:"무자비한 거리 생존자",color:U.TRIGRAM_JIN_PRIMARY,textureKey:"jojikPokryeokbae"}],xI=({onMenuSelect:i,width:t,height:e})=>{const n=_v(),s=pt.useRef(!1),[l,c]=pt.useState("menu"),[h,f]=pt.useState(null),[p,y]=pt.useState(null),[B,_]=pt.useState(null),[x,v]=pt.useState({amsalja:null,hacker:null,jeongboYowon:null,jojikPokryeokbae:null,musa:null}),[T,S]=pt.useState(0),[R,O]=pt.useState(0),{width:D,height:F}=aU(),j=t??D,$=e??F;pt.useEffect(()=>{let H=!1;try{f(Ut.from("/assets/visual/bg/intro/intro_bg_placeholder.png"))}catch{}const It=setTimeout(async()=>{try{const Et="/assets/visual/bg/intro/intro_bg_loop.png",Gt="/assets/visual/logo/black-trigram.png",Kt="/assets/visual/bg/dojang/dojang_wall_tex.png",kt={amsalja:"/assets/visual/archetypes/amsalja.png",hacker:"/assets/visual/archetypes/hacker.png",jeongboYowon:"/assets/visual/archetypes/jeongbo_yowon.png",jojikPokryeokbae:"/assets/visual/archetypes/jojik_pokryeokbae.png",musa:"/assets/visual/archetypes/musa.png"},Lt=await oo.load(Et).catch(()=>null);Lt&&!H&&f(Lt);const[oe,ui]=await Promise.all([oo.load(Gt).catch(()=>null),oo.load(Kt).catch(()=>null)]);if(H)return;oe&&y(oe),ui&&_(ui);const wn=await Promise.all(Object.entries(kt).map(async([pe,Ke])=>{const _i=await oo.load(Ke).catch(()=>null);return{key:pe,texture:_i}}));if(H)return;const Fi={...x};wn.forEach(({key:pe,texture:Ke})=>{Ke&&(Fi[pe]=Ke)}),v(Fi)}catch{}},100);return()=>{clearTimeout(It),H=!0}},[]),pt.useEffect(()=>{const H=()=>{n.isInitialized&&!s.current&&(s.current=!0,n.playMusic("intro_theme")),window.removeEventListener("keydown",H),window.removeEventListener("mousedown",H),window.removeEventListener("touchstart",H)};return window.addEventListener("keydown",H,{once:!0}),window.addEventListener("mousedown",H,{once:!0}),window.addEventListener("touchstart",H,{once:!0}),()=>{window.removeEventListener("keydown",H),window.removeEventListener("mousedown",H),window.removeEventListener("touchstart",H),n.stopMusic()}},[n.isInitialized,n]),pt.useEffect(()=>{const H=ut=>{if(l!=="menu"&&ut.key==="Escape"){c("menu"),n.playSFX("menu_back");return}if(l==="menu")if(ut.key==="ArrowUp")O(It=>{const Et=It===0?Sd.length-1:It-1;return n.playSFX("menu_hover"),Et});else if(ut.key==="ArrowDown")O(It=>{const Et=It===Sd.length-1?0:It+1;return n.playSFX("menu_hover"),Et});else if(ut.key===" "||ut.key==="Enter")n.playSFX("menu_select"),V(Sd[R].mode);else if(ut.key==="ArrowLeft")S(It=>It===0?ts.length-1:It-1),n.playSFX("menu_hover");else if(ut.key==="ArrowRight")S(It=>(It+1)%ts.length),n.playSFX("menu_hover");else switch(ut.key){case"1":O(0),n.playSFX("menu_select"),V(Ua.VERSUS);break;case"2":O(1),n.playSFX("menu_select"),V(Ua.TRAINING);break;case"3":O(2),n.playSFX("menu_select"),V(Ua.CONTROLS);break;case"4":O(3),n.playSFX("menu_select"),V(Ua.PHILOSOPHY);break;case"c":case"C":c("controls"),n.playSFX("menu_select");break;case"p":case"P":c("philosophy"),n.playSFX("menu_select");break}};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[i,l,n,R]);const V=pt.useCallback(H=>{H===Ua.CONTROLS?c("controls"):H===Ua.PHILOSOPHY?c("philosophy"):i(H)},[i]),gt=pt.useCallback(H=>{const ut=Sd.findIndex(It=>It.mode===H);O(ut>=0?ut:0),n.playSFX("menu_select"),V(H)},[n,V]),ht=pt.useCallback(()=>{c("menu"),n.playSFX("menu_back")},[n]),At=j<768,L=j>=768&&j<1024,Dt=At?Math.min(j,$)*.35*.75:L?Math.min(j,$)*.25*.75:Math.min(j,$)*.2*.75,Ot=$*(At?.48:L?.43:.38),Rt=Ot+(At?260:L?280:300),ne=pt.useCallback(H=>{H.clear();const ut=new Ms(0,0,j,$);ut.addColorStop(0,657935),ut.addColorStop(.5,1710638),ut.addColorStop(1,986915),H.fill(ut),H.rect(0,0,j,$),H.fill(),H.stroke({width:1,color:U.PRIMARY_CYAN,alpha:.15});const It=At?40:60;for(let Et=0;Et<j;Et+=It)H.moveTo(Et,0),H.lineTo(Et,$);for(let Et=0;Et<$;Et+=It)H.moveTo(0,Et),H.lineTo(j,Et);H.stroke(),H.stroke({width:2,color:U.ACCENT_GOLD,alpha:.3}),H.moveTo(0,$*.2),H.lineTo(j,$*.2),H.moveTo(0,$*.8),H.lineTo(j,$*.8),H.stroke()},[j,$,At]),P=()=>{const H=At?140:L?180:220;return{width:H,height:At?230:L?290:360,scale:H/331}},Z=At?j*.95:L?j*.8:j*.5,Bt=P(),St=()=>l==="philosophy"?w.jsx(pt.Suspense,{fallback:w.jsxs("pixiContainer",{children:[w.jsx("pixiGraphics",{draw:H=>{H.clear(),H.fill({color:U.UI_BACKGROUND_DARK,alpha:.8}),H.roundRect(0,0,j*.9,$*.5,8),H.fill()}}),w.jsx("pixiText",{text:"로딩 중...",style:{fontSize:24,fill:U.TEXT_PRIMARY},x:j*.45,y:$*.25,anchor:.5})]}),children:w.jsx(iU,{onBack:ht,width:j*.9,height:$*.8,x:j*.05,y:$*.1,"data-testid":"philosophy-section"})}):l==="controls"?w.jsx(pt.Suspense,{fallback:w.jsxs("pixiContainer",{children:[w.jsx("pixiGraphics",{draw:H=>{H.clear(),H.fill({color:U.UI_BACKGROUND_DARK,alpha:.8}),H.roundRect(0,0,j*.9,$*.5,8),H.fill()}}),w.jsx("pixiText",{text:"로딩 중...",style:{fontSize:24,fill:U.TEXT_PRIMARY},x:j*.45,y:$*.25,anchor:.5})]}),children:w.jsx(nU,{onBack:ht,width:j*.9,height:$*.8,x:j*.05,y:$*.1,"data-testid":"controls-section"})}):null;return w.jsxs("pixiContainer",{"data-testid":"intro-screen",layout:{width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"space-between",paddingTop:At?"5%":"2%",paddingBottom:"2%",paddingLeft:At?"3%":"5%",paddingRight:At?"3%":"5%",gap:At?8:16},children:[w.jsx("pixiGraphics",{draw:ne,"data-testid":"intro-background"}),h&&w.jsx("pixiSprite",{texture:h,x:0,y:0,width:j,height:$,alpha:.4,"data-testid":"intro-bg-texture"}),B&&w.jsx("pixiSprite",{texture:B,x:j*.8,y:0,width:j*.3,height:$,alpha:.2,"data-testid":"dojang-wall-accent"}),w.jsxs("pixiContainer",{x:j/2,y:$*.16,"data-testid":"logo-section",children:[p&&w.jsx("pixiSprite",{texture:p,x:0,y:0,scale:{x:Dt/512,y:Dt/512},anchor:{x:.5,y:.5},alpha:1,"data-testid":"main-logo"}),w.jsx("pixiGraphics",{draw:H=>{H.clear(),H.fill({color:U.PRIMARY_CYAN,alpha:.1}),H.circle(0,0,Dt*.6),H.fill(),H.stroke({width:2,color:U.ACCENT_GOLD,alpha:.6}),H.circle(0,0,Dt*.8),H.stroke()},"data-testid":"logo-glow-effect"}),w.jsx("pixiContainer",{y:Dt*.7,"data-testid":"trigram-symbols",children:w.jsx("pixiText",{text:"☰ ☱ ☲ ☳ ☴ ☵ ☶ ☷",style:{fontSize:At?20:28,fill:U.PRIMARY_CYAN,align:"center",letterSpacing:At?8:12},anchor:.5,"data-testid":"trigram-symbols-text"})})]}),w.jsx(eU,{title:{korean:"흑괘",english:"Black Trigram"},subtitle:{korean:"한국 무술 시뮬레이터",english:"Korean Martial Arts Simulator"},x:j/2,y:$*(At?.33:.3),"data-testid":"main-title"}),l==="menu"&&w.jsxs(w.Fragment,{children:[w.jsx(tU,{menuItems:Sd,selectedIndex:R,onModeSelect:gt,width:At?j*.9:L?j*.6:400,height:320,x:j/2-(At?j*.45:L?j*.3:200),y:Ot,"data-testid":"main-menu-section"}),w.jsxs("pixiContainer",{x:j/2-Z/2,y:Rt,"data-testid":"archetype-group",children:[w.jsxs("pixiContainer",{"data-testid":"archetype-header",children:[w.jsx("pixiGraphics",{draw:H=>{H.clear(),H.fill({color:U.UI_BACKGROUND_DARK,alpha:.9}),H.roundRect(0,0,Z,40,8),H.fill(),H.stroke({width:2,color:U.ACCENT_GOLD,alpha:.8}),H.roundRect(0,0,Z,40,8),H.stroke()}}),w.jsx("pixiText",{text:"무사 선택 - Archetype Selection",style:{fontSize:At?12:16,fill:U.ACCENT_GOLD,align:"center",fontWeight:"bold"},x:Z/2,y:20,anchor:.5})]}),w.jsxs("pixiContainer",{y:50,"data-testid":"archetype-display",children:[w.jsx("pixiGraphics",{draw:H=>{H.clear();const ut=ts[T];H.fill({color:U.UI_BACKGROUND_DARK,alpha:.9}),H.roundRect(0,0,Z,At?300:240,8),H.fill(),H.stroke({width:2,color:ut.color,alpha:.8}),H.roundRect(0,0,Z,At?300:240,8),H.stroke()}}),x[ts[T].textureKey]&&w.jsx("pixiSprite",{texture:x[ts[T].textureKey],width:Bt.width,height:Bt.height,x:At?(Z-Bt.width)/2:30,y:At?10:20,interactive:!0,onPointerDown:()=>{S(H=>(H+1)%ts.length),n.playSFX("menu_hover")},"data-testid":"archetype-image"}),w.jsxs("pixiContainer",{x:At?0:Bt.width+60,y:At?Bt.height+20:20,"data-testid":"archetype-info",children:[w.jsx("pixiText",{text:`${ts[T].korean} - ${ts[T].english}`,style:{fontSize:At?14:16,fill:ts[T].color,fontWeight:"bold",align:"center"},x:At?Z/2:0,y:0,anchor:At?{x:.5,y:0}:{x:0,y:0}}),w.jsx("pixiText",{text:ts[T].description,style:{fontSize:At?12:14,fill:U.TEXT_SECONDARY,align:At?"center":"left",wordWrap:!0,wordWrapWidth:At?Z-40:Z-Bt.width-90},x:At?Z/2:0,y:30,anchor:At?{x:.5,y:0}:{x:0,y:0}}),w.jsx("pixiText",{text:`${T+1} / ${ts.length}`,style:{fontSize:12,fill:U.TEXT_SECONDARY,align:At?"center":"left"},x:At?Z/2:0,y:At?80:100,anchor:At?{x:.5,y:0}:{x:0,y:0}})]})]}),w.jsxs("pixiContainer",{y:At?360:300,"data-testid":"archetype-navigation",children:[w.jsxs("pixiContainer",{x:Z*.25-30,"data-testid":"prev-archetype-button",children:[w.jsx("pixiGraphics",{draw:H=>{H.clear(),H.fill({color:U.UI_BACKGROUND_MEDIUM,alpha:.8}),H.roundRect(0,0,60,30,5),H.fill()},interactive:!0,onPointerDown:()=>{S(H=>H===0?ts.length-1:H-1),n.playSFX("menu_hover")}}),w.jsx("pixiText",{text:"◀ 이전",style:{fontSize:12,fill:U.TEXT_PRIMARY,align:"center"},x:30,y:15,anchor:.5})]}),w.jsxs("pixiContainer",{x:Z*.75-30,"data-testid":"next-archetype-button",children:[w.jsx("pixiGraphics",{draw:H=>{H.clear(),H.fill({color:U.UI_BACKGROUND_MEDIUM,alpha:.8}),H.roundRect(0,0,60,30,5),H.fill()},interactive:!0,onPointerDown:()=>{S(H=>(H+1)%ts.length),n.playSFX("menu_hover")}}),w.jsx("pixiText",{text:"다음 ▶",style:{fontSize:12,fill:U.TEXT_PRIMARY,align:"center"},x:30,y:15,anchor:.5})]})]})]})]}),l!=="menu"&&St(),w.jsxs("pixiContainer",{x:j/2,y:$-(At?40:60),"data-testid":"intro-footer",children:[w.jsx("pixiText",{text:"흑괘의 길을 걸어라 - Walk the Path of the Black Trigram",style:{fontSize:At?10:14,fill:U.ACCENT_CYAN,align:"center",fontStyle:"italic"},x:0,y:At?-20:-25,anchor:.5,"data-testid":"footer-motto"}),w.jsx("pixiText",{text:"Open Source Korean Martial Arts Game by Hack23",style:{fontSize:At?9:12,fill:U.SECONDARY_MAGENTA,align:"center",fontWeight:"bold"},interactive:!0,onPointerTap:()=>window.open("https://github.com/Hack23/blacktrigram","_blank"),x:0,y:At?-8:-10,anchor:.5,"data-testid":"footer-link"})]})]})};function sU(i){typeof window<"u"&&(window.blackTrigramApp=i,window.pixiApp=i,window.__PIXI_APP__=i,window.blackTrigramApp={pixiApp:i,version:"1.0.0",gameState:"intro"})}function Zg(i,t){const e=e0[i],n={x:t===0?300:500,y:400};return{id:`player_${t+1}`,name:e.name,archetype:i,health:e.baseHealth,maxHealth:e.baseHealth,ki:e.baseKi,maxKi:e.baseKi,stamina:e.baseStamina,maxStamina:e.baseStamina,energy:100,maxEnergy:100,attackPower:e.stats.attackPower,defense:e.stats.defense,speed:e.stats.speed,technique:e.stats.technique,pain:0,consciousness:100,balance:100,momentum:0,currentStance:e.coreStance,combatState:xv.IDLE,position:n,isBlocking:!1,isStunned:!1,isCountering:!1,lastActionTime:0,recoveryTime:0,lastStanceChangeTime:0,statusEffects:[],activeEffects:[],vitalPoints:[],totalDamageReceived:0,totalDamageDealt:0,hitsTaken:0,hitsLanded:0,perfectStrikes:0,vitalPointHits:0}}const rU=pt.lazy(()=>Zo(()=>Promise.resolve().then(()=>fU),void 0,import.meta.url)),oU=pt.lazy(()=>Zo(()=>Promise.resolve().then(()=>pU),void 0,import.meta.url));function lU(){J0();const[i,t]=pt.useState(null),[e,n]=pt.useState(!1),[s,l]=pt.useState(null),[c,h]=pt.useState(null),[f,p]=pt.useState(!1),[y,B]=pt.useState({width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<768,isTablet:window.innerWidth>=768&&window.innerWidth<1024,isDesktop:window.innerWidth>=1024}),_=pt.useCallback(D=>{D&&typeof window<"u"&&sU(D)},[]);pt.useEffect(()=>{const F=setInterval(()=>{const j=window.pixiApp;j&&_(j)},100);return setTimeout(()=>clearInterval(F),5e3),()=>clearInterval(F)},[_]),pt.useEffect(()=>{(async()=>{try{window.focus(),window.addEventListener("error",F=>{}),window.addEventListener("unhandledrejection",F=>{(F.reason?.message?.includes("Failed to load")||F.reason?.message?.includes("no supported source"))&&F.preventDefault()}),p(!0)}catch{p(!0)}})()},[]);const x=pt.useCallback(D=>{t(D),n(!0),l(null),h(null)},[]),v=pt.useCallback(D=>{n(!1),l(Zg(so.MUSA,D)),h({totalDamageDealt:150,totalDamageTaken:100,criticalHits:3,vitalPointHits:2,techniquesUsed:8,perfectStrikes:1,consecutiveWins:1,matchDuration:120,totalMatches:1,maxRounds:3,winner:D,totalRounds:2,currentRound:2,timeRemaining:0,combatEvents:[],finalScore:{player1:D===0?2:0,player2:D===1?2:0},roundsWon:{player1:D===0?2:0,player2:D===1?2:0},player1:{wins:D===0?1:0,losses:D===0?0:1,hitsTaken:5,hitsLanded:8,totalDamageDealt:D===0?150:100,totalDamageReceived:D===0?100:150,techniques:["천둥벽력","유수연타"],perfectStrikes:D===0?1:0,vitalPointHits:D===0?2:1,consecutiveWins:D===0?1:0,matchDuration:120},player2:{wins:D===1?1:0,losses:D===1?0:1,hitsTaken:8,hitsLanded:5,totalDamageDealt:D===1?150:100,totalDamageReceived:D===1?100:150,techniques:["화염지창","벽력일섬"],perfectStrikes:D===1?1:0,vitalPointHits:D===1?2:1,consecutiveWins:D===1?1:0,matchDuration:120}})},[]),T=pt.useCallback(()=>{t(null),n(!1),l(null),h(null)},[]),S=()=>{if(s&&c)return w.jsx(rU,{winner:s,matchStatistics:c,onReturnToMenu:T,onRestart:()=>x(i),width:y.width,height:y.height});if(e&&i)switch(i){case Ua.TRAINING:return w.jsx(oU,{player:O,onPlayerUpdate:j=>{},onReturnToMenu:T,width:y.width,height:y.height});case Ua.VERSUS:case Ua.PRACTICE:const D=Zg(so.MUSA,0),F=Zg(so.AMSALJA,1);return w.jsx(KG,{players:[D,F],currentRound:1,timeRemaining:180,isPaused:!1,onPlayerUpdate:(j,$)=>{},onReturnToMenu:T,onGameEnd:v,gameMode:i,width:y.width,height:y.height});default:return w.jsx(xI,{onMenuSelect:x,width:y.width,height:y.height})}return w.jsx(xI,{onMenuSelect:x,width:y.width,height:y.height})},R=pt.useRef(null);if(pt.useEffect(()=>{R.current?.focus()},[f]),pt.useEffect(()=>{const D=()=>{const F=window.innerWidth,j=window.innerHeight;B({width:F,height:j,isMobile:F<768,isTablet:F>=768&&F<1024,isDesktop:F>=1024})};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),!f)return w.jsx("div",{className:"app loading","data-testid":"app-container",children:w.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"white",backgroundColor:"#1a1a2e"},children:"흑괘 로딩 중... Loading Black Trigram..."})});const O=Zg(so.MUSA,0);return w.jsx(q0,{children:w.jsx("div",{className:"app",tabIndex:0,ref:R,style:{outline:"none",width:"100vw",height:"100vh",overflow:"hidden"},"data-testid":"app-container",children:w.jsx(RG,{width:y.width,height:y.height,backgroundColor:657935,antialias:!0,autoDensity:!0,resizeTo:window,children:S()})})})}const AU=Rb.createRoot(document.getElementById("root"));AU.render(w.jsx(pE.StrictMode,{children:w.jsx(q0,{children:w.jsx(lU,{})})}));document.title="흑괘 무술 도장 - Black Trigram Martial Arts";Xt.add(XS);Xt.mixin(He,VS);Xt.add(b_);Xt.add(S_);Xt.add(ax);Xt.mixin(He,CD);Xt.add(nx);Xt.add(UQ);Xt.add(v0);Xt.add(jQ);Xt.add(VQ);Xt.add(qQ);Xt.add(ov);Xt.add(rv);Xt.add(iv);Xt.add(sv);Xt.add(nv);Xt.add(ev);Xt.add(tv);Xt.add(rx);Xt.add(sx);const uU=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),cU=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),QI=({onBack:i,x:t=0,y:e=0,width:n=800,height:s=600})=>w.jsxs("pixiContainer",{x:t,y:e,layout:{width:n,height:s,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:32,gap:24},"data-testid":"philosophy-section",children:[w.jsx("pixiGraphics",{draw:c=>{c.clear(),c.fill({color:U.UI_BACKGROUND_DARK,alpha:.95}),c.roundRect(0,0,n,s,10),c.fill(),c.stroke({width:2,color:U.ACCENT_GOLD,alpha:.6}),c.roundRect(0,0,n,s,10),c.stroke()}}),w.jsx("pixiText",{text:"무술 철학 (Martial Philosophy)",style:{fontSize:32,fill:U.ACCENT_GOLD,fontFamily:"Arial, sans-serif",align:"center"},x:n/2,y:40,anchor:.5}),w.jsx("pixiText",{text:`
흑괘 (Black Trigram) - 한국 무술의 철학

팔괘는 고대 중국의 역경(I Ching)에서 유래한 
여덟 가지 기본 기호로, 우주의 모든 현상을 
나타냅니다. 한국 무술에서는 이를 전투 자세와 
연결하여 몸과 마음의 조화를 추구합니다.

• 건 (☰) - 하늘: 직접적인 힘
• 태 (☱) - 호수: 유연한 적응
• 리 (☲) - 불: 정밀한 공격
• 진 (☳) - 천둥: 폭발적인 힘
• 손 (☴) - 바람: 지속적인 압박
• 감 (☵) - 물: 흐름과 반격
• 간 (☶) - 산: 견고한 방어
• 곤 (☷) - 땅: 포용과 제압

무술은 단순한 격투가 아닌, 자신을 수양하고
상대를 존중하는 도(道)입니다.
  `,style:{fontSize:16,fill:U.TEXT_PRIMARY,fontFamily:"Arial, sans-serif",align:"left",wordWrap:!0,wordWrapWidth:n-80,lineHeight:24},x:40,y:100}),w.jsxs("pixiContainer",{x:n-150,y:s-80,layout:{alignSelf:"flex-end"},children:[w.jsx("pixiGraphics",{draw:c=>{c.clear(),c.fill({color:U.ACCENT_RED,alpha:.8}),c.roundRect(0,0,120,40,5),c.fill()},interactive:!0,onPointerDown:i}),w.jsx("pixiText",{text:"돌아가기",style:{fontSize:16,fill:U.TEXT_PRIMARY,align:"center"},x:60,y:20,anchor:.5})]})]}),hU=Object.freeze(Object.defineProperty({__proto__:null,PhilosophySection:QI,default:QI},Symbol.toStringTag,{value:"Module"})),vI=({onBack:i,x:t=0,y:e=0,width:n=800,height:s=600})=>{const l=n<768,c=n>=768&&n<1024;return w.jsxs(Wo,{title:"조작법 (Controls)",x:t,y:e,width:n,height:s,screenWidth:n,screenHeight:s,"data-testid":"controls-section",children:[w.jsxs(ro,{x:0,y:0,screenWidth:n,screenHeight:s,"data-testid":"trigram-controls",children:[w.jsx("pixiText",{text:"팔괘 자세 (Trigram Stances)",style:{fontSize:l?18:24,fill:U.TEXT_PRIMARY,fontFamily:"Arial, sans-serif",fontWeight:"bold"},x:20,y:0}),w.jsx(ro,{x:20,y:35,screenWidth:n,screenHeight:s,"data-testid":"stance-controls-grid",children:Object.entries(VC.stanceControls).map(([h,f],p)=>{const y=l?2:4,B=l?160:180,_=l?40:35,x=p%y*(B+10),v=Math.floor(p/y)*(_+10);return w.jsxs(ro,{x,y:v,screenWidth:n,screenHeight:s,"data-testid":`stance-control-${h}`,children:[w.jsx("pixiGraphics",{draw:T=>{T.clear(),T.fill({color:U.UI_BACKGROUND_MEDIUM,alpha:.8}),T.roundRect(0,0,B,_,6),T.fill(),T.stroke({width:1,color:U.ACCENT_GOLD,alpha:.6}),T.roundRect(0,0,B,_,6),T.stroke()}}),w.jsx("pixiText",{text:`${h}: ${f.korean} (${f.technique})`,style:{fontSize:l?10:12,fill:U.TEXT_SECONDARY,fontFamily:"Arial, sans-serif"},x:8,y:_/2,anchor:{x:0,y:.5}})]},h)})})]}),w.jsxs(ro,{x:0,y:s*.5,screenWidth:n,screenHeight:s,"data-testid":"combat-controls",children:[w.jsx("pixiText",{text:"전투 조작 (Combat Controls)",style:{fontSize:l?18:24,fill:U.TEXT_PRIMARY,fontFamily:"Arial, sans-serif",fontWeight:"bold"},x:20,y:0}),Object.entries(VC.combat).map(([h,f],p)=>w.jsxs(ro,{x:20,y:35+p*(l?25:30),screenWidth:n,screenHeight:s,"data-testid":`combat-control-${h}`,children:[w.jsx("pixiGraphics",{draw:y=>{y.clear(),y.fill({color:U.UI_BACKGROUND_LIGHT,alpha:.6}),y.roundRect(0,0,n-80,l?20:25,4),y.fill()}}),w.jsx("pixiText",{text:`${h}: ${f}`,style:{fontSize:l?11:14,fill:U.TEXT_SECONDARY,fontFamily:"Arial, sans-serif"},x:8,y:(l?20:25)/2,anchor:{x:0,y:.5}})]},h))]}),w.jsx("pixiContainer",{x:n-150,y:s-80,layout:{alignSelf:"flex-end"},children:w.jsx(i0,{text:"돌아가기",width:120,height:40,screenWidth:n,screenHeight:s,variant:"secondary",onClick:i,"data-testid":"controls-back-button"})})]})},dU=Object.freeze(Object.defineProperty({__proto__:null,ControlsSection:vI,default:vI},Symbol.toStringTag,{value:"Module"})),bI=({winner:i,matchStatistics:t,onReturnToMenu:e,onRestart:n,width:s,height:l})=>{const{isMobile:c}=pt.useMemo(()=>({isMobile:s<768}),[s]);return w.jsxs(ro,{screenWidth:s,screenHeight:l,"data-testid":"end-screen",children:[w.jsx("pixiGraphics",{draw:h=>{h.clear();const f=new Ms(0,0,s,l);f.addColorStop(0,657935),f.addColorStop(.5,1710638),f.addColorStop(1,986915),h.fill(f),h.rect(0,0,s,l),h.fill()}}),w.jsxs("pixiContainer",{x:s/2,y:c?60:100,"data-testid":"victory-title",children:[w.jsx("pixiText",{text:"승리! - Victory!",style:{fontSize:c?32:48,fill:U.ACCENT_GOLD,fontWeight:"bold",align:"center"},anchor:.5}),w.jsx("pixiText",{text:`${i.name.korean} (${i.name.english})`,style:{fontSize:c?20:28,fill:U.PRIMARY_CYAN,align:"center"},x:0,y:c?40:60,anchor:.5})]}),w.jsxs(Wo,{title:"전투 통계 - Match Statistics",x:s/2-(c?s*.45:200),y:c?150:200,width:c?s*.9:400,height:c?250:300,screenWidth:s,screenHeight:l,"data-testid":"match-statistics",children:[w.jsx("pixiText",{text:`경기 시간: ${Math.floor(t.matchDuration/60)}:${(t.matchDuration%60).toString().padStart(2,"0")}`,style:{fontSize:c?12:14,fill:U.TEXT_PRIMARY},x:20,y:40}),w.jsx("pixiText",{text:`총 라운드: ${t.totalRounds}`,style:{fontSize:c?12:14,fill:U.TEXT_PRIMARY},x:20,y:60}),w.jsx("pixiText",{text:`치명타: ${t.criticalHits}`,style:{fontSize:c?12:14,fill:U.SECONDARY_MAGENTA},x:20,y:80}),w.jsx("pixiText",{text:`급소 공격: ${t.vitalPointHits}`,style:{fontSize:c?12:14,fill:U.ACCENT_CYAN},x:20,y:100}),w.jsx("pixiText",{text:`완벽한 일격: ${t.perfectStrikes}`,style:{fontSize:c?12:14,fill:U.ACCENT_GOLD},x:20,y:120}),w.jsx("pixiText",{text:`사용된 기술: ${t.techniquesUsed}`,style:{fontSize:c?12:14,fill:U.TEXT_SECONDARY},x:20,y:140}),w.jsx("pixiText",{text:"승자 세부 정보 - Winner Details",style:{fontSize:c?14:16,fill:U.ACCENT_GOLD,fontWeight:"bold"},x:20,y:170}),w.jsx("pixiText",{text:`유형: ${i.archetype}`,style:{fontSize:c?12:14,fill:U.TEXT_PRIMARY},x:20,y:195}),w.jsx("pixiText",{text:`최종 체력: ${i.health}/${i.maxHealth}`,style:{fontSize:c?12:14,fill:U.PRIMARY_CYAN},x:20,y:215})]}),w.jsxs(ro,{x:s/2,y:l-(c?100:120),screenWidth:s,screenHeight:l,"data-testid":"end-screen-actions",children:[w.jsx(i0,{text:"다시 시작 - Restart",x:-(c?100:120),y:0,width:c?90:110,height:c?40:50,screenWidth:s,screenHeight:l,variant:"primary",onClick:n,"data-testid":"restart-button"}),w.jsx(i0,{text:"메뉴로 - Menu",x:20,y:0,width:c?90:110,height:c?40:50,screenWidth:s,screenHeight:l,variant:"secondary",onClick:e,"data-testid":"return-menu-button"})]}),w.jsx("pixiContainer",{x:s/2,y:l-(c?40:50),"data-testid":"end-screen-footer",children:w.jsx("pixiText",{text:"흑괘의 길을 완주하셨습니다 - You have completed the Path of the Black Trigram",style:{fontSize:c?10:12,fill:U.TEXT_SECONDARY,align:"center",fontStyle:"italic"},anchor:.5})})]})},fU=Object.freeze(Object.defineProperty({__proto__:null,EndScreen:bI,default:bI},Symbol.toStringTag,{value:"Module"}));Qp({Container:He,Graphics:uo,Text:w0});const Gv=i=>{const{width:t=0,height:e=0,player:n,onPlayerUpdate:s,onReturnToMenu:l,x:c=0,y:h=0}=i,f=_v(),[p,y]=pt.useState(bt.GEON),[B,_]=pt.useState(!1),[x,v]=pt.useState("basics"),[T,S]=pt.useState({techniquesExecuted:0,perfectStrikes:0,totalDamage:0,sessionTime:0,attempts:0}),[R,O]=pt.useState({health:100,maxHealth:100,position:{x:t*.7,y:e*.5},isActive:!0}),{isMobile:D}=pt.useMemo(()=>({isMobile:t<768}),[t]);pt.useEffect(()=>{let L;return B&&(L=setInterval(()=>{S(Dt=>({...Dt,sessionTime:Dt.sessionTime+1}))},1e3)),()=>{L&&clearInterval(L)}},[B]);const F=pt.useCallback(()=>{if(R.isActive)try{const L=Math.random()*20+10,Dt=Math.random()>.7,Ot=Dt?L*1.5:L;O(Rt=>({...Rt,health:Math.max(0,Rt.health-Ot)})),S(Rt=>({...Rt,techniquesExecuted:Rt.techniquesExecuted+1,attempts:Rt.attempts+1,perfectStrikes:Dt?Rt.perfectStrikes+1:Rt.perfectStrikes,totalDamage:Rt.totalDamage+Ot}));try{Dt?f.playSFX("perfect_strike"):f.playSFX("attack_medium")}catch{}try{s({experiencePoints:(n.experiencePoints||0)+(Dt?15:10),health:n.health,stamina:Math.max(0,n.stamina-5),balance:n.balance,consciousness:n.consciousness,pain:n.pain})}catch{}R.health-Ot<=0&&setTimeout(()=>{O(Rt=>({...Rt,health:Rt.maxHealth}))},2e3)}catch{}},[R,f,s,n]),j=pt.useCallback(L=>{y(L),s({currentStance:L}),f.playSFX("stance_change")},[s,f]),$=pt.useCallback(()=>{_(!B),B?f.playSFX("match_end"):(S({techniquesExecuted:0,perfectStrikes:0,totalDamage:0,sessionTime:0,attempts:0}),f.playSFX("match_start"))},[B,f]),V=pt.useCallback(()=>{O(L=>({...L,health:L.maxHealth})),f.playSFX("ki_charge")},[f]),gt=pt.useCallback(()=>{f.playSFX("menu_select")},[f]),ht=pt.useCallback(L=>({[bt.GEON]:{korean:"건",technique:"천둥벽력"},[bt.TAE]:{korean:"태",technique:"유수연타"},[bt.LI]:{korean:"리",technique:"화염지창"},[bt.JIN]:{korean:"진",technique:"벽력일섬"},[bt.SON]:{korean:"손",technique:"선풍연격"},[bt.GAM]:{korean:"감",technique:"수류반격"},[bt.GAN]:{korean:"간",technique:"반석방어"},[bt.GON]:{korean:"곤",technique:"대지포옹"}})[L]||{korean:"Unknown",technique:"Unknown"},[]),At=Object.values(bt);return w.jsxs("pixiContainer",{x:c,y:h,interactive:!0,"data-testid":"training-screen",children:[w.jsx(Qv,{width:t,height:e,lighting:"normal",animate:!0,"data-testid":"dojang-background"}),w.jsx("pixiContainer",{x:t/2,y:30,"data-testid":"training-header",children:w.jsx("pixiText",{text:"흑괘 무술 도장",style:{fontSize:D?20:24,fill:U.ACCENT_GOLD,fontWeight:"bold",align:"center"},anchor:.5,"data-testid":"training-title"})}),w.jsx("pixiContainer",{"data-testid":"training-area",children:w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.stroke({width:1,color:U.ACCENT_GOLD,alpha:.2});const Dt=D?40:60;for(let Ot=0;Ot<t;Ot+=Dt)L.moveTo(Ot,0),L.lineTo(Ot,e);for(let Ot=0;Ot<e;Ot+=Dt)L.moveTo(0,Ot),L.lineTo(t,Ot);L.stroke(),L.stroke({width:3,color:U.PRIMARY_CYAN,alpha:.5}),L.circle(t*.5,e*.6,Math.min(t,e)*.15),L.stroke()},"data-testid":"training-grid"})}),w.jsxs(Wo,{title:"수련 모드 선택",x:D?10:20,y:D?60:80,width:D?t*.45:250,height:D?100:120,screenWidth:t,screenHeight:e,"data-testid":"training-mode-stances",children:[w.jsx("pixiText",{text:"훈련 모드:",style:{fontSize:D?10:12,fill:U.TEXT_PRIMARY},x:10,y:10,"data-testid":"mode-title"}),w.jsxs("pixiContainer",{x:10,y:30,"data-testid":"mode-basics-container",interactive:!0,onPointerDown:()=>v("basics"),children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:x==="basics"?U.PRIMARY_CYAN:U.UI_BACKGROUND_MEDIUM,alpha:.8}),L.roundRect(0,0,60,25,5),L.fill()}}),w.jsx("pixiText",{text:"기초",style:{fontSize:D?10:12,fill:U.TEXT_PRIMARY,align:"center"},x:30,y:12.5,anchor:.5})]}),w.jsxs("pixiContainer",{x:80,y:30,"data-testid":"mode-advanced-container",interactive:!0,onPointerDown:()=>v("advanced"),children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:x==="advanced"?U.PRIMARY_CYAN:U.UI_BACKGROUND_MEDIUM,alpha:.8}),L.roundRect(0,0,60,25,5),L.fill()}}),w.jsx("pixiText",{text:"고급",style:{fontSize:D?10:12,fill:U.TEXT_PRIMARY,align:"center"},x:30,y:12.5,anchor:.5})]}),w.jsxs("pixiContainer",{x:150,y:30,"data-testid":"mode-free-container",interactive:!0,onPointerDown:()=>v("free"),children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:x==="free"?U.PRIMARY_CYAN:U.UI_BACKGROUND_MEDIUM,alpha:.8}),L.roundRect(0,0,60,25,5),L.fill()}}),w.jsx("pixiText",{text:"자유",style:{fontSize:D?10:12,fill:U.TEXT_PRIMARY,align:"center"},x:30,y:12.5,anchor:.5})]}),w.jsx("pixiText",{text:`현재 모드: ${x}`,style:{fontSize:D?8:10,fill:U.TEXT_SECONDARY},x:10,y:65,"data-testid":"training-mode-display"})]}),w.jsxs("pixiContainer",{x:t*.25,y:e*.5,"data-testid":"training-player",children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:U.PRIMARY_CYAN,alpha:.8}),L.circle(0,-40,15),L.rect(-8,-25,16,40),L.rect(-6,15,5,25),L.rect(1,15,5,25),L.rect(-15,-20,10,5),L.rect(5,-20,10,5),L.fill(),L.stroke({width:2,color:U.ACCENT_GOLD,alpha:.6}),L.circle(0,-40,15),L.rect(-8,-25,16,40),L.stroke(),B&&(L.fill({color:U.ACCENT_GREEN,alpha:.3}),L.circle(0,0,50),L.fill())},scale:{x:D?.8:1,y:D?.8:1}}),w.jsx("pixiText",{text:n.name.korean,style:{fontSize:D?12:14,fill:U.TEXT_PRIMARY,align:"center",fontWeight:"bold"},x:0,y:-80,anchor:.5})]}),w.jsxs("pixiContainer",{x:R.position.x,y:R.position.y,interactive:!0,onPointerDown:F,"data-testid":"training-dummy-container",children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:U.UI_BACKGROUND_MEDIUM,alpha:.8}),L.roundRect(-30,-60,60,120,10),L.fill(),L.fill({color:U.UI_BACKGROUND_LIGHT,alpha:.9}),L.circle(0,-80,25),L.fill(),L.stroke({width:2,color:U.ACCENT_GOLD,alpha:.6}),L.circle(0,-80,15),L.circle(0,-40,10),L.circle(0,-10,8),L.circle(0,20,12),L.stroke(),R.health<R.maxHealth&&(L.fill({color:U.ACCENT_RED,alpha:.4}),L.circle(0,0,40),L.fill())},"data-testid":"training-dummy"}),w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:U.UI_BACKGROUND_DARK,alpha:.8}),L.rect(-40,-100,80,8),L.fill();const Dt=R.health/R.maxHealth;L.fill({color:Dt>.5?U.ACCENT_GREEN:Dt>.25?U.ACCENT_GOLD:U.ACCENT_RED,alpha:.9}),L.rect(-40,-100,80*Dt,8),L.fill(),L.stroke({width:1,color:U.ACCENT_GOLD,alpha:.8}),L.rect(-40,-100,80,8),L.stroke()}}),w.jsx("pixiText",{text:`${Math.ceil(R.health)}/${R.maxHealth}`,style:{fontSize:D?10:12,fill:U.TEXT_PRIMARY,align:"center"},x:0,y:-115,anchor:.5})]}),w.jsx("pixiContainer",{x:1050,y:650,"data-testid":"training-trigram-wheel",children:At.map(L=>w.jsx("pixiContainer",{"data-testid":`trigram-stance-${L}`,interactive:!0,onPointerDown:()=>j(L),children:w.jsx("pixiText",{text:L,style:{fontSize:14,fill:U.TEXT_PRIMARY},anchor:.5})},L))}),w.jsxs("pixiContainer",{x:t-(D?120:150),y:e-(D?200:220),"data-testid":"stance-selection",children:[w.jsx("pixiText",{text:"자세 선택",style:{fontSize:D?10:12,fill:U.TEXT_SECONDARY,align:"center"},anchor:.5}),w.jsxs("pixiContainer",{x:-40,y:20,interactive:!0,onPointerDown:()=>j(bt.GEON),"data-testid":"stance-geon-button-container",children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:p===bt.GEON?U.PRIMARY_CYAN:U.UI_BACKGROUND_MEDIUM,alpha:.8}),L.roundRect(0,0,25,25,5),L.fill()}}),w.jsx("pixiText",{text:"건",style:{fontSize:D?10:12,fill:U.TEXT_PRIMARY,align:"center"},x:12.5,y:12.5,anchor:.5})]})]}),w.jsx(n0,{stance:p,x:D?t/2:t*.25,y:e-(D?120:140),"data-testid":"current-stance-indicator"}),w.jsxs(Wo,{title:"훈련 제어",x:D?10:20,y:D?200:220,width:D?t*.45:250,height:D?140:180,screenWidth:t,screenHeight:e,"data-testid":"training-controls",children:[w.jsxs("pixiContainer",{x:10,y:10,interactive:!0,onPointerDown:$,"data-testid":"start-training-button-container",children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:B?U.ACCENT_RED:U.ACCENT_GREEN,alpha:.8}),L.roundRect(0,0,D?t*.35:200,35,5),L.fill()}}),w.jsx("pixiText",{text:B?"훈련 정지":"훈련 시작",style:{fontSize:D?12:14,fill:U.TEXT_PRIMARY,align:"center"},x:(D?t*.35:200)/2,y:17.5,anchor:.5})]}),B&&w.jsxs("pixiContainer",{x:10,y:55,interactive:!0,onPointerDown:F,"data-testid":"execute-technique-button-container",children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:U.ACCENT_CYAN,alpha:.8}),L.roundRect(0,0,D?t*.35:200,35,5),L.fill()}}),w.jsx("pixiText",{text:`${ht(p).technique} 실행`,style:{fontSize:D?12:14,fill:U.TEXT_PRIMARY,align:"center"},x:(D?t*.35:200)/2,y:17.5,anchor:.5})]}),w.jsxs("pixiContainer",{x:10,y:100,interactive:!0,onPointerDown:V,"data-testid":"reset-dummy-button-container",children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:U.UI_BACKGROUND_MEDIUM,alpha:.8}),L.roundRect(0,0,D?t*.35:200,30,5),L.fill()}}),w.jsx("pixiText",{text:"더미 리셋",style:{fontSize:D?12:14,fill:U.TEXT_PRIMARY,align:"center"},x:(D?t*.35:200)/2,y:15,anchor:.5})]}),w.jsxs("pixiContainer",{x:10,y:140,interactive:!0,onPointerDown:gt,"data-testid":"evaluate-button-container",children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:U.UI_BACKGROUND_MEDIUM,alpha:.8}),L.roundRect(0,0,D?t*.35:200,30,5),L.fill()}}),w.jsx("pixiText",{text:"평가",style:{fontSize:D?12:14,fill:U.TEXT_PRIMARY,align:"center"},x:(D?t*.35:200)/2,y:15,anchor:.5})]})]}),w.jsxs(Wo,{title:"훈련 통계",x:t-(D?t*.45+10:270),y:D?200:220,width:D?t*.45:250,height:D?140:180,screenWidth:t,screenHeight:e,"data-testid":"training-stats-panel",children:[w.jsx("pixiText",{text:"훈련 통계",style:{fontSize:D?10:12,fill:U.ACCENT_GOLD,fontWeight:"bold"},x:10,y:-5,"data-testid":"stats-title"}),w.jsx("pixiText",{text:`시도: ${T.attempts}`,style:{fontSize:D?10:12,fill:U.TEXT_PRIMARY},x:10,y:15,"data-testid":"attempts-count"}),w.jsx("pixiText",{text:`기술 실행: ${T.techniquesExecuted}`,style:{fontSize:D?10:12,fill:U.TEXT_PRIMARY},x:10,y:35}),w.jsx("pixiText",{text:`완벽한 타격: ${T.perfectStrikes}`,style:{fontSize:D?10:12,fill:U.ACCENT_GREEN},x:10,y:55}),w.jsx("pixiText",{text:`총 데미지: ${Math.ceil(T.totalDamage)}`,style:{fontSize:D?10:12,fill:U.ACCENT_GOLD},x:10,y:75}),w.jsx("pixiText",{text:`세션 시간: ${Math.floor(T.sessionTime/60)}:${String(T.sessionTime%60).padStart(2,"0")}`,style:{fontSize:D?10:12,fill:U.TEXT_SECONDARY},x:10,y:95,"data-testid":"session-time"}),w.jsx("pixiText",{text:`현재 자세: ${ht(p).korean}`,style:{fontSize:D?10:12,fill:U.PRIMARY_CYAN,fontWeight:"bold"},x:10,y:115}),w.jsx("pixiText",{text:`경험치: ${n.experiencePoints||0}`,style:{fontSize:D?10:12,fill:U.ACCENT_CYAN},x:10,y:135}),w.jsx("pixiText",{text:"계속 연습하세요!",style:{fontSize:D?8:10,fill:U.TEXT_SECONDARY,fontStyle:"italic"},x:10,y:155,"data-testid":"feedback-message"})]}),w.jsxs("pixiContainer",{x:D?t/2-80:t/2-100,y:e-(D?40:50),interactive:!0,onPointerDown:l,"data-testid":"return-to-menu-button-container",children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:U.UI_BACKGROUND_MEDIUM,alpha:.8}),L.roundRect(0,0,D?160:200,D?30:40,5),L.fill(),L.stroke({width:1,color:U.PRIMARY_CYAN,alpha:.8}),L.roundRect(0,0,D?160:200,D?30:40,5),L.stroke()}}),w.jsx("pixiText",{text:"메뉴로 돌아가기",style:{fontSize:D?12:14,fill:U.TEXT_PRIMARY,align:"center"},x:(D?160:200)/2,y:(D?30:40)/2,anchor:.5})]}),B&&w.jsxs("pixiContainer",{x:t/2,y:50,"data-testid":"training-status",children:[w.jsx("pixiGraphics",{draw:L=>{L.clear(),L.fill({color:U.ACCENT_GREEN,alpha:.8}),L.roundRect(-60,-15,120,30,8),L.fill()}}),w.jsx("pixiText",{text:"훈련 중",style:{fontSize:D?14:16,fill:U.BLACK_SOLID,fontWeight:"bold",align:"center"},anchor:.5})]})]})},gU=i=>w.jsx(q0,{children:w.jsx(Gv,{...i,width:i.width,height:i.height})}),pU=Object.freeze(Object.defineProperty({__proto__:null,TrainingScreen:Gv,default:gU},Symbol.toStringTag,{value:"Module"}));
